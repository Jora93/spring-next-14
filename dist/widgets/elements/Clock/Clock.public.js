(function(){"use strict";try{if(typeof document!="undefined"){var e=document.createElement("style");e.appendChild(document.createTextNode(".clock__element{min-height:14px;color:var(--v3-text-color);gap:4px}.clock__element--divider{display:inline-block!important;height:10px!important;border-color:var(--v3-black-15)}.loginDurationClock{min-width:64px;display:inline-flex;padding:0 2px}")),document.head.appendChild(e)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})();
import{j as s}from"../../../chunks/index.053dea56.js";import{WidgetWrapper as C}from"../../Wrapper.js";import{useState as p,useEffect as _}from"react";import{C as r,S as D,a as x,t as M,d as O,b as y,c as R,e as U}from"../../../chunks/backend-status-codes.80bfe624.js";import{D as w}from"../../../chunks/index.b35b9773.js";import{g as A,a as k}from"../../../chunks/user-data.f480309c.js";import{u as $}from"../../../chunks/index.ffa75b49.js";import"react-dom";import"../../../chunks/i18next.083d61f0.js";import"../../../chunks/QueryClientProvider.04e144dd.js";import"../../../chunks/weekday.e2afce7e.js";import"../../../chunks/global-variables.eb46f49b.js";import"../../../chunks/index.c0392060.js";import"../../../chunks/swarm-command-names.230156ba.js";import"../../../chunks/context.f61a2be2.js";import"../../../chunks/index.fbd937ed.js";const H=n=>{const c=~~(n/D),m=~~(n%D/x),d=~~n%x;let i="";return i+=`${(c<r?"0":"")+c}:${m<r?"0":""}`,i+=`${m}:${d<r?"0":""}`,i+=`${d}`,i};const S=n=>{const[c,m]=p(""),[d,i]=p(""),[E,u]=p(0),g=$(A),f=$(k),N=(e,t,o)=>{e<R?e++:(e=0,t<R?t++:(t=0,o<U?o++:o=0));let a="",l=o;const T=t<r?`0${t}`:t,h=e<r?`0${e}`:e;n.configs.twentyFourHours||(o>y?(l=o-y,a="PM"):a="AM"),l<r&&(l=`0${l}`),m(`${l}:${T}:${h}`),i(`${a}`)};_(()=>{const e=setInterval(()=>{const t=new Date;N(t.getSeconds(),t.getMinutes(),t.getHours()),u(o=>o+1)},M.DURATION_1000);return()=>clearTimeout(e)},[]),_(()=>{n.configs.loginDuration&&g&&f.last_login_date&&u(O().unix()-f.last_login_date)},[g,f]);const j=(e=>{const t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return+n.configs.specifiedFormats?`${t}/${o}/${a}`:`${a}/${o}/${t}`})(new Date),I=n.configs.loginDuration&&g&&s.jsxs("span",{children:["(",s.jsx("span",{className:"loginDurationClock",children:H(E)}),")"]});return s.jsx("div",{className:"clock__element",children:s.jsxs("span",{children:[s.jsx("span",{style:{minWidth:"64px",display:"inline-flex"},children:c}),s.jsx("span",{style:{paddingRight:"2px"},children:d}),I,+n.configs.showDate&&c?s.jsxs(s.Fragment,{children:[s.jsx(w,{type:"vertical",distance:8,className:"clock__element--divider"}),s.jsx("span",{style:{width:"80px",display:"inline-flex"},"data-testid":"clock-widget-date",children:j})]}):null]})})};S.defaultProps={configs:{twentyFourHours:0,loginDuration:!0}};const et=()=>s.jsx(C,{children:s.jsx(S,{configs:{showDate:!0,specifiedFormats:!0,twentyFourHours:0,loginDuration:!0}})});export{et as default};
