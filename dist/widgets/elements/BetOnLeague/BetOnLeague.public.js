(function(){"use strict";try{if(typeof document!="undefined"){var e=document.createElement("style");e.appendChild(document.createTextNode("#betOnLeagueIframe{height:100%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var F=Object.defineProperty;var M=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var A=(o,e,s)=>e in o?F(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,R=(o,e)=>{for(var s in e||(e={}))G.call(e,s)&&A(o,s,e[s]);if(M)for(var s of M(e))U.call(e,s)&&A(o,s,e[s]);return o};import{u as x,i as d,j as f,S as a}from"../../../chunks/index.9a33d21b.js";import{useState as H,useMemo as w,useEffect as g}from"react";import{L as j,s as k,C as D}from"../../../chunks/swarm-command-names.afa48e3f.js";import{g as $,O as B}from"../../../chunks/odds.3bca0cb7.js";import{a as h}from"../../../chunks/index.1dfc2dcd.js";import{u as J}from"../../../chunks/useContentHeight.06461539.js";import"../../../chunks/index.9e499441.js";import{g as X,a as v}from"../../../chunks/user-data.358c1cdc.js";import{u}from"../../../chunks/index.17630e7e.js";import"react-dom";const W=o=>{const[e,s]=H(!1),p=J(),r=u($),l=u(X),m=u(v),L=x(),n=JSON.parse(j.getItem(k("account","AUTH_DATA"))),O=R({},B.find(t=>t.id===r)),y=w(()=>{var t;return`https://euro2024${d()?"m":""}.betcoapps.com/?integrationMode=1${((t=o.configs)==null?void 0:t.betOnLeagueType)==="CopaAmerica"?"&leagueCenterCompetitionId=9275":""}`},[]),i=(t,_)=>{var E;const c=document.getElementById("betOnLeagueIframe");c&&c instanceof HTMLIFrameElement&&((E=c.contentWindow)==null||E.postMessage({action:t,data:_?JSON.parse(JSON.stringify(_)):null},"*"))},C=()=>{i("setConfig",{oddFormat:r})},S=()=>{const t={lang:`${a.LANGUAGE_PREFIX}`};i("setConfig",t)},P=()=>{const t={user_id:m.user_id,auth_token:n.auth_token};i(D.RESTORE_LOGIN,t)},T=()=>{i("logout")};g(()=>{m.pending||(l?P():T())},[l,m,e]);const b=()=>{const t={languageRtl:a.IS_RTL,oddFormat:r,language:`${a.LANGUAGE_PREFIX}`};i("setPreferences",t)},N=()=>{const t={site_id:a.PARTNER_ID,lang:`${a.LANGUAGE_PREFIX}`,oddType:O.id,oddFormat:O.value,socketUrl:a.SWARM_URL,platform:d()?1:0,authData:{user_id:n==null?void 0:n.user_id,auth_token:n==null?void 0:n.auth_token},partner:{},showTeamLogos:a.TEAM_LOGOS,showCompetitionLogos:a.TEAM_LOGOS};i("initialConfig",t)};g(()=>{e&&C()},[r,e]),g(()=>{e&&S()},[e]),g(()=>{e&&b()},[e,r]);const I=t=>{t.data&&(t.data.action==="appReady"&&(s(!0),N()),t.data.type==="login"?L.push(h({accounts:"*",login:"*"})):t.data.type==="register"&&L.push(h({accounts:"*",register:"*"})))};return g(()=>(window.addEventListener("message",I),()=>{document.removeEventListener("message",I)}),[]),f.jsx("div",{className:"betOnLeagueIframe__container",style:{minHeight:p,height:p},children:f.jsx("iframe",{id:"betOnLeagueIframe",src:y,width:"100%",className:d()?"betOnLeague-mobile":"betOnLeagueIframe"})})},ae=o=>{const{betOnLeagueType:e}=o.params.settings;return f.jsx(W,{configs:{betOnLeagueType:e}})};export{ae as BetOnLeaguePublic};
