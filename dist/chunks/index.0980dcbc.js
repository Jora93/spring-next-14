(function(){"use strict";try{if(typeof document!="undefined"){var i=document.createElement("style");i.appendChild(document.createTextNode(".bookingSocialMedia{background:var(--v3-black-4);border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:16px;width:306px;max-width:100%;height:96px}.bookingSocialMedia .sharingItem{cursor:pointer}.bookingSocialMedia__items-title{margin-bottom:16px;color:var(--v3-black-85);line-height:14px;font-size:14px}.bookingSocialMedia .items-container{display:flex;justify-content:center}.bookingSocialMedia .items-container div{padding:4px;align-items:center;background:var(--v3-black-0);border-radius:50%;display:flex;justify-content:center;width:32px;height:32px;cursor:pointer}.bookingSocialMedia .items-container div.social-item{margin:0 6px}.bookingSocialMedia .items-container div.green{background:var(--v3-primary-6)}.bookingSocialMedia .items-container div.cancel:hover{background:var(--v3-black-15)}")),document.head.appendChild(i)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
var u=(i,r,s)=>new Promise((m,c)=>{var d=e=>{try{n(s.next(e))}catch(l){c(l)}},h=e=>{try{n(s.throw(e))}catch(l){c(l)}},n=e=>e.done?m(e.value):Promise.resolve(e.value).then(d,h);n((s=s.apply(i,r)).next())});import{an as I,j as t,S as f}from"./index.053dea56.js";import{useState as N,useEffect as v}from"react";import{G as S,E as k}from"./app-data.da3833f4.js";import{ac as _,t as E}from"./backend-status-codes.80bfe624.js";import{a as j}from"./index.058a83a7.js";import{c as A}from"./index.fbd937ed.js";import{u as T}from"./useTranslation.70287e96.js";import"react-dom";import"./create-test-id.17a0abc8.js";import"./create-fake-array.68114bc4.js";import"./index.ffa75b49.js";import"./i18next.083d61f0.js";import"./context.f61a2be2.js";const P=i=>{var r,s;navigator.vendor==="Apple Computer, Inc."?(s=(r=window==null?void 0:window.webkit)==null?void 0:r.messageHandlers)==null||s.shareToSocials.postMessage(i):window.shareToSocials&&(window==null||window.shareToSocials.postMessage(JSON.stringify(i)))},b={facebook:"https://www.facebook.com/sharer/sharer.php?u=",facebookIos:"fb://share/?link=",twitter:"https://twitter.com/intent/tweet?url=",telegram:"https://t.me/share/url?url=",whatsapp:"https://api.whatsapp.com/send?text="},w=({title:i,itemName:r,data:s})=>{const[m,c]=N(!1),d=I("isIOSWrapperApp"),h=e=>u(void 0,null,function*(){c(!0);const l=f.WRAPPER_APP?null:window.open(`${window.location.origin}/widgets-x/images/social-loading.svg`,"_blank","location=no,toolbar=no,menubar=no,scrollbars=no,status=no, width=600, height=600, top=100, left=50"),a=yield n(),g=(o,p)=>{if(b[o]){const x=f.WRAPPER_APP&&d&&o==="facebook"?b.facebookIos:b[o];f.WRAPPER_APP?P({action:"share-to-social",data:{socialUrl:x+p}}):l&&(l.location.href=x+p)}};if(a!=null&&a.data.msg.hasScreenshot)g(e,a.data.msg.url),c(!1);else{const o=setTimeout(()=>{g(e,a==null?void 0:a.data.msg.url),c(!1),clearTimeout(o)},f.SCREENSHOT_TIMEOUT+_)}}),n=()=>u(void 0,null,function*(){const e=f.GENERATE_SHARING_IMAGE_URL;try{return yield j.post(e,s)}catch(l){console.error(l)}});return t.jsx("div",{title:i,className:"cancel social-item",onClick:()=>u(void 0,null,function*(){m||(c(!0),yield h(r))}),children:t.jsx(S,{lib:"generic",name:m?"socialLoading":r,theme:"default",size:k._16,color:"var(--v3-black-85)",className:A(["sharingItem",{"sharing-item-loading":m}])})})};const q=({data:i,title:r,twitterAvailable:s,facebookAvailable:m,telegramAvailable:c,whatsappAvailable:d,copyAvailable:h,copyCallback:n,downloadAvailable:e,setDownloadModalVisible:l})=>{const[a,g]=N(!1),{t:o}=T();return v(()=>{let p;if(a)return p=setTimeout(()=>{g(!1)},E.DURATION_800),()=>{p&&clearTimeout(p)}},[a]),t.jsxs("div",{className:"bookingSocialMedia",children:[t.jsx("div",{className:"bookingSocialMedia__items-title",children:r}),t.jsxs("div",{className:"items-container","data-testid":"social-media-sharing",children:[s&&t.jsx(w,{title:o("betslip.twitter"),itemName:"twitter",data:i},"twitter"),m&&t.jsx(w,{title:o("betslip.facebook"),itemName:"facebook",data:i},"facebook"),c&&t.jsx(w,{title:o("betslip.telegram"),itemName:"telegram",data:i},"telegram"),d&&t.jsx(w,{title:o("betslip.whatsapp"),itemName:"whatsapp",data:i},"whatsapp"),h&&n?t.jsx("div",{title:o("betslip.copy"),className:a?"green social-item":"cancel social-item",onClick:()=>{g(!0),n()},children:t.jsx(S,{lib:"generic",name:"paperclip",theme:"default",size:k._16,color:a?"var(--v3-color-on-primary)":"var(--v3-black-85)",className:"sharingItem"})}):null,e&&l?t.jsx("div",{title:o("betslip.download"),className:"cancel social-item",onClick:()=>l(!0),children:t.jsx(S,{lib:"generic",name:"download",theme:"default",size:k._16,color:"var(--v3-black-85)",className:"sharingItem"})}):null]})]})};export{q as SocialSharing};
