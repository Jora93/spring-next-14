import{u as D,i as F,S,j as t,s as P}from"./index.053dea56.js";import{useRef as h,useEffect as k,Suspense as _,useState as V,useCallback as K,useMemo as N}from"react";import{i as s,_ as j}from"./i18next.083d61f0.js";import{l as E}from"./lazy.73833dcd.js";import{L as z,s as H,C as $}from"./swarm-command-names.230156ba.js";import{g as U,O as B}from"./odds.334494eb.js";import{g as J}from"./get-domain.8143fbe7.js";import{a as y,s as Q}from"./index.fcbc691d.js";import{u as R}from"./useSearchParams.0c3b0efc.js";import"./index.59a19261.js";import{a as W}from"./user-data.f480309c.js";import{s as M}from"./styled-components.browser.esm.22f548e7.js";import{u as C}from"./index.ffa75b49.js";import{F as x}from"./index.4def701f.js";import{H as X}from"./index.e408531e.js";import{u as q}from"./useContentHeight.a1c79de7.js";const G=[{key:"betconstruct",title:s.t("virtualsports.betconstruct"),id:1,auth:!1},{key:"golden-race",title:s.t("virtualsports.goldenRace"),gameId:"400002",id:2,auth:!0},{key:"kiron",title:s.t("virtualsports.kiron"),id:3,auth:!1},{key:"inbet",title:s.t("virtualsports.inbet"),gameId:"220108",id:4,auth:!1},{key:"leap-gaming",title:s.t("virtualsports.leapGaming"),gameId:"4000235",id:5,auth:!1},{key:"edge-gaming",title:s.t("virtualsports.edgeGaming"),gameId:"155000",id:6,auth:!1},{key:"leap-instant-gaming",title:s.t("virtualsports.leapInstantGaming"),gameId:"400037034",id:7,auth:!1},{key:"globalbet",title:s.t("virtualsports.globalbet"),gameId:"3510000",id:8,auth:!0},{key:"komplexbet",title:s.t("virtualsports.komplexbet"),gameId:"400040250",id:9,auth:!0},{key:"pragmatic-play",title:s.t("virtualsports.pragmaticPlay"),gameId:"3510029",id:10,auth:!0},{key:"betradar",title:s.t("virtualsports.betradar"),gameId:"40004211",id:11,auth:!0},{key:"nsoft",title:s.t("virtualsports.nsoft"),gameId:"400040302",id:12,auth:!0},{key:"dsVirtual",title:s.t("virtualsports.dsVirtual"),gameId:"420019754",id:13,auth:!1},{key:"pascalGaming",title:s.t("virtualsports.pascalGaming"),gameId:"420018576",id:14,auth:!1},{key:"virtualGeneration",title:s.t("virtualsports.virtualGeneration"),gameId:"220143",id:15,auth:!0},{key:"1x2Gaming",title:s.t("virtualsports.1x2Gaming"),gameId:"4000210",id:16,auth:!1}],vt=M.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`,Y=M.iframe`
  border: none;
  width: 100%;
  display: block;
`,Z=({contentHeight:a})=>{const o=D(),{accounts:r,id:n}=R(),i=h(null),p=h(""),u=h(),m=h(!1),I=h(!1),l=C(W),T=C(U),v=J(),f=F()?`https://mvs.${v}`:`https://vs.${v}`;k(()=>{if(!l.pending)return window.addEventListener("message",b),()=>window.removeEventListener("message",b)},[l.pending]),k(()=>{!r&&p&&A(!1)},[r]),window.addEventListener("message",e=>{var c,g,L;(g=(c=e==null?void 0:e.data)==null?void 0:c.location)!=null&&g.game&&o.push(y({key:"betconstruct",id:`${(L=e.data.location)==null?void 0:L.game}`}))}),k(()=>{O(),!l.id&&I.current&&d("logout")},[l.id]);const b=e=>{var c;e.origin===f&&(e.data.action=="appReady"&&!m.current?(m.current=!0,u.current=e.source,d("initialConfig",{site_id:S.PARTNER_ID,lang:S.LANGUAGE_PREFIX||"eng",oddType:((c=B.find(g=>g.id===T))==null?void 0:c.id)||"decimal",cmsBaseHost:window.location.host}),d("setRouteState",{game:n}),O()):e.data.action=="openSlider"&&(Q(),o.push(y({accounts:"*",[e.data.tab]:"*"})),p.current=e.data.tab,A(!0)))},d=(e,c)=>{var g;(g=u.current)==null||g.postMessage({action:e,data:c},f)},A=e=>{d("slider",{content:p.current,isOpen:e})},O=()=>{if(l.id&&m.current){const e=JSON.parse(z.getItem(H("account","AUTH_DATA"))),c=e==null?void 0:e.auth_token;I.current=!0,d($.RESTORE_LOGIN,{user_id:l.id,auth_token:c})}};return l.pending?null:t.jsx(Y,{src:f,ref:i,style:{minHeight:a,height:a}})},{VirtualKiron:tt}=E(()=>j(()=>import("./VirtualKiron.0c4804f2.js"),["chunks/VirtualKiron.0c4804f2.js","chunks/index.053dea56.js","chunks/i18next.083d61f0.js","chunks/VirtualSportContent.83d192a6.js","chunks/swarm-command-names.230156ba.js","chunks/game-url.ea0ae415.js","chunks/casino.9f590000.js","chunks/custom-categories.e4debdf9.js","chunks/route-manipulation.fb85cda5.js","chunks/index.c0392060.js","chunks/backend-status-codes.80bfe624.js","chunks/not-real-sports.64fc4139.js","chunks/get-domain.8143fbe7.js","chunks/index.fcbc691d.js","chunks/app-routes.c65435c5.js","chunks/lazy.73833dcd.js","chunks/useSearchParams.0c3b0efc.js","chunks/user-data.f480309c.js","chunks/index.ffa75b49.js","chunks/odds.334494eb.js","chunks/index.59a19261.js","chunks/styled-components.browser.esm.22f548e7.js","chunks/index.4def701f.js","chunks/useContentHeight.a1c79de7.js","chunks/index.e408531e.js","chunks/index.fbd937ed.js","chunks/create-test-id.17a0abc8.js","chunks/useUpdateEffect.ee726e5b.js"])),{VirtualLeapInstantGaming:et}=E(()=>j(()=>import("./VirtualLeapInstantGaming.cf0d0711.js"),["chunks/VirtualLeapInstantGaming.cf0d0711.js","chunks/index.053dea56.js","chunks/index.058a83a7.js","chunks/backend-status-codes.80bfe624.js","chunks/i18next.083d61f0.js","chunks/VirtualSportContent.83d192a6.js","chunks/swarm-command-names.230156ba.js","chunks/game-url.ea0ae415.js","chunks/casino.9f590000.js","chunks/custom-categories.e4debdf9.js","chunks/route-manipulation.fb85cda5.js","chunks/index.c0392060.js","chunks/not-real-sports.64fc4139.js","chunks/get-domain.8143fbe7.js","chunks/index.fcbc691d.js","chunks/app-routes.c65435c5.js","chunks/lazy.73833dcd.js","chunks/useSearchParams.0c3b0efc.js","chunks/user-data.f480309c.js","chunks/index.ffa75b49.js","chunks/odds.334494eb.js","chunks/index.59a19261.js","chunks/styled-components.browser.esm.22f548e7.js","chunks/index.4def701f.js","chunks/useContentHeight.a1c79de7.js","chunks/index.e408531e.js","chunks/index.fbd937ed.js","chunks/create-test-id.17a0abc8.js","chunks/useUpdateEffect.ee726e5b.js"])),{VirtualSportContent:at}=E(()=>j(()=>import("./VirtualSportContent.83d192a6.js"),["chunks/VirtualSportContent.83d192a6.js","chunks/i18next.083d61f0.js","chunks/index.053dea56.js","chunks/swarm-command-names.230156ba.js","chunks/game-url.ea0ae415.js","chunks/casino.9f590000.js","chunks/custom-categories.e4debdf9.js","chunks/route-manipulation.fb85cda5.js","chunks/index.c0392060.js","chunks/backend-status-codes.80bfe624.js","chunks/not-real-sports.64fc4139.js","chunks/get-domain.8143fbe7.js","chunks/index.fcbc691d.js","chunks/app-routes.c65435c5.js","chunks/lazy.73833dcd.js","chunks/useSearchParams.0c3b0efc.js","chunks/user-data.f480309c.js","chunks/index.ffa75b49.js","chunks/odds.334494eb.js","chunks/index.59a19261.js","chunks/styled-components.browser.esm.22f548e7.js","chunks/index.4def701f.js","chunks/useContentHeight.a1c79de7.js","chunks/index.e408531e.js","chunks/index.fbd937ed.js","chunks/create-test-id.17a0abc8.js","chunks/useUpdateEffect.ee726e5b.js"])),{VirtualLeapGaming:st}=E(()=>j(()=>import("./VirtualLeapGaming.8737af43.js"),["chunks/VirtualLeapGaming.8737af43.js","chunks/index.053dea56.js","chunks/i18next.083d61f0.js","chunks/VirtualSportContent.83d192a6.js","chunks/swarm-command-names.230156ba.js","chunks/game-url.ea0ae415.js","chunks/casino.9f590000.js","chunks/custom-categories.e4debdf9.js","chunks/route-manipulation.fb85cda5.js","chunks/index.c0392060.js","chunks/backend-status-codes.80bfe624.js","chunks/not-real-sports.64fc4139.js","chunks/get-domain.8143fbe7.js","chunks/index.fcbc691d.js","chunks/app-routes.c65435c5.js","chunks/lazy.73833dcd.js","chunks/useSearchParams.0c3b0efc.js","chunks/user-data.f480309c.js","chunks/index.ffa75b49.js","chunks/odds.334494eb.js","chunks/index.59a19261.js","chunks/styled-components.browser.esm.22f548e7.js","chunks/index.4def701f.js","chunks/useContentHeight.a1c79de7.js","chunks/index.e408531e.js","chunks/index.fbd937ed.js","chunks/create-test-id.17a0abc8.js","chunks/useUpdateEffect.ee726e5b.js"])),rt=({contentHeight:a,gamesData:o,data:r})=>{const{key:n}=R();let i;switch(n){case"betconstruct":i=t.jsx(Z,{contentHeight:a});break;case"kiron":i=t.jsx(_,{fallback:t.jsx(x,{considerTabs:!0}),children:t.jsx(tt,{contentHeight:a,data:r,gamesData:o})});break;case"leap-gaming":i=t.jsx(_,{fallback:t.jsx(x,{considerTabs:!0}),children:t.jsx(st,{data:r,contentHeight:a,gamesData:o})});break;case"leap-instant-gaming":i=t.jsx(_,{fallback:t.jsx(x,{considerTabs:!0}),children:t.jsx(et,{contentHeight:a,data:r,gamesData:o})});break;default:i=t.jsx(_,{fallback:t.jsx(x,{considerTabs:!0}),children:t.jsx(at,{contentHeight:a,data:r,gamesData:o})})}return i},w=({tabs:a,secondLevel:o})=>{var b;const r=D(),{key:n,sport:i,gameId:p}=R(),u=n||a[0].key,m=p||((b=a[0])==null?void 0:b.gameId),[I,l]=V(u),[T,v]=V(m),f=K(d=>{o?(r.push(y({gameId:d})),v(d)):(r.push(y({key:d,gameId:void 0,id:void 0})),l(d))},[]);return k(()=>{i!="188"&&!S.MOCKED_DATA&&r.push(y({key:u,gameId:m}))},[]),k(()=>{l(u)},[n]),t.jsx(X,{selectedKey:o?T||"":I,onChange:f,size:"small",items:a})},_t=({configs:a})=>{const o=q(),r=a&&a.vsOrderedTabs?JSON.parse(a.vsOrderedTabs):[],n=N(()=>{if(r.length){const i=[];return r.map(p=>{const u=G.find(m=>m.id===p);u&&i.push(u)}),i}else return G},[]);return S.MOCKED_DATA?t.jsxs(t.Fragment,{children:[t.jsx(w,{tabs:n}),t.jsx("img",{src:`${process.env[P]}/images/virtual-sports/mock-data-bg-img${F()?"-mobile":""}.png`,width:"100%",loading:"lazy"})]}):t.jsxs(t.Fragment,{children:[t.jsx(w,{tabs:n}),t.jsx(rt,{contentHeight:o,data:n})]})};export{vt as I,_t as V,w as a,Y as b};
