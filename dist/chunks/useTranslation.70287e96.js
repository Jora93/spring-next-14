import{I as E,R as F,g as R,_ as M,a as U}from"./context.f61a2be2.js";import{useContext as B,useState as H,useRef as I,useEffect as N}from"react";function J(){if(console&&console.warn){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(n=console).warn.apply(n,r)}}var L={};function P(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];typeof e[0]=="string"&&L[e[0]]||(typeof e[0]=="string"&&(L[e[0]]=new Date),J.apply(void 0,e))}function _(n,e,r){n.loadNamespaces(e,function(){if(n.isInitialized)r();else{var a=function i(){setTimeout(function(){n.off("initialized",i)},0),r()};n.on("initialized",a)}})}function W(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e.languages[0],i=e.options?e.options.fallbackLng:!1,u=e.languages[e.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var t=function(c,l){var v=e.services.backendConnector.state["".concat(c,"|").concat(l)];return v===-1||v===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!t(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(a,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||t(a,n)&&(!i||t(u,n)))}function K(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return P("i18n.languages were undefined or empty",e.languages),!0;var a=e.options.ignoreJSONStructure!==void 0;return a?e.hasLoadedNamespace(n,{precheck:function(u,t){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&u.services.backendConnector.backend&&u.isLanguageChangingTo&&!t(u.isLanguageChangingTo,n))return!1}}):W(n,e,r)}function Y(n){if(Array.isArray(n))return n}function $(n,e){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a=[],i=!0,u=!1,t,d;try{for(r=r.call(n);!(i=(t=r.next()).done)&&(a.push(t.value),!(e&&a.length===e));i=!0);}catch(c){u=!0,d=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(u)throw d}}return a}}function k(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=n[r];return a}function q(n,e){if(n){if(typeof n=="string")return k(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(n,e)}}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(n,e){return Y(n)||$(n,e)||q(n,e)||G()}function z(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.push.apply(r,a)}return r}function S(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z(Object(r),!0).forEach(function(a){M(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var V=function(e,r){var a=I();return N(function(){a.current=r?a.current:e},[e,r]),a.current};function ee(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,a=B(E)||{},i=a.i18n,u=a.defaultNS,t=r||i||U();if(t&&!t.reportNamespaces&&(t.reportNamespaces=new F),!t){P("You will need to pass in an i18next instance by using initReactI18next");var d=function(f){return Array.isArray(f)?f[f.length-1]:f},c=[d,{},!1];return c.t=d,c.i18n={},c.ready=!1,c}t.options.react&&t.options.react.wait!==void 0&&P("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=S(S(S({},R()),t.options.react),e),v=l.useSuspense,x=l.keyPrefix,o=n||u||t.options&&t.options.defaultNS;o=typeof o=="string"?[o]:o||["translation"],t.reportNamespaces.addUsedNamespaces&&t.reportNamespaces.addUsedNamespaces(o);var p=(t.isInitialized||t.initializedStoreOnce)&&o.every(function(s){return K(s,t,l)});function m(){return t.getFixedT(null,l.nsMode==="fallback"?o:o[0],x)}var D=H(m),C=Q(D,2),j=C[0],b=C[1],w=o.join(),A=V(w),g=I(!0);N(function(){var s=l.bindI18n,f=l.bindI18nStore;g.current=!0,!p&&!v&&_(t,o,function(){g.current&&b(m)}),p&&A&&A!==w&&g.current&&b(m);function h(){g.current&&b(m)}return s&&t&&t.on(s,h),f&&t&&t.store.on(f,h),function(){g.current=!1,s&&t&&s.split(" ").forEach(function(O){return t.off(O,h)}),f&&t&&f.split(" ").forEach(function(O){return t.store.off(O,h)})}},[t,w]);var T=I(!0);N(function(){g.current&&!T.current&&b(m),T.current=!1},[t,x]);var y=[j,t,p];if(y.t=j,y.i18n=t,y.ready=p,p||!p&&!v)return y;throw new Promise(function(s){_(t,o,function(){s()})})}export{ee as u};
