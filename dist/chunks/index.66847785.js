(function(){"use strict";try{if(typeof document!="undefined"){var t=document.createElement("style");t.appendChild(document.createTextNode(`.multipleCard{height:auto;margin-bottom:8px;display:flex;flex-direction:column}.multipleCard .multipleCardsFooter__dataInfo,.multipleCard .multipleCardsFooterPayout{background-color:var(--v3-black-0)}.multipleCard__body{background-color:var(--v3-black-2)}.multipleCard__body .betslipEventInfoPopup,.multipleCard__body .betItemContent{color:var(--v3-text-color);border-top-left-radius:unset;border-top-right-radius:unset}.multipleCard__body .betslipContainer{border-radius:unset;margin-bottom:1px}.multipleCard__body .betslip__bet-head-text{width:60%}.multipleCard__body__gameStartDate{font-size:12px;line-height:16px;letter-spacing:.1px;color:var(--v3-black-85)}.multipleCard--mobile{width:100%;background-color:unset;margin-bottom:unset;border-radius:6px;border:1px solid var(--v3-black-6)}.multipleCard--mobile .multipleCardsFooter__dataInfo__block__list{padding-bottom:4px;line-height:16px}.multipleCard--mobile .multipleCardsFooter__payoutInfo{margin:0;border-radius:10px}.multipleCard--mobile .betslipContainer{border-radius:4px;box-shadow:0 2px 3px -2px #6262621f}.multipleCard--mobile .betslipContainer:not(:last-child){margin-bottom:4px}.multipleCard--mobile .multipleCard__header{border-radius:unset;border-top-left-radius:6px;border-top-right-radius:6px}.multipleCard--mobile .betItemContent,.multipleCard--mobile .betslipEventInfoPopup{border-top-left-radius:4px;border-top-right-radius:4px}.multipleCard--mobile .eventCollapse{background-color:var(--v3-black-0);padding:8px}.multipleCard--mobile .eventCollapse .v3-event-collapse{border-radius:6px}.multipleCard--mobile .eventCollapse .eventCollapse__title{font-size:14px;line-height:20px;letter-spacing:.3px;color:var(--v3-black-85)}.multipleCard--mobile .v3-event-collapse__header{background-color:var(--v3-black-6);padding:8px 12px}.multipleCard--mobile .multipleCard__header{margin-bottom:1px}.multipleCard--mobile .multipleCardsFooter__dataInfo{background-color:var(--v3-black-0);padding:4px 12px 0}.multipleCard--mobile .multipleCardsFooter__payoutInfo{background-color:var(--v3-black-2)}.multipleCard--mobile .multipleCard__body{padding:4px;background-color:var(--v3-black-4)}.multipleCard--mobile .multipleCard__header{margin-bottom:0}.skeletonContainer{background-color:var(--v3-black-0)}.multipleCardsFooter{width:100%}.multipleCardsFooter .stakeFieldWrapper{min-width:52px}.multipleCardsFooter .stakeFieldWrapper button{margin:10px 12px}.multipleCardsFooter--mobile{position:relative}.multipleCardsFooter--mobile .stakeField--row{background-color:var(--v3-black-2)}.multipleCardsFooter--mobile .stakeField--currency{margin:0}.multipleCardsFooter--mobile .multipleCardsFooterPayout--mobile{background-color:var(--v3-black-0)}.multipleCardsFooter__body{display:none}.multipleCardsFooter__body--visible{display:block}.multipleCardsFooter__dataInfo{padding:4px 12px}.multipleCardsFooter__dataInfo__block{padding:0;margin:0}.multipleCardsFooter__dataInfo__block__list{width:100%;display:flex;flex-direction:row;justify-content:space-between}.multipleCardsFooter__dataInfo__block__list__title{color:var(--v3-text-color);font-size:12px;font-weight:400;line-height:16px;letter-spacing:.1px}.multipleCardsFooter__dataInfo__block__list__title--success{color:var(--v3-text-color)}.multipleCardsFooter__dataInfo__block__list__value{color:var(--v3-text-color);font-size:12px;font-weight:600;line-height:20px;letter-spacing:.3px}.multipleCardsFooter__dataInfo__block__list__value--success{color:var(--v3-text-color)}.multipleCardsFooter__payoutInfo{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:12px 0;background-color:var(--v3-black-2);margin-top:12px;border-radius:10px}.multipleCardsFooter__payoutInfo__title{color:var(--v3-text-color);font-size:12px;margin-bottom:6px;font-weight:400;line-height:16px;letter-spacing:.1px}.multipleCardsFooter__payoutInfo__value{font-size:24px;font-weight:600;color:var(--v3-primary-color);line-height:28px}.multipleCardsFooter__btn{padding:10px 12px 12px;background-color:var(--v3-black-0);border-bottom-left-radius:6px;border-bottom-right-radius:6px;line-height:20px}.multipleCardsFooter__btn button{font-weight:600;background:var(--v3-black-6);border-color:var(--v3-black-6);color:var(--v3-text-color-secondary)}.multipleCardsFooter__totalOdds{display:flex;justify-content:space-between;align-items:center;padding:10px 12px 0;background-color:var(--v3-black-0)}.hideTotalReturn{display:none}.total__return-color{color:var(--v3-text-color)}.totalReturnBox--withoutBorders{border:none!important;margin-bottom:0;padding-top:0}
.ant-tooltip{box-sizing:border-box;margin:0;padding:0;color:#000000d9;font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";position:absolute;z-index:1070;display:block;width:max-content;width:intrinsic;max-width:250px;visibility:visible}.ant-tooltip-content{position:relative}.ant-tooltip-hidden{display:none}.ant-tooltip-placement-top,.ant-tooltip-placement-topLeft,.ant-tooltip-placement-topRight{padding-bottom:14.3137085px}.ant-tooltip-placement-right,.ant-tooltip-placement-rightTop,.ant-tooltip-placement-rightBottom{padding-left:14.3137085px}.ant-tooltip-placement-bottom,.ant-tooltip-placement-bottomLeft,.ant-tooltip-placement-bottomRight{padding-top:14.3137085px}.ant-tooltip-placement-left,.ant-tooltip-placement-leftTop,.ant-tooltip-placement-leftBottom{padding-right:14.3137085px}.ant-tooltip-inner{min-width:30px;min-height:32px;padding:6px 8px;color:#fff;text-align:left;text-decoration:none;word-wrap:break-word;background-color:#000000bf;border-radius:2px;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d}.ant-tooltip-arrow{position:absolute;z-index:2;display:block;width:22px;height:22px;overflow:hidden;background:transparent;pointer-events:none}.ant-tooltip-arrow-content{--antd-arrow-background-color: linear-gradient(to right bottom, rgba(0, 0, 0, .65), rgba(0, 0, 0, .75));position:absolute;inset:0;display:block;width:11.3137085px;height:11.3137085px;margin:auto;background-color:transparent;content:"";pointer-events:auto;border-radius:0 0 2px;pointer-events:none}.ant-tooltip-arrow-content:before{position:absolute;top:-11.3137085px;left:-11.3137085px;width:33.9411255px;height:33.9411255px;background:var(--antd-arrow-background-color);background-repeat:no-repeat;background-position:-10px -10px;content:"";clip-path:path("M 9.849242404917499 24.091883092036785 A 5 5 0 0 1 13.384776310850237 22.627416997969522 L 20.627416997969522 22.627416997969522 A 2 2 0 0 0 22.627416997969522 20.627416997969522 L 22.627416997969522 13.384776310850237 A 5 5 0 0 1 24.091883092036785 9.849242404917499 L 23.091883092036785 9.849242404917499 L 9.849242404917499 23.091883092036785 Z")}.ant-tooltip-placement-top .ant-tooltip-arrow,.ant-tooltip-placement-topLeft .ant-tooltip-arrow,.ant-tooltip-placement-topRight .ant-tooltip-arrow{bottom:0;transform:translateY(100%)}.ant-tooltip-placement-top .ant-tooltip-arrow-content,.ant-tooltip-placement-topLeft .ant-tooltip-arrow-content,.ant-tooltip-placement-topRight .ant-tooltip-arrow-content{box-shadow:3px 3px 7px #00000012;transform:translateY(-11px) rotate(45deg)}.ant-tooltip-placement-top .ant-tooltip-arrow{left:50%;transform:translateY(100%) translate(-50%)}.ant-tooltip-placement-topLeft .ant-tooltip-arrow{left:13px}.ant-tooltip-placement-topRight .ant-tooltip-arrow{right:13px}.ant-tooltip-placement-right .ant-tooltip-arrow,.ant-tooltip-placement-rightTop .ant-tooltip-arrow,.ant-tooltip-placement-rightBottom .ant-tooltip-arrow{left:0;transform:translate(-100%)}.ant-tooltip-placement-right .ant-tooltip-arrow-content,.ant-tooltip-placement-rightTop .ant-tooltip-arrow-content,.ant-tooltip-placement-rightBottom .ant-tooltip-arrow-content{box-shadow:-3px 3px 7px #00000012;transform:translate(11px) rotate(135deg)}.ant-tooltip-placement-right .ant-tooltip-arrow{top:50%;transform:translate(-100%) translateY(-50%)}.ant-tooltip-placement-rightTop .ant-tooltip-arrow{top:5px}.ant-tooltip-placement-rightBottom .ant-tooltip-arrow{bottom:5px}.ant-tooltip-placement-left .ant-tooltip-arrow,.ant-tooltip-placement-leftTop .ant-tooltip-arrow,.ant-tooltip-placement-leftBottom .ant-tooltip-arrow{right:0;transform:translate(100%)}.ant-tooltip-placement-left .ant-tooltip-arrow-content,.ant-tooltip-placement-leftTop .ant-tooltip-arrow-content,.ant-tooltip-placement-leftBottom .ant-tooltip-arrow-content{box-shadow:3px -3px 7px #00000012;transform:translate(-11px) rotate(315deg)}.ant-tooltip-placement-left .ant-tooltip-arrow{top:50%;transform:translate(100%) translateY(-50%)}.ant-tooltip-placement-leftTop .ant-tooltip-arrow{top:5px}.ant-tooltip-placement-leftBottom .ant-tooltip-arrow{bottom:5px}.ant-tooltip-placement-bottom .ant-tooltip-arrow,.ant-tooltip-placement-bottomLeft .ant-tooltip-arrow,.ant-tooltip-placement-bottomRight .ant-tooltip-arrow{top:0;transform:translateY(-100%)}.ant-tooltip-placement-bottom .ant-tooltip-arrow-content,.ant-tooltip-placement-bottomLeft .ant-tooltip-arrow-content,.ant-tooltip-placement-bottomRight .ant-tooltip-arrow-content{box-shadow:-3px -3px 7px #00000012;transform:translateY(11px) rotate(225deg)}.ant-tooltip-placement-bottom .ant-tooltip-arrow{left:50%;transform:translateY(-100%) translate(-50%)}.ant-tooltip-placement-bottomLeft .ant-tooltip-arrow{left:13px}.ant-tooltip-placement-bottomRight .ant-tooltip-arrow{right:13px}.ant-tooltip-pink .ant-tooltip-inner{background-color:#eb2f96}.ant-tooltip-pink .ant-tooltip-arrow-content:before{background:#eb2f96}.ant-tooltip-magenta .ant-tooltip-inner{background-color:#eb2f96}.ant-tooltip-magenta .ant-tooltip-arrow-content:before{background:#eb2f96}.ant-tooltip-red .ant-tooltip-inner{background-color:#f5222d}.ant-tooltip-red .ant-tooltip-arrow-content:before{background:#f5222d}.ant-tooltip-volcano .ant-tooltip-inner{background-color:#fa541c}.ant-tooltip-volcano .ant-tooltip-arrow-content:before{background:#fa541c}.ant-tooltip-orange .ant-tooltip-inner{background-color:#fa8c16}.ant-tooltip-orange .ant-tooltip-arrow-content:before{background:#fa8c16}.ant-tooltip-yellow .ant-tooltip-inner{background-color:#fadb14}.ant-tooltip-yellow .ant-tooltip-arrow-content:before{background:#fadb14}.ant-tooltip-gold .ant-tooltip-inner{background-color:#faad14}.ant-tooltip-gold .ant-tooltip-arrow-content:before{background:#faad14}.ant-tooltip-cyan .ant-tooltip-inner{background-color:#13c2c2}.ant-tooltip-cyan .ant-tooltip-arrow-content:before{background:#13c2c2}.ant-tooltip-lime .ant-tooltip-inner{background-color:#a0d911}.ant-tooltip-lime .ant-tooltip-arrow-content:before{background:#a0d911}.ant-tooltip-green .ant-tooltip-inner{background-color:#52c41a}.ant-tooltip-green .ant-tooltip-arrow-content:before{background:#52c41a}.ant-tooltip-blue .ant-tooltip-inner{background-color:#1890ff}.ant-tooltip-blue .ant-tooltip-arrow-content:before{background:#1890ff}.ant-tooltip-geekblue .ant-tooltip-inner{background-color:#2f54eb}.ant-tooltip-geekblue .ant-tooltip-arrow-content:before{background:#2f54eb}.ant-tooltip-purple .ant-tooltip-inner{background-color:#722ed1}.ant-tooltip-purple .ant-tooltip-arrow-content:before{background:#722ed1}.ant-tooltip-rtl{direction:rtl}.ant-tooltip-rtl .ant-tooltip-inner{text-align:right}`)),document.head.appendChild(t)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
import{S as x,j as e,i as V,D as pt,P as ft,v as z,r as k,y as ht,af as Q,n as Nt,al as Rt}from"./index.053dea56.js";import{useCallback as B,useState as A,useMemo as y,useEffect as bt,Suspense as G}from"react";import{c as tt}from"./index.fbd937ed.js";import{d as At}from"./backend-status-codes.80bfe624.js";import{B as Ct}from"./index.dd65e30b.js";import{EventCollapse as jt}from"./index.5ffe4536.js";import{C as yt}from"./index.26a56120.js";import"./index.0a1c40c4.js";import{u as W}from"./useTranslation.70287e96.js";import{_ as Ft}from"./i18next.083d61f0.js";import{aF as T,c9 as Pt,ca as kt}from"./index.c0392060.js";import{u as ut,b as Bt,w as Mt,c as St}from"./usePredefinedStakes.58f7290f.js";import{b as Ot,c as Lt,C as wt}from"./swarm-command-names.230156ba.js";import{l as $t}from"./lazy.73833dcd.js";import{o as Ht}from"./api-post-message-sender.98c07ac7.js";import{g as zt}from"./bet-max-amount.82c1b7e2.js";import{v as et,t as Vt,S as at,h as Wt}from"./app-data.da3833f4.js";import{g as ot}from"./user-data.f480309c.js";import{u as b}from"./index.ffa75b49.js";import{a6 as Ut,y as Kt,a9 as Xt,m as Yt,aJ as Zt,k as Jt}from"./index.59a19261.js";import{B as qt}from"./index.a4eb6922.js";import{F as Qt}from"./index.b2e0e810.js";import"./col.a0c1837e.js";import{I as Gt}from"./index.bacdcf22.js";import{B as Dt}from"./index.9a56940c.js";import{s as g}from"./styled-components.browser.esm.22f548e7.js";import{b as te,u as ee,S as oe,C as ne}from"./useCheckStakeBalance.79f0331f.js";import{u as le}from"./useOpenLoginPopup.d27706ba.js";import{u as re}from"./useDoBet.0560f246.js";import{u as ie}from"./index.3e058f90.js";import{g as se}from"./socket.c077606d.js";import{g as ae}from"./odds.334494eb.js";import{u as ce}from"./useDispatch.cd750ed9.js";import{D as de}from"./DesktopMultipleCardsSkeleton.e8a2dfaa.js";const ue=x.USE_AMERICAN_DATE_FORMATTING?"MMM DD hh:mm A":"DD MMM HH:mm",_e=(n,l)=>{var v,c,u,s;const t=(v=l==null?void 0:l.games)==null?void 0:v.find(a=>a.id===n.MatchId),r=(c=l==null?void 0:l.events)==null?void 0:c.find(a=>a.id===n.SelectionId),i=(u=l==null?void 0:l.markets)==null?void 0:u.find(a=>a.id===n.MarketId),o=(s=l==null?void 0:l.regions)==null?void 0:s.find(a=>{var p;return(p=a==null?void 0:a.competitionIds)==null?void 0:p.includes(n.CompetitionId)});return{game_id:t==null?void 0:t.id,eventId:r==null?void 0:r.id,eventBase:r==null?void 0:r.base,event_name:r==null?void 0:r.name,coeficient:r==null?void 0:r.price,sport_index:"multiples",market_name:i==null?void 0:i.name,competition_name:o==null?void 0:o.name,sport_alias:t==null?void 0:t.sport_alias,game_start_date:t==null?void 0:t.start_ts,game_name:`${t==null?void 0:t.team1_name}-${t==null?void 0:t.team2_name}`}};const vt=({updatedGamesData:n,game:l})=>{var i;const t=B(o=>_e(o,n),[n,l]),r=o=>{var c;const v=(c=n==null?void 0:n.games.find(u=>u.id===o))==null?void 0:c.start_ts;return v&&At.unix(v).format(ue)};return e.jsx("div",{className:"multipleCard__body",children:(i=l==null?void 0:l.Selections)==null?void 0:i.map(o=>e.jsx(Ct,{event:t(o),extra:e.jsx("div",{className:"multipleCard__body__gameStartDate",children:r(o.MatchId)}),hideGameStartDate:!0},o.SelectionId))})},me=({name:n,bonusPercent:l=0,expireDate:t=null})=>{const{t:r}=W();return e.jsxs("div",{className:"multipleCard__header__wrapper",children:[e.jsxs("div",{className:"multipleCard__header",children:[e.jsx(yt,{placement:"top",title:n,trigger:["click","hover"],children:e.jsx("span",{className:"multipleCard__header__title",children:n})}),!!t&&e.jsx("div",{className:"multipleCard__header__expireInfo",children:t})]}),e.jsxs("div",{className:"multipleCard__header__btn",children:[r("account.bonus")," ",l,"%"]})]})};const pe=({finalPayout:n})=>{const{formatAmount:l}=ut(),{t}=W(),r=b(ot),i=b(et);return e.jsx("div",{className:tt(["multipleCardsFooterPayout",{"multipleCardsFooterPayout--mobile":V()}]),children:e.jsxs("div",{className:"multipleCardsFooter__payoutInfo",children:[e.jsx("span",{className:"multipleCardsFooter__payoutInfo__title",children:t("betslip.finalPayout")}),e.jsx("span",{className:"multipleCardsFooter__payoutInfo__value",children:l(T(n,x.PRICE_SEPARATOR,void 0,i),r)})]})})},gt=()=>{const n=b(Ut).ranges||{},l=B((t,r,i,o)=>{let v=!1,c=null;if(o){const a=new RegExp(o,"g");t=t&&t.toString().replace(a,""),i=i&&i.toString().replace(a,"")}const u=n[pt.RANGE_TAX_POSSIBLE_WIN],s=n[pt.RANGE_TAX_POSSIBLE_WIN_WITHOUT_STAKE];return u&&parseFloat(t)>=u.from&&parseFloat(t)<=u.to&&(c=parseFloat(t)/ft*u.percent,t=`${Number(t)-c}`),s&&parseFloat(t)>=s.from&&parseFloat(t)<=s.to&&(c=(Number(t)-Number(i!=null?i:0))*(s.percent/ft),t=`${Number(t)-c}`,v=!0),r==null||r(c,v),{price:t,amount:c,isProfitTax:v}},[n]);return{taxAmountRanges:n,calculateTotalReturn:l}};g.div`
  height: 100%;
  display: flex;
  text-align: left;
  flex-direction: column;
  position: relative;
  background: var(--v3-black-2);
`;g.div`
  top: 0;
  z-index: 2;
  height: 48px;
  display: flex;
  font-size: 14px;
  position: sticky;
  font-weight: 600;
  align-items: center;
  padding: 12px;
  letter-spacing: 0.42px;
  color: var(--v3-text-color);
  justify-content: ${n=>n.content||"space-between"};
  background-color: var(--v3-black-0);
  ${n=>n.shadow&&` margin-bottom: 1px;
      box-shadow: var(--v3-shadow-1-down);
    `}
  ${n=>n.$isAdvanced?`
         padding: 8px 12px 0 0;
         height: unset
        `:""}
`;g.div`
  flex-direction: column;
  display: flex;
  padding: 12px;
  & > button {
    flex: 1;
  }
`;const ct=g.div`
  color: var(--v3-text-color);
  font-size: 12px;
  line-height: 16px;
`,dt=g.div`
  display: flex;
  align-items: center;
  font-size: 14px;
  line-height: 20px;
  font-weight: 600;
  color: var(--v3-text-color);
`,D=g.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  ${n=>n.isSingle?" margin-bottom: 0;":" margin-bottom: 12px;"}
  ${n=>n.totalReturn&&`
      padding: 12px 0;
      border-top: 1px solid var(--v3-black-6);
      border-bottom: 1px solid var(--v3-black-6);
    `}
`;g.div`
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.33px;
  color: var(--v3-text-color);
  cursor: pointer;
`;g.div`
  display: flex;
  padding: 0 8px 12px 8px;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
  background-color: var(--v3-black-0);
  justify-content: flex-end;
`;g(qt)`
  display: flex;
  flex: 1;
`;g.div`
  font-size: 14px;
  color: var(--v3-text-color);
  font-weight: 600;
`;g(D)`
  border-bottom: 1px solid var(--v3-primary-2);
  padding-bottom: 12px;
`;g.div`
  background-color: var(--v3-black-6);
  text-align: left;
`;const xt=g.div`
  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.42px;
  color: var(--v3-primary-6);
`;g.div`
  margin-bottom: 4px;
  border-radius: 4px;
  box-shadow: var(--v3-shadow-2);
`;g(Qt)`
  display: flex;
  align-items: center;
  padding: 12px !important;
  background-color: var(--v3-black-0);
  border-bottom: 1px solid var(--v3-black-6);
`;g.div`
  font-size: 14px;
  transition: all 0.2s ease-in-out;
  color: ${({isFocused:n})=>n?"var(--v3-primary-6)":"var(--v3-text-color)"};
  ${({placement:n})=>n==="right"&&"padding-left: 12px;"}
  ${({placement:n})=>n==="left"&&"padding-right: 12px;"}
`;g(Gt)`
  height: 32px !important;
`;g.div`
  padding-left: 8px;
  flex: 5;
`;const fe=({total:n,showTotalReturn:l=!0,isSingle:t,stake:r,stakeInputValue:i,totalStake:o,hideTotalReturn:v,extraLabelClass:c,isSpOddExist:u=!1,showTaxes:s})=>{var H,L,U;const{t:a}=W(),p=b(Vt),{formatAmount:_,currencyId:E}=ut(),N=b(et),R=gt(),[M,d]=A(0),C=b(ot),S=b(Kt),O=b(Xt),nt=s?((H=R.taxAmountRanges[1])==null?void 0:H.percent)||((L=R.taxAmountRanges[2])==null?void 0:L.percent):0,j=O&&((U=O==null?void 0:O.maxPayouts)==null?void 0:U.find(m=>m.Currency===E)),[K,X,w]=y(()=>{let m=0;S&&j&&j.MaxAmount&&Number(n)>+j.MaxAmount?m=j.MaxAmount:m=n;const h=Number(m);if(!h)return[0,!1,!1];if(!s)return[h,!1,!1];const I=R.calculateTotalReturn(`${h}`,void 0,t?r||0:o,x.PRICE_SEPARATOR);return[T(I.price,x.PRICE_SEPARATOR,void 0,N),I.isProfitTax,I.amount]},[n,R,s,t,o,r,N,O]),[Y]=y(()=>{let m;return[(h,I,F,J)=>F?J?(Number(h)<=0&&!I||(m=!Number(h)||!I),m):(m=!0,!0):(m=!0,!1)]},[]),$=Y(n,w,s,i),[Z]=y(()=>{let m=0;return[(h,I)=>m===h||Number(h)<=0&&I?m:(m=h,h)]},[n,i]),[lt]=y(()=>{let m=0,h="0";return[I=>{const F=_(T(`${I}`,x.PRICE_SEPARATOR,void 0,N),C);return m===I||!I?h:(m=I,h=F,F)}]},[w]),[rt]=y(()=>{let m=0;return[(h,I)=>m===h||Number(h)<=0&&I?m:(m=h,h)]},[i,K]);return bt(()=>{S&&j&&j.MaxAmount&&Number(n)>+j.MaxAmount?d(j.MaxAmount):d(0)},[n,j,S]),l?e.jsxs(e.Fragment,{children:[$?null:e.jsxs(e.Fragment,{children:[e.jsxs(D,{totalReturn:!0,className:tt(["total-return-box",{"totalReturnBox--withoutBorders":!s}]),children:[e.jsx(ct,{className:c,children:a("betslip.totalReturn")}),e.jsx(dt,{"data-testid":"total-return",children:p?e.jsx(at.Input,{style:{width:60,height:15},active:!0}):e.jsx(xt,{className:"betslip_amount",children:u?a("betslip.notAvailableShort"):_(Number(Z(n,i))?T(Z(n,i),x.PRICE_SEPARATOR,void 0,N):0,C)})})]}),s?e.jsxs(D,{children:[e.jsxs(ct,{className:c,children:[a(`betslip.${X?"taxProfit":"taxAmount"}`)," (",nt,"%)"]}),e.jsx(dt,{className:"betslip_amount",children:p?e.jsx(at.Input,{style:{width:60,height:15},active:!0}):u?a("betslip.notAvailableShort"):lt(w)})]}):null]}),s?e.jsxs(D,{className:v?"hideTotalReturn":"",isSingle:t,children:[e.jsx(ct,{children:a($?"betslip.possibleWin":"betslip.finalPayout")}),e.jsx(dt,{"data-testid":"total-return",children:u?a("betslip.notAvailableShort"):p?e.jsx(at.Input,{style:{width:60,height:15},active:!0}):e.jsx(xt,{className:"betslip_amount",children:_(rt(K,i),C)})})]}):null,!!M&&e.jsx("div",{className:"freeBetMaxOutcomeInfo",children:a("betslip.freeBetMaxPayoutInfo",{freeBetMaxPayout:_(M,C)})})]}):null},he=({totalOdds:n,stake:l,possibleWin:t,bonus:r,accBonus:i,taxes:o,showTaxes:v})=>{const{formatAmount:c}=ut(),{t:u}=W(),s=b(et),a=y(()=>o!=null&&o.percent?o.general:0,[o]),p=gt(),_=b(ot),E=y(()=>{const N=(o==null?void 0:o.taxType)===4?+l-a:0;return N?T(N*+n+(+i||0),"",void 0,s):0},[n,s,a,i]);return e.jsxs("div",{className:"multipleCardsFooter__dataInfo",children:[e.jsxs("ul",{className:"multipleCardsFooter__dataInfo__block",children:[v&&(o==null?void 0:o.percent)&&(o==null?void 0:o.taxType)===4&&e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"multipleCardsFooter__dataInfo__block__list",children:[e.jsxs("span",{className:"multipleCardsFooter__dataInfo__block__list__title",children:[u("betslip.taxAmount")," (",o==null?void 0:o.percent,"%)"]}),e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__value",children:c(T(a))})]}),e.jsxs("li",{className:"multipleCardsFooter__dataInfo__block__list",children:[e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__title",children:u("account.totalStake")}),e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__value",children:c(l?T(+l-a,x.PRICE_SEPARATOR,void 0,s):0)})]})]}),e.jsxs("li",{className:"multipleCardsFooter__dataInfo__block__list",children:[e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__title",children:u("account.possibleWin")}),e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__value",children:c(l?T(t,x.PRICE_SEPARATOR,x.HIDE_TRAILING_ZEROES,s):0,_)})]}),e.jsxs("li",{className:"multipleCardsFooter__dataInfo__block__list",children:[e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__title multipleCardsFooter__dataInfo__block__list__title--success",children:u("betslip.bonusPercentage")}),e.jsxs("span",{className:"multipleCardsFooter__dataInfo__block__list__value multipleCardsFooter__dataInfo__block__list__value--success",children:[r,"%"]})]}),e.jsxs("li",{className:"multipleCardsFooter__dataInfo__block__list",children:[e.jsxs("span",{className:"multipleCardsFooter__dataInfo__block__list__title multipleCardsFooter__dataInfo__block__list__title--success",children:[u("betslip.accumulatorBonus"),":"]}),e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__value multipleCardsFooter__dataInfo__block__list__value--success",children:c(l?T(i,x.PRICE_SEPARATOR,void 0,s):0,_)})]}),(o==null?void 0:o.taxType)===4&&e.jsx(fe,{showTaxes:v,showTotalReturn:!0,total:E,hideTotalReturn:!0,extraLabelClass:"total__return-color"})]}),e.jsx(G,{children:e.jsx(pe,{finalPayout:(o==null?void 0:o.taxType)===4?T(p.calculateTotalReturn(`${E}`,()=>{},l).price,"",void 0,s):T(+t+ +i,"",void 0,s)})})]})},ve=n=>{const l=b(Yt),t=b(Zt),r=b(Jt),{totalOdds:i}=ie(),o=b(se);return{calculateTaxReturn:({posWinSys:c,currentType:u,totalStake:s,currentStake:a})=>{var N,R,M;const p={general:0},_={};x.CALCULATE_BETS_WITHOUT_TAXES&&(u!=="single"?_.general=!(!((N=o==null?void 0:o.tax_sportIds)!=null&&N.length)||o.tax_sportIds.some(d=>(r==null?void 0:r.some(C=>C.sport_id===d))||d===n)):r==null||r.forEach(d=>{var C;_[d.eventId]=!(!((C=o==null?void 0:o.tax_sportIds)!=null&&C.length)||o.tax_sportIds.includes(d.sport_id))}));const E=c||+i*+((R=l.single.general)!=null?R:0);return o&&o.tax_percent&&(p.taxType=(M=o==null?void 0:o.tax_type)!=null?M:0,p.percent=o==null?void 0:o.tax_percent,o.tax_type===4?u!=="single"?_.general||(p.general=z(k(k(s,t!=null&&t.systemEw||t!=null&&t.multipleEw?2:1),o.tax_percent),100)):r==null||r.forEach(d=>{l.single[d.eventId]&&(p[d.eventId]=_[d.eventId]?0:z(k(k(+(l.single[d.eventId]||0),d.each_way?2:1)||0,o&&o.tax_percent||0),100))}):o.tax_type===20?u!=="single"?_.general||(p.general=z(k(E||0,o.tax_percent),100)):r==null||r.forEach(d=>{l.single[d.eventId]&&(p[d.eventId]=_[d.eventId]?0:z(k(+(l.single[d.eventId]||0),+(d.coeficient||0),o.tax_percent||0),100))}):o.tax_type===21&&(u!=="single"?_.general||(p.general=z(k(ht(E!=null?E:0,+a),o.tax_percent),100)):r==null||r.forEach(d=>{l.single[d.eventId]&&(p[d.eventId]=_[d.eventId]?0:z(ht(k(+(l.single[d.eventId]||0),+(d.coeficient||0)),k(+(l.single[d.eventId]||0),o.tax_percent||0)),100))}))),[p,_]}}},{Recaptcha:xe}=$t(()=>Ft(()=>import("./index.5ec470df.js"),["chunks/index.5ec470df.js","chunks/index.053dea56.js","chunks/styled-components.browser.esm.22f548e7.js","chunks/index.c0392060.js","chunks/backend-status-codes.80bfe624.js","chunks/i18next.083d61f0.js","chunks/swarm-command-names.230156ba.js","chunks/global-variables.eb46f49b.js","chunks/index.9fa2e41e.js","chunks/index.ee65228f.js","chunks/app-data.da3833f4.js","chunks/index.fbd937ed.js","chunks/create-test-id.17a0abc8.js","chunks/create-fake-array.68114bc4.js","chunks/index.ffa75b49.js","chunks/index.184af16c.js","chunks/usePopupScrollDisable.77ea6409.js","chunks/useSearchParams.0c3b0efc.js","chunks/index.59a19261.js","chunks/user-data.f480309c.js","chunks/v4.751847df.js","chunks/useDispatch.cd750ed9.js","chunks/useMounted.6d9c5610.js"])),be=({odds:n,bonus:l,bonusType:t,item:r,updatedGamesData:i})=>{const{t:o}=W(),v=b(ae),c=b(ot),{predefinedStakes:u}=Bt(),[s,a]=A(""),[p,_]=A(!0),E=b(Wt),[N,R]=A(!1),[M,d]=A(!1),{calculateTaxReturn:C}=ve(),[S,O]=A(0),[nt,j]=A(0),[K,X]=A(0),[w,Y]=A(!1),$=b(et),Z=ce(),lt=le(),[rt,H]=A(!1),[L,U]=A(Q.doBet),m=te(),h=ee(),{doBetHandler:I}=re(),F=y(()=>{if(n!=null&&n.length)return n.reduce((f,P)=>f*P)},[n]),J=B(()=>{a(""),Y(!1),_(!0),R(!1),Z(Mt())},[]),it=B(()=>{var f;Pt(kt.PlacedExpressOfTheDayBet),I({type:(f=r==null?void 0:r.BetType)!=null?f:Ot.MULTIPLE,mode:2,amount:+s,odd_type:v,each_way:!1,predefined_multiple_id:r==null?void 0:r.Id,bets:i==null?void 0:i.events.map(P=>({event_id:Number(P.id),price:Number(P.price),booking_id:P.booking_id}))},()=>{J()},()=>{J()})},[i,s]),q=B(()=>{x.BETSLIP_MAX_BTN_TYPE?(a(String(m)),h("sportsbookScrollTopPosition",m,f=>_(f))):(H(!0),zt(wt.GET_MAX_BET,{events:i==null?void 0:i.events.map(f=>f.id),type:Lt[Nt.MULTIPLE]},f=>{a(`${f.details.amount}`),H(!1),h("sportsbookScrollTopPosition",f.details.amount,P=>_(!s||P))}))},[m,i==null?void 0:i.events]),It=B(()=>{E&&!x.BETSLIP_MAX_BTN_TYPE?(U(Q.getMaxBet),R(!0),H(!0)):q()},[L,E,q]),Tt=B(()=>{L===Q.doBet?it():q(),R(!1)},[L,s]),_t=B(()=>{if(!c){x.IFRAME_SPORTSBOOK?Ht("login"):lt();return}Y(!0),E?(U(Q.doBet),R(!0)):it()},[c,E,q,it]),[st,Et]=y(()=>C({totalOdds:S,posWinSys:0,currentType:"multiple",totalStake:+s,allLsBets:[],currentStake:s}),[s,S]);bt(()=>{O(St(T(Number(F),""),v));const f=st.taxType===4?s?+s-st.general:0:s;j(T(Number(f)*Number(F),"",x.HIDE_TRAILING_ZEROES,$)),t===2?X(T((Number(f)*Number(F)-Number(f))*Number(l)/100,"",x.HIDE_TRAILING_ZEROES,$)):t===1&&X(T(Number(f)*Number(F)*Number(l)/100,"",x.HIDE_TRAILING_ZEROES,$))},[s,F,v]);const mt=B(f=>{!f||+f==0?_(!0):_(!1),h("sportsbookScrollTopPosition",f||0,P=>{_(f?P:!0)}),a(f)},[s]);return e.jsxs("div",{className:tt(["multipleCardsFooter",{"multipleCardsFooter--mobile":V()}]),children:[e.jsx("div",{className:"stakeFieldWrapper",children:e.jsx(oe,{checkCurrencyContent:c,inputDefaultValue:u.default_stake,active:M,stake:s,placeholder:o("betslip.stake"),max:!0,isLoading:rt,onMaxClick:It,onChange:f=>mt(f),onPressEnter:()=>{!(c&&p)&&_t()},onClick:()=>{d(!0),s||_(!0)},inMultipleOfTheDay:!0})}),M&&V()&&e.jsx(G,{children:e.jsx(ne,{onChange:mt,value:s,onCloseKeyboard:d,size:"middle",predefinedStakesFree:!x.PREDEFINE_STAKES_ENABLE})}),e.jsxs("div",{className:"multipleCardsFooter__totalOdds",children:[e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__title",children:o("betslip.totalOdds")}),e.jsx("span",{className:"multipleCardsFooter__dataInfo__block__list__value",children:S})]}),s&&e.jsx(G,{children:e.jsx(he,{totalOdds:S,stake:+s,possibleWin:nt,bonus:l,accBonus:K,taxes:st,showTaxes:!Et.general})}),N&&e.jsx(G,{children:e.jsx(xe,{action:L,shouldValidate:N,onSetRecaptchaToken:Tt})}),e.jsx("div",{className:"multipleCardsFooter__btn",children:e.jsx(Dt,{type:"primary",size:"large",disabled:c&&p,style:{width:"100%"},loading:w,onClick:_t,children:o(c?w?"betslip.loading":"betslip.placeBet":"betslip.signInAndBetText")})})]})},oo=({isLoading:n,updatedGamesData:l,expressSelections:t})=>{const{t:r}=W(),[i,o]=A(x.MULTIPLES_VIEW===Rt.EXPANDED),v=y(()=>{var u;return((u=t==null?void 0:t.Selections)==null?void 0:u.map(s=>{var a,p;return Number((p=(a=l==null?void 0:l.events)==null?void 0:a.find(_=>_.id===s.SelectionId))==null?void 0:p.price)}))||[]},[t==null?void 0:t.Selections,l]),c=y(()=>i?e.jsx("span",{className:"eventCollapse__title eventCollapse__title--hide",children:r("betslip.hideSelections")}):e.jsxs("span",{className:"eventCollapse__title eventCollapse__title--show",children:[r("betslip.showSelections")," [",t==null?void 0:t.Selections.length,"]"]}),[i,t==null?void 0:t.Selections.length]);return l&&!n?e.jsxs("div",{className:tt(["multipleCard",{"multipleCard--mobile":V(),"multipleCard--active":i}]),children:[e.jsx(me,{name:t==null?void 0:t.Name,bonusPercent:t==null?void 0:t.BonusPercent}),V()?e.jsx("div",{className:"eventCollapse",children:e.jsx(jt,{onChange:o,title:c,defaultActive:i,children:e.jsx(vt,{game:t,updatedGamesData:l})},1)}):e.jsx(vt,{game:t,updatedGamesData:l}),e.jsx(be,{odds:v,item:t,bonus:t==null?void 0:t.BonusPercent,bonusType:t==null?void 0:t.BonusType,updatedGamesData:l})]}):V()?null:e.jsx(de,{})};export{oo as M};
