var at=Object.defineProperty,nt=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var lt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable;var C=(e,s,r)=>s in e?at(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,R=(e,s)=>{for(var r in s||(s={}))lt.call(s,r)&&C(e,r,s[r]);if(P)for(var r of P(s))ct.call(s,r)&&C(e,r,s[r]);return e},V=(e,s)=>nt(e,ut(s));import{_ as w}from"./i18next.083d61f0.js";import{j as b,S as dt}from"./index.053dea56.js";import{createContext as mt,useContext as ft,useState as i,useRef as F,useCallback as M,useEffect as m,useLayoutEffect as pt}from"react";import{d as h,s as _t}from"./backend-status-codes.80bfe624.js";import{D as bt}from"./swarm-command-names.230156ba.js";import{l as A}from"./lazy.73833dcd.js";import{R as yt}from"./index.c0392060.js";import{b as O}from"./account-settings.f8a40068.js";import{u as gt,G as Bt}from"./useProceedRebetEditBet.c747dc6a.js";import{L as xt}from"./index.9f857438.js";import{V as Dt}from"./index.68ae7eeb.js";import{u as Et}from"./useMounted.6d9c5610.js";import{u as Tt}from"./useFetchAccountParams.449db7c7.js";import{ar as It}from"./index.59a19261.js";import{g as Rt,a as ht}from"./user-data.f480309c.js";import{u as Ht}from"./useTranslation.70287e96.js";import{u as y}from"./index.ffa75b49.js";import{g as Lt}from"./odds.334494eb.js";const G=mt({reloadHistory:()=>{}}),vt=e=>b.jsx(G.Provider,{value:e.value,children:e.children}),Yt=()=>ft(G),{BetHistoryMobile:St}=A(()=>w(()=>import("./index.c63c5a4c.js"),["chunks/index.c63c5a4c.js","chunks/i18next.083d61f0.js","chunks/index.053dea56.js","chunks/lazy.73833dcd.js"])),{BetHistoryDesktop:jt}=A(()=>w(()=>import("./index.6b0311cd.js"),["chunks/index.6b0311cd.js","chunks/i18next.083d61f0.js","chunks/backend-status-codes.80bfe624.js","chunks/index.053dea56.js","chunks/index.a4eb6922.js","chunks/index.9a56940c.js","chunks/index.fbd937ed.js","chunks/create-test-id.17a0abc8.js","chunks/toConsumableArray.19249869.js","chunks/placements.f27399b1.js","chunks/index.d930ff85.js","chunks/index.536e01bf.js","chunks/Skeleton.d4e88166.js","chunks/KeyCode.6413d982.js","chunks/Overflow.5f48b1c8.js","chunks/index.66ee6c8a.js","chunks/col.a0c1837e.js","chunks/CheckOutlined.795713a5.js","chunks/SearchOutlined.02ed5a97.js","chunks/statusUtils.c2dcc692.js","chunks/casino.9f590000.js","chunks/app-data.da3833f4.js","chunks/create-fake-array.68114bc4.js","chunks/index.ffa75b49.js","chunks/useTranslation.70287e96.js","chunks/context.f61a2be2.js","chunks/index.eaa7e784.js","chunks/index.9fa2e41e.js","chunks/usePredefinedStakes.58f7290f.js","chunks/index.c0392060.js","chunks/swarm-command-names.230156ba.js","chunks/odds.334494eb.js","chunks/socket.c077606d.js","chunks/batch.dcd71b53.js","chunks/user-data.f480309c.js","chunks/index.59a19261.js","chunks/useDispatch.cd750ed9.js","chunks/index.b2e0e810.js","chunks/index.bacdcf22.js","chunks/index.391bace7.js","chunks/index.092cd2c1.js","chunks/payment.e748696a.js","chunks/account-settings.f8a40068.js","chunks/index.058a83a7.js","chunks/index.ee65228f.js","chunks/index.184af16c.js","chunks/usePopupScrollDisable.77ea6409.js","chunks/useSearchParams.0c3b0efc.js","chunks/v4.751847df.js","chunks/index.bb518843.js","chunks/styled-components.browser.esm.22f548e7.js","chunks/useBetlsipNotEmptyPopup.d6fe3ab1.js","chunks/rtl.f8a1526a.js","chunks/index.c41901f2.js","chunks/dropdown.76994893.js","chunks/EllipsisOutlined.491da4e5.js","chunks/getScrollBarSize.dd62273d.js","chunks/debounce.bdc02868.js","chunks/index.f9d28115.js","chunks/index.77924ee5.js","chunks/main.f5ab03e3.js","chunks/index.1482f57a.js","chunks/data-fields.6d263ede.js","chunks/route-manipulation.fb85cda5.js","chunks/not-real-sports.64fc4139.js","chunks/get-data-level.db296203.js","chunks/index.9f857438.js","chunks/sport-data.b40f7b49.js","chunks/new-sportsbook.4549be32.js","chunks/get-match-scores.c5c2c570.js","chunks/index.c5e45a48.js","chunks/lazy.73833dcd.js","chunks/index.ec558988.js","chunks/index.fcbc691d.js","chunks/index.68ae7eeb.js","chunks/useProceedRebetEditBet.c747dc6a.js","chunks/quickBetActions.c1df7177.js","chunks/spec-elems.3577ab05.js","chunks/useMounted.6d9c5610.js","chunks/useFetchAccountParams.449db7c7.js","chunks/useQuery.758207e2.js","chunks/QueryClientProvider.04e144dd.js","chunks/index.812cdb8e.js"])),kt=({isSportsbook:e})=>{var k;const{t:s}=Ht(),r=y(Rt),N=y(ht),{accountParams:l}=Tt(),[f,g]=i([]),[U,p]=i(!0),[a,B]=i(null),[x,z]=i(!1),[n,$]=i({from_date:h().subtract(1,"months").startOf("day").unix(),to_date:h().unix()}),[H,q]=i(""),L=F(n),[D,v]=i(""),[E,J]=i(0),_=F(""),[u,K]=i({type:"all",result:Number(l==null?void 0:l.betsResultDefaultValue)===bt?"all":(k=l==null?void 0:l.betsResultDefaultValue)!=null?k:"all"}),[Q,S]=i(!1),[W,X]=i(!1),[Y,Z]=i(),[tt,et]=i(h()),st=y(Lt),T=y(It),{executeRebet:ot}=gt(f),{mounted:j}=Et(),rt=M((t,o)=>{o&&K(o),t&&(n.to_date!==t.to_date||n.from_date!==t.from_date)&&(v(""),$(t))},[n,u]),it=M(()=>{if(_.current&&!/^\d+$/.test(_.current)){_t(s("account.invalidBetIdFormat"));return}q(yt.rand())},[]);m(()=>{_.current=D},[D]),m(()=>{const t=[...f];if(T.forEach(o=>{const c=t.findIndex(d=>d.id===o.id);t[c]&&(t[c].cash_out=o.amount)}),g([...t]),T.find(o=>o.id===(a==null?void 0:a.id))){const o=t.find(c=>c.id===(a==null?void 0:a.id));B(R({},o))}},[T]),m(()=>{I()},[u]),m(()=>{L.current=n},[n]),m(()=>{r&&(p(!0),O(n,t=>{j.current&&(I((t==null?void 0:t.bets)||[]),p(!1))}))},[r]),m(()=>{if(H==="")return;let t;_.current?t={bet_id:Number(_.current)}:t=L.current,E&&(t=V(R({},t),{sport_ids:[E]})),p(!0),O(t,o=>{j.current&&(I((o==null?void 0:o.bets)||[]),p(!1))})},[H]),pt(()=>{x||B(null)},[x]);const I=(t=null)=>{const c=(t||f).map(d=>(d.show=(u.result==="all"||d.outcome===Number(u.result))&&(u.type==="all"||d.type===Number(u.type)),d));g(c)};return b.jsxs(vt,{value:{reloadHistory:it},children:[dt.GIFT_BET&&b.jsx(Bt,{currentTicket:a,betTickets:f,setBetTickets:g,visible:Q,setVisible:S}),b.jsx(Dt,{mobile:St,desktop:jt,innerProps:{user:N,betHistory:f,filters:u,params:n,setOptions:rt,isLoading:U,executeRebet:ot,currentTicket:a,setCurrentTicket:B,setCashoutModal:z,oddFormat:st,cashoutModal:x,setVisible:S,isDatePicker:W,setIsDatePicker:X,startDate:Y,setStartDate:Z,endDate:tt,setEndDate:et,betId:D,setBetId:v,isSportsbook:e,setIsLoading:p,setSelectedSport:J,selectedSport:E},fallback:b.jsx(xt,{})})]})},Zt=Object.freeze(Object.defineProperty({__proto__:null,BetHistoryLayout:kt},Symbol.toStringTag,{value:"Module"}));export{kt as B,Zt as i,Yt as u};
