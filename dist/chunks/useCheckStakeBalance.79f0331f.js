(function(){"use strict";try{if(typeof document!="undefined"){var e=document.createElement("style");e.appendChild(document.createTextNode(".predefined--container{padding:8px 9px 0;display:flex;flex-wrap:wrap}.predefined--container>button:not(:last-child){margin-bottom:8px}.predefined--container>button{margin:0 3px;background-color:var(--v3-black-4)!important;border-color:var(--v3-black-6)!important;border-radius:6px}.predefined--container>button:hover:not(.predefined--buttonActive){background-color:var(--v3-black-6)!important;border-color:var(--v3-black-6)!important;color:var(--v3-text-color)!important}.predefined--mobile{display:block}.predefined--button span{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.predefined--mobileButton{margin:3px 0 3px 3px}button.predefined--buttonActive{background-color:var(--v3-primary-color)!important;border-color:var(--v3-black-15)!important;color:var(--v3-color-on-primary)!important}.keyboard__container{background-color:var(--v3-black-4);padding:8px}.keyboard__keys{display:flex;flex-wrap:wrap}.keyboard__numberKeys{display:flex;flex:75%;flex-wrap:wrap;direction:ltr}.keyboard__key{box-shadow:var(--v3-shadow-2);color:var(--v3-text-color-secondary);background:var(--v3-black-0);flex:1;border-radius:4px;font-size:20px;min-width:calc(100% / 3 - 6px);font-weight:600;height:40px;margin:3px;display:flex;align-items:center;order:1;justify-content:center}.keyboard__key[aria-disabled=true]{opacity:.5}.keyboard__key--grow{flex:3}.keyboard__key--size{font-size:16px;min-width:calc(100% / 7 - 6px)}.keyboard__key--done{width:100%;color:var(--v3-success-color);font-weight:400;font-size:16px;flex:8}.each-way__sp{justify-content:center;padding:6px 12px;font-size:14px;color:var(--v3-text-color);background-color:var(--v3-black-6);border-radius:4px;cursor:pointer;width:40px;height:32px;display:flex;align-items:center}.each-way__sp-active{color:var(--v3-color-on-primary);background-color:var(--v3-primary-6)}.stakeField--antdInput{width:100%!important;min-width:2px!important;min-height:20px!important;line-height:20px!important;margin-left:0!important;border:none;background-color:transparent!important;padding:0!important}.stakeField--antdInput:focus,.stakeField--antdInput:active{box-shadow:none!important}.stakeField--antdInput:focus::placeholder{color:transparent}.stakeField--antdInput[class*=-input-number-disabled]{background:transparent!important}.stakeField--antdInput [class*=-input-number-handler]{display:none}.stakeField--antdInput .v3-input-number-input{font-size:14px;padding:0 12px;font-weight:600}.stakeField--antdInput .v3-input-number-input:focus,.stakeField--antdInput .v3-input-number-input:active{box-shadow:none}.stakeField--antdInput .v3-input-number-input:focus::placeholder{color:transparent}.stakeField--antdInput input{border-radius:0!important}.stakeField--currency{padding:0 12px;display:flex;align-items:center;justify-content:center;font-size:14px;height:47px;line-height:20px;font-weight:600;letter-spacing:.42px;background-color:var(--v3-black-0);color:var(--v3-text-color)}.stakeField--row{justify-content:space-between;align-items:center;background-color:var(--v3-black-2);border-top:1px solid var(--v3-black-6);flex-wrap:nowrap;display:flex;height:48px}.stakeField--maxWrapper{display:flex;align-items:center}.combinationCount,.combinationCountMob{letter-spacing:.6px;color:var(--v3-black-85);display:flex;align-items:center;padding:0 4px}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var ke=Object.defineProperty;var Z=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var q=(e,n,t)=>n in e?ke(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,J=(e,n)=>{for(var t in n||(n={}))ye.call(n,t)&&q(e,t,n[t]);if(Z)for(var t of Z(n))Ee.call(n,t)&&q(e,t,n[t]);return e};import{t as ce,s as Se}from"./backend-status-codes.80bfe624.js";import{C as Q}from"./col.a0c1837e.js";import{R as ve}from"./index.66ee6c8a.js";import{j as a,i as T,S as B,t as Ie,H as Te,n as pe,u as Be}from"./index.053dea56.js";import{memo as re,useRef as L,useMemo as z,useCallback as je,useEffect as P,Suspense as we,useLayoutEffect as le,useState as ee}from"react";import{c as v}from"./index.fbd937ed.js";import{aF as Ae,aV as te,ap as Ne,aW as Pe,aX as Ce,a7 as Fe,R as Le}from"./index.c0392060.js";import{C,G as ne,E as ae}from"./app-data.da3833f4.js";import{b as Re,u as D,n as V,t as F,o as $,B as ie,p as Me,s as Oe}from"./usePredefinedStakes.58f7290f.js";import{B as de}from"./index.9a56940c.js";import{g as H,a as U}from"./user-data.f480309c.js";import{u as l}from"./index.ffa75b49.js";import{u as G}from"./useTranslation.70287e96.js";import{s as R}from"./styled-components.browser.esm.22f548e7.js";import{_ as X}from"./i18next.083d61f0.js";import{l as K}from"./lazy.73833dcd.js";import{I as Ve}from"./index.84d856cd.js";import{k as ue,a as $e,M as me,K as fe,b as be,l as ze,o as De,B as He,y as Ue}from"./index.59a19261.js";import{a as Ge}from"./api-post-message-sender.98c07ac7.js";import{g as _e}from"./socket.c077606d.js";import{a as Xe}from"./index.fcbc691d.js";const Ke=re(({onChange:e,changeCurrentStake:n,setSelected:t,disabled:o,currentStake:s})=>{const b=l(H),{predefinedStakes:c}=Re(),i=u=>{const f=Ie(+u,s?+s:0),y=B.PREDEFINE_STAKES_ADDING?f:u;n&&n(y.toString()),e(y.toString())},{formatAmount:d}=D(),r=()=>{const{stake_1:u,stake_2:f,stake_3:y}=c;return!(!u||!f||!y)};return a.jsx("div",{className:T()?"predefined--mobile":"predefined--container",children:r()&&Object.keys(c).map(u=>{const f=c[u];if(u==="default_stake")return;const y=new RegExp(B.PRICE_SEPARATOR,"g");return a.jsxs(de,{className:v(["predefined--button",{"predefined--mobileButton":T(),"predefined--buttonActive":+f==+(s||0)}]),disabled:o,size:"large",type:"cancel",fullwidth:!0,onClick:()=>{t&&t("general"),i(typeof f=="number"?f:f.replace(y,""))},children:[B.PREDEFINE_STAKES_ADDING?"+":null,d(Ae(typeof f=="number"?f:f.replace(y,""),B.PRICE_SEPARATOR),b)]},u)})})});const We=["1","2","3","4","5","6","7","8","9","0"],Ye=11,Ze=11,qe=re(({value:e,onChange:n,maxLength:t=Ye,size:o="middle",onDestroy:s,selected:b,toggleQuickBet:c,onCloseKeyboard:i,predefinedStakesDisabled:d,scrollIntoView:r,predefinedStakesFree:u,advanced:f,style:y,disabledDot:j,allowZero:x})=>{const _=L(null),m=z(()=>o==="middle",[o]),{t:k}=G(),I=(h,E)=>{let A="";h?A=te(V(e.toString()),h,t,x):A=te(E.toString(),"",1,x),n(V(A))},M=()=>{e&&n(V(e.toString()).slice(0,Te.SLICE_END_MINUS_1))},N=je(()=>{c&&c(!1),i==null||i(!1),s==null||s()},[c,i,s]);return P(()=>()=>{s==null||s()},[]),P(()=>{var h;r&&((h=_==null?void 0:_.current)==null||h.scrollIntoView({block:"center"}))},[b]),a.jsx("div",{className:"keyboard__container",ref:_,style:y,children:a.jsxs(ve,{children:[a.jsx(Q,{span:m&&!u?C.SIZE_17:C.SIZE_24,children:a.jsx("div",{className:"keyboard__keys",children:a.jsxs("div",{className:"keyboard__numberKeys",children:[We.map((h,E)=>a.jsx("div",{"data-testid":h,className:v(["keyboard__key",{"keyboard__key--grow":h==="0","keyboard__key--size":o==="small"}]),onClick:()=>I(h,""),style:{order:h==="0"&&o==="middle"?Ze:E},children:h},h)),a.jsx("div",{"data-testid":".",className:v(["keyboard__key",{"keyboard__key--size":o==="small"}]),style:{order:10},onClick:()=>j?()=>{}:I(".",""),"aria-disabled":j,children:a.jsx(ne,{lib:"generic",name:"dot",theme:"default",size:ae._4})}),a.jsx("div",{"data-testid":"backspace",className:v(["keyboard__key keyboard__key--grow",{"keyboard__key--size":o==="small"}]),style:{order:12},onClick:M,children:a.jsx(ne,{lib:"generic",name:"backspace",theme:"default",size:ae._16})}),f&&a.jsx("div",{"data-testid":"keyboard-done",className:v(["keyboard__key keyboard__key--grow keyboard__key--done",{"keyboard__key--size":o==="small"}]),style:{order:13},onClick:N,children:a.jsx("span",{children:k("sportsbook.done")})})]})})}),m&&a.jsxs(Q,{span:u?C.SIZE_24:C.SIZE_7,children:[!u&&a.jsx(Ke,{onChange:h=>I("",h),disabled:d,currentStake:e}),a.jsx("div",{"data-testid":"keyboard-done",className:v(["keyboard__key keyboard__key--grow keyboard__key--done",{"keyboard__key--size":o==="small"}]),onClick:N,children:a.jsx("span",{children:k("sportsbook.done")})})]})]})})}),Ft=Object.freeze(Object.defineProperty({__proto__:null,CustomKeyboard:qe},Symbol.toStringTag,{value:"Module"})),Je=e=>{const n=/(auto|scroll)/,t=(i,d)=>(i==null?void 0:i.parentNode)===null?d:t(i==null?void 0:i.parentNode,d.concat([i])),o=(i,d)=>getComputedStyle(i,null).getPropertyValue(d),s=i=>o(i,"overflow")+o(i,"overflow-y")+o(i,"overflow-x"),b=i=>n.test(s(i));return(i=>{if(!(i instanceof HTMLElement))return;const d=t(i.parentNode,[]);for(let r=0;r<d.length;r+=1)if(b(d[r]))return d[r];return document.scrollingElement||document.documentElement})(e)},Qe=R.div`
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  ${e=>e.$paddingLeft?"padding: 0":"padding: 0 12px"}
`,et=R.div`
  font-size: 14px;
  min-width: 2px;
  min-height: 20px;
  line-height: 20px;
  position: relative;
  display: inline-block;
  color: var(--v3-text-color);
  ${e=>e.active&&` &:after {
        top: 10%;
        right: 0;
        content: '';
        height: 80%;
        position: absolute;
        margin-left: 3px;
        border-right: 1.5px solid #108ee9;
        -webkit-animation: keyboard-cursor infinite 1s step-start;
        animation: keyboard-cursor infinite 1s step-start;
        right: 0;
      }

  `}
`,tt=R.div`
  color: var(--v3-text-color-secondary);
  white-space: nowrap;
  line-height: 20px;
  font-size: 14px;
  left: 2px;
  top: 0;
  ${e=>e.$paddingLeft?"padding-left: 0":"padding-left: 0px"}
`,nt=R(de)`
  width: auto !important;
  min-width: 52px;
  height: 32px;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  flex-direction: row !important;
  padding: 6px 12px !important;
  border: none !important;
  border-radius: 4px !important;
  color: var(--v3-text-color) !important;
  background-color: var(--v3-black-6) !important;
  margin: 0 12px;
  &:hover {
    &:not([disabled]) {
      color: var(--v3-primary-6) !important;
      background-color: var(--v3-black-6) !important;
    }
  }

  &[disabled] {
    color: var(--v3-black-45) !important;
  }

  & span,
  div {
    font-size: ${e=>e.$oddOffer?"12":"14"}px;
    line-height: ${e=>e.$oddOffer?"16":"20"}px;
  }
`;const{Advanced:at}=K(()=>X(()=>import("./advanced.fadd3082.js"),["chunks/advanced.fadd3082.js","chunks/index.053dea56.js","chunks/index.c0392060.js","chunks/backend-status-codes.80bfe624.js","chunks/i18next.083d61f0.js","chunks/swarm-command-names.230156ba.js","chunks/index.59a19261.js","chunks/index.ffa75b49.js","chunks/user-data.f480309c.js","chunks/useTranslation.70287e96.js","chunks/context.f61a2be2.js","chunks/useDispatch.cd750ed9.js"])),{Single:it}=K(()=>X(()=>import("./single.a92729df.js"),["chunks/single.a92729df.js","chunks/index.053dea56.js","chunks/index.fbd937ed.js","chunks/index.c0392060.js","chunks/backend-status-codes.80bfe624.js","chunks/i18next.083d61f0.js","chunks/swarm-command-names.230156ba.js","chunks/index.59a19261.js","chunks/index.ffa75b49.js","chunks/user-data.f480309c.js","chunks/useTranslation.70287e96.js","chunks/context.f61a2be2.js","chunks/useDispatch.cd750ed9.js"])),{Basic:st}=K(()=>X(()=>import("./basic.9e5834ca.js"),["chunks/basic.9e5834ca.js","chunks/index.053dea56.js","chunks/index.fbd937ed.js","chunks/index.c0392060.js","chunks/backend-status-codes.80bfe624.js","chunks/i18next.083d61f0.js","chunks/swarm-command-names.230156ba.js","chunks/index.59a19261.js","chunks/index.ffa75b49.js","chunks/user-data.f480309c.js","chunks/useTranslation.70287e96.js","chunks/context.f61a2be2.js"])),ot={0:it,1:at,2:st},ct=e=>{const n=ot[e.type];return a.jsx("div",{className:`${T()&&"mobile-each-way "} each-way__contanier`,children:a.jsx(we,{fallback:null,children:a.jsx(n,{event:e.event,index:e.index||null})})})};function rt(e){const n=l(U),t=l(ue),o=l($e),s=l(H),b=l(_e);return z(()=>!s||!(t!=null&&t.length)&&!o&&!e||!n?!1:!!(n.sport_bonus&&s||n.bonus_money&&s),[s,t==null?void 0:t.length,b,o,e])}function he(){const e=l(U),n=l(me),t=rt(),o=l(fe);return z(()=>{var b;let s=+e.balance;if(t&&n&&((b=e==null?void 0:e.bonus_balance)!=null?b:0)>=0){const c=e!=null&&e.bonus_win_balance?e==null?void 0:e.bonus_win_balance:0,i=e!=null&&e.bonus_balance?e==null?void 0:e.bonus_balance:0,d=e!=null&&e.frozen_balance?e==null?void 0:e.frozen_balance:0;s=c+i+d}return e.bonus_money&&o&&(s=e.bonus_money),s=s||+e.balance,s},[n,e,t,o])}const lt=e=>{const n=L(e);return le(()=>{n.current=e},[e]),n.current};const se={withSeparator:12,withoutSeparator:10},dt=$?se.withSeparator:se.withoutSeparator,Lt=e=>{var W,Y;const n=l(H),t=l(be),o=l(ue),s=l(ze),b=l(De),{t:c}=G(),{currency:i,currencyId:d,placement:r}=D(),[u,f]=ee(!1),[y,j]=ee(!1),x=L(),_=l(He),m=Ne(_),k=he(),I=lt(m),M=e.stake?e.stake.toString():"",N=g=>{var S,w;(S=e.onChange)==null||S.call(e,g,e.eventIdForStakes),(w=e==null?void 0:e.changeCurrentStake)==null||w.call(e,g)};P(()=>{var g;e.changeCurrentStake&&I!=="single"&&e.changeCurrentStake((g=e.stake)!=null?g:e.inputDefaultValue!=="0"?e.inputDefaultValue:"")},[]),P(()=>{var g;u&&((g=e.onFocus)==null||g.call(e))},[u]),P(()=>{s===0&&m!=="single"&&o.length>1?j(!o.find(g=>!g.ewAllowed)):j(!1)},[o,m,s]),le(()=>{var w,O;const{refItem:g}=e,S=g!=null?g:x;if(e.isLast&&S&&(S!=null&&S.current)){const p=Je(S.current);p==null||p.scrollTo(0,p.scrollHeight),(O=(w=S.current).focus)==null||O.call(w,{preventScroll:!0})}},[e.shouldUpdate]);const h=({target:g})=>{const{value:S}=g,w=Me(S,$)||"",p=(e.isOdd?xe=>Pe(xe,Ce.Cut):Fe)(w).toString();e.isOdd||p&&p.length<dt?N(p):N("")},E={left:e.checkCurrencyContent===!1?!1:!!d&&r==="left"&&!e.isOdd,right:e.checkCurrencyContent===!1?!1:!!d&&r==="right"&&!e.isOdd},A=(W=F(e.currentStake||"")||F(M))!=null?W:F(e.inputDefaultValue),ge=m===pe.SYSTEM&&!!(b!=null&&b.combinationCount)&&!e.inMultipleOfTheDay;return a.jsxs("div",{className:v(["stakeField--row",{"stakeField--row--left":E.left}]),onClick:e.onClick,children:[E.left&&a.jsx("div",{className:v(["stakeField--currency",{"stakeField--currency--focused":u||T()&&e.active}]),children:i}),a.jsx(Qe,{$paddingLeft:E.left,"data-testid":`${e.dataTestIdPrefix||"stake-"}input`,children:T()?a.jsx(et,{className:"betslip__placeholder",active:e.active&&!e.disabled,children:A||a.jsx(tt,{$paddingLeft:E.left,children:!T()&&(t==null?void 0:t.amount)||(e.active?"":e.placeholder)})}):a.jsx(Ve,{className:v(["stakeField--antdInput",{"stakeField--antdInput--left":E.left}]),style:J({width:"calc(100% - 30px)"},e.maxValue&&{marginLeft:-11}),bordered:!1,value:A,ref:(Y=e.refItem)!=null?Y:x,placeholder:(t==null?void 0:t.active)&&c("betslip.editBetPlaceholder")||e.placeholder,maxLength:$?ie+2:ie,onFocus:()=>f(!0),onBlur:()=>f(!1),onInput:h,onPressEnter:e.onPressEnter,disabled:e.disabled})}),ge&&a.jsxs("div",{className:T()?"combinationCountMob":"combinationCount",children:["(x",b.combinationCount,")"]}),E.right&&a.jsx("div",{className:v(["stakeField--currency",{"stakeField--currency--focused":u||T()&&e.active},{"stakeField--currency--left":T()&&E.left}]),children:i}),n&&e.max&&(B.BETSLIP_MAX_BTN||e.maxValue)?a.jsx("div",{className:"stakeField--maxWrapper",children:a.jsx(nt,{type:"text",size:"middle","data-testid":`${e.dataTestIdPrefix||""}max-button`,loading:e.isLoading,onClick:e.onMaxClick,$oddOffer:!!e.maxValue,disabled:e.disabled||!!(B.BETSLIP_MAX_BTN_TYPE&&!k),icon:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:c(`account.${B.BETSLIP_MAX_BTN_TYPE?"allIn":"max"}`)}),!!e.maxValue&&a.jsxs("div",{children:[" ",e.maxValue," ",e.maxNotConvertedValue&&`(${e.maxNotConvertedValue})`]})]})})}):null,y&&a.jsx(ct,{type:2})]})},oe={};function ut(e,n,t=ce.DURATION_300){return(...o)=>{clearTimeout(oe[e]),oe[e]=setTimeout(()=>{n(...o)},t)}}function Rt(){const e=Be(),{t:n}=G(),{currencyId:t}=D(),o=he(),s=l(U),b=l(Ue),c=l(_e),i=l(me),d=l(fe),r=l(be),u=L(Le.rand()),f=()=>{i||d||(B.IFRAME_SPORTSBOOK?Ge("deposit"):e.push(Xe({accounts:"*",wallet:"*",deposit:"*"})))},y=(x,_)=>{const m=(r==null?void 0:r.active)&&(r==null?void 0:r.amount)&&+r.amount+ +x<((c==null?void 0:c.min_bet_stakes[t])||0),k=+x!=0&&(!(r!=null&&r.active)&&+x<((c==null?void 0:c.min_bet_stakes[t])||0)||m);if(k){const I=n("betslip.betStakeMinLimitErrors",{min_bet:F((c==null?void 0:c.min_bet_stakes[t])||""),currency:t});Oe(I,_?document.getElementById(_):document.body)}return k},j=(x,_)=>{const m=+x>(o||s.balance);if(m){let k="";i&&(s!=null&&s.bonus_balance)?k=n("betslip.insufficientBonusFundError"):d?k=n("betslip.insufficientAccountFundError"):k=n("betslip.insufficientFundError"),Se(`<span>${k}</span>`,_?document.getElementById(_):document.body,null,f,{cursor:"pointer"})}return m};return ut(u.current,(x,_,m)=>{if(_===""||b)return m==null?void 0:m(!1);const k=y(_,x),I=j(_,x);m==null||m(k||I||!Number(_))},ce.DURATION_500)}export{qe as C,ct as E,Lt as S,et as V,rt as a,he as b,Ft as i,Rt as u};
