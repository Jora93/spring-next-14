var ae=Object.defineProperty,oe=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var $=(e,t,a)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,v=(e,t)=>{for(var a in t||(t={}))L.call(t,a)&&$(e,a,t[a]);if(R)for(var a of R(t))H.call(t,a)&&$(e,a,t[a]);return e},E=(e,t)=>oe(e,ie(t));var T=(e,t)=>{var a={};for(var o in e)L.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&R)for(var o of R(e))t.indexOf(o)<0&&H.call(e,o)&&(a[o]=e[o]);return a};import{_ as ne}from"./i18next.083d61f0.js";import{u as le,I as me,j as n,S as pe,i as b,ad as ce}from"./index.053dea56.js";import{useMemo as B,useCallback as K,memo as Q,useState as de,useEffect as V,Suspense as ue}from"react";import{c as x}from"./index.fbd937ed.js";import{s as P}from"./array-sort-by.690dd174.js";import{G as Y,E as w,S as q}from"./app-data.da3833f4.js";import{l as ge}from"./lazy.73833dcd.js";import{R as U}from"./index.c0392060.js";import{E as X}from"./not-real-sports.64fc4139.js";import{e as Z,u as ee}from"./get-data-level.db296203.js";import{P as he,p as D,s as fe,r as _e,c as ve}from"./data-fields.6d263ede.js";import{c as be}from"./create-where-object.c46b7df7.js";import{g as Ce,s as je}from"./route-manipulation.fb85cda5.js";import{a as ye}from"./addStreamInfoToGame.83901e46.js";import{C as te}from"./MarketListOnlyESportSkeleton.9139d4ab.js";import{M as Ae}from"./index.4224195e.js";import{u as F}from"./useSearchParams.0c3b0efc.js";import{u as z}from"./useSbRouteMatch.6006fa30.js";import{i as Se,y as Oe,z as se,b as Ee}from"./sport-data.b40f7b49.js";import{f as Ne,h as ke,d as xe,e as J}from"./Skeleton.8e936dc0.js";import{u as W}from"./useDispatch.cd750ed9.js";import{u as C}from"./index.ffa75b49.js";import{C as G}from"./index.9fa2e41e.js";import{EventCollapse as M}from"./index.5ffe4536.js";import{h as Pe,R as Re}from"./index.dd0790b5.js";import{s as we}from"./useSortFavoriteSportsOrdering.f78079af.js";import{h as Ie,i as Te}from"./fav-data.1c5898b7.js";import{g as De}from"./new-sportsbook.b7bad95f.js";import{u as Ge}from"./useTranslation.70287e96.js";const Me=({competitionData:e,sportData:t})=>{var N;const{path:a,params:o}=z(),{type:l}=F(),g=le(),h=W(),c=(N=C(Ne))==null?void 0:N[`${l}${t.sportAlias}`],f=C(Se),u=B(()=>{const d=c?P(Object.values(c),"start_ts").filter(s=>{var r;return(r=e==null?void 0:e.game)==null?void 0:r[s.id]}):null;if(d&&f)return ye(d,f)},[c,e,f]),S=K((d,s)=>{var p;h(Oe({id:s.toString(),top:((p=d.currentTarget.parentElement)==null?void 0:p.getBoundingClientRect().top)||0}));const r={};o.competition&&(r.competition=o.competition),o.region&&(r.region=o.region);const i={type:l};g.push({pathname:`${Ce(a)}${je(E(v({},r),{sport:o.sport,game:`${s}`}))}`,search:me.stringify(i)})},[o,l,a]);return u?n.jsx(n.Fragment,{children:u.map(d=>n.jsx(Ae,{game:d,currentSport:t.sportAlias,competitionName:e.name,sportName:t.sportName,onClick:s=>S(s,d.id),configs:{category:"esport"},longDate:!0,regionAlias:e.region},d.id))}):n.jsx(te,{})},re=(e,t)=>({live:{type:1},prematch:v(v({},he),t?{start_ts:t}:{}),all:v({"@or":[{type:{"@in":[0,1,2]}},{visible_in_prematch:1}]},t?{start_ts:t}:{})})[e],Be=Q(({sport:e,withPadding:t})=>{const a=C(se),o=C(Ee),{params:{sport:l}}=z(),g=W(),{type:h}=F(),[c,f]=de({}),u=h==="prematch"&&l==="AllESports",S=K(s=>{s!=null&&s.game&&g(ke({data:{[`${h}${e.alias}`]:s.game}}))},[h,e.alias]);V(()=>{if((!e.alias||!h)&&!pe.MOCKED_DATA)return;const s=U.gForSubscribe("esportGamesByCompetition"),r={display_key:"WINNER"},i=E(v({},be({isESport:!0,currentQueryObj:{alias:e.alias}})),{game:re(h,o),market:r}),p={event:D.event,market:[...D.market,"group_id","group_name"],game:[[...D.game[0],"type","info","text_info","sport_alias"]]};return Z(s,p,i,S,!0,S),()=>{ee(s)}},[e.alias,h,o]);const N=B(()=>{const s=r=>Object.values(r.competition||{}).map(i=>{var p;return i.region=r.alias,i.orderByStart=i.game&&((p=Object.values(i.game))==null?void 0:p[0].start_ts),i});if(u){const r=[];return Object.values(e.region||{}).map(i=>s(i)).flat(1).map(i=>{Object.values(i.game||{}).map(p=>{r.push({id:p.id,name:i.name,start_ts:p.start_ts,order:i.order,region:i.region,sportAlias:i.sportAlias,orderByStart:i.orderByStart,game:{[p.id]:p}})})}),P(r,"start_ts")}else return P(Object.values(e.region||{})).map(r=>P(s(r),"orderByStart")).flat(1)},[e.region,u]),d={wrapper:x(["v3-event-collapse",{"v3-event-collapse__esportPrematchAll":u,"v3-event-collapse__esportPrematchAll--mobile":b()&&h==="prematch"}]),header:x([{"v3-event-collapse__header--esport":u}])};return n.jsx("div",{style:{padding:t&&!u?"4px 4px 2px":h==="live"&&b()?"4px":"0"},className:x(["competitionsBySportWrapper",{esport__dropdownContainer:!u,"esport__dropdownContainer--mobile":!u&&b(),esport__not__allSports:l!==X.AllESports}]),children:N.map((s,r)=>n.jsx(G,{condition:!u,wrapper:i=>{var p,k;return n.jsx(M,{title:s.name,defaultActive:(k=c[s.id])!=null?k:r===0||!!((p=s==null?void 0:s.game)!=null&&p[(a==null?void 0:a.id)||""]),onChange:m=>{f(_=>E(v({},_),{[s.id]:m}))},icon:n.jsx(Y,{name:s.region,lib:"flags",size:w._24}),wrapperClassName:d.wrapper,headerClassName:d.header,children:i},r)},children:n.jsx(Me,{competitionData:s,sportData:{sportAlias:e.alias,sportName:e.name}},r)},s.id))})},(l,h)=>{var g=l,{children:e}=g,t=T(g,["children"]);var c=h,{children:a}=c,o=T(c,["children"]);return JSON.stringify(t)===JSON.stringify(o)}),Fe=(e,t,a,o)=>{const l={sport:fe.sport,region:_e.region,competition:ve.competition,game:["id","start_ts"]},g={sport:{type:0},game:re(a,o)};Z(e,l,g,t,!0,t)},{NoItem:ze}=ge(()=>ne(()=>import("./index.dd0790b5.js").then(e=>e.a4),["chunks/index.dd0790b5.js","chunks/i18next.083d61f0.js","chunks/index.053dea56.js","chunks/swarm-command-names.230156ba.js","chunks/generic.97974c67.js","chunks/route-manipulation.fb85cda5.js","chunks/index.c0392060.js","chunks/backend-status-codes.80bfe624.js","chunks/not-real-sports.64fc4139.js","chunks/lazy.73833dcd.js","chunks/get-data-level.db296203.js","chunks/useSportsbookConfigs.a1eb5af5.js","chunks/index.fbd937ed.js","chunks/app-data.da3833f4.js","chunks/create-test-id.17a0abc8.js","chunks/create-fake-array.68114bc4.js","chunks/index.ffa75b49.js","chunks/data-fields.6d263ede.js","chunks/array-sort-by.690dd174.js","chunks/game-data.db5bee93.js","chunks/tour.8bae694e.js","chunks/index.652e9765.js","chunks/styled-components.browser.esm.22f548e7.js","chunks/toConsumableArray.19249869.js","chunks/placements.f27399b1.js","chunks/index.9a56940c.js","chunks/useOpenLoginPopup.d27706ba.js","chunks/custom-categories.e4debdf9.js","chunks/index.fcbc691d.js","chunks/useSearchParams.0c3b0efc.js","chunks/fav-data.1c5898b7.js","chunks/user-data.f480309c.js","chunks/useDispatch.cd750ed9.js","chunks/index.9fa2e41e.js","chunks/useTranslation.70287e96.js","chunks/context.f61a2be2.js","chunks/index.59a19261.js","chunks/index.a61ad5f8.js","chunks/EmptyOddGroup.d87d06ac.js","chunks/EmptyOdd.f2ae87eb.js","chunks/usePredefinedStakes.58f7290f.js","chunks/odds.334494eb.js","chunks/socket.c077606d.js","chunks/batch.dcd71b53.js","chunks/calculate-boosted-odds.8854e450.js","chunks/useOddChange.42d6d46a.js","chunks/index.c41901f2.js","chunks/index.092cd2c1.js","chunks/useDoBet.0560f246.js","chunks/editBetActions.91db0d9c.js","chunks/edit-bet.f841d32c.js","chunks/getAdvancedMultipleGeneralField.a271e2a8.js","chunks/counterOffer.671956cb.js","chunks/useEventbus.f35d817d.js","chunks/sport-data.b40f7b49.js","chunks/index.d930ff85.js","chunks/useSbRouteMatch.6006fa30.js","chunks/index.71506da4.js","chunks/index.812cdb8e.js","chunks/new-sportsbook.b7bad95f.js","chunks/index.b35b9773.js","chunks/Skeleton.8e936dc0.js","chunks/game-current-state.364f0ffb.js","chunks/sport-list.d0c83c34.js","chunks/live-games-helper.8638cd4e.js","chunks/col.a0c1837e.js","chunks/index.66ee6c8a.js","chunks/index.c08ef8e3.js","chunks/index.3dcc1bea.js","chunks/useMounted.6d9c5610.js","chunks/rtl.f8a1526a.js","chunks/index.2c227bf4.js","chunks/api-post-message-sender.98c07ac7.js","chunks/match-tracker-sports.9fc37b4c.js","chunks/Skeleton.98603ae6.js","chunks/handleRedirectToSportsBook.89a7df33.js","chunks/index.b3ca38a7.js","chunks/index.07b8ab74.js","chunks/get-tournament-time.134e5bb0.js","chunks/sportsbook.2cb562a0.js","chunks/index.5ffe4536.js","chunks/index.9f857438.js","chunks/new-sportsbook.4549be32.js","chunks/index.184af16c.js","chunks/useCalculateBetslipFixedSwitchersHeight.b869a969.js","chunks/index.c2e99b3f.js","chunks/global-variables.eb46f49b.js","chunks/index.4224195e.js","chunks/index.d6652226.js","chunks/hide-private-competitions.0dd8a5a5.js","chunks/private-competitions.91107fbb.js","chunks/dropdown.76994893.js","chunks/EllipsisOutlined.491da4e5.js","chunks/KeyCode.6413d982.js","chunks/index.f9d28115.js","chunks/index.77924ee5.js","chunks/index.391bace7.js","chunks/Overflow.5f48b1c8.js","chunks/FavoriteButtonGame.67180922.js","chunks/index.8214fe93.js","chunks/index.4e03bf34.js","chunks/spec-elems.3577ab05.js","chunks/useSortFavoriteSportsOrdering.f78079af.js","chunks/index.e408531e.js","chunks/useUpdateEffect.ee726e5b.js","chunks/index.68ae7eeb.js","chunks/index.03ce9bd5.js","chunks/style.32a730b7.js","chunks/index.34e99d41.js","chunks/index.baf6c475.js","chunks/useSportsFavoriteClickHandler.d32a0014.js","chunks/index.20fa6083.js","chunks/useBoostedOdds.4248980f.js","chunks/useContentHeight.a1c79de7.js","chunks/jackpot.05884396.js","chunks/index.98ac8429.js","chunks/index.19d3f5f2.js","chunks/index.4def701f.js"])),We=8,$e=4,bt=Q(({externalSport:e})=>{const{t}=Ge(),a=W(),{params:{sport:o}}=z(),l=C(De),{type:g}=F(),h=C(Ie).sportsWithCompetitions,c=ce(),f=C(xe),u=C(se),S=C(Te),d=((e==null?void 0:e.alias)||(l==null?void 0:l.alias)||o)===X.AllESports,s=g==="prematch"&&d,r=B(()=>{const m=(e==null?void 0:e.id)||(l==null?void 0:l.id);let _;if(f&&m!==void 0&&(_=d?f:f[m]?{[m]:f[m]}:void 0),!c.competition&&!c.region||c.competition==="all"&&c.region==="all")return _;{let y={};return _&&Object.values(_).find(O=>{const j=O.region&&Object.values(O.region).find(I=>String(I.alias)===c.region);let A;if(j&&(A=j.competition&&Object.values(j.competition).find(I=>String(I.id)===c.competition)),j&&A)return y={[O.id]:E(v({},O),{region:{[j.id]:E(v({},j),{competition:{[A.id]:A}})}})},!0}),y}},[f,l,e,c.competition,c.region]);if(V(()=>{const m=U.gForSubscribe("esportSports");return e&&!r&&Fe(m,y=>{Object.keys(y.sport).length?a(J(y.sport)):a(J(void 0))},g),()=>{e&&!r&&ee(m)}},[r,e]),f===void 0)return null;if((l==null?void 0:l.alias)==="favourites")return h?n.jsx(Pe,{}):n.jsx(ue,{fallback:n.jsx(Re,{}),children:n.jsx(ze,{title:t("sportsbook.noGame"),text:t("sportsbook.emptyFavoriteMarkets"),size:"medium"})});const i={wrapper:x(["v3-event-collapse esport__collapse__container",{"v3-event-collapse__esportPrematchAll":s,"v3-event-collapse__esportPrematchAll--mobile":b()&&g==="prematch"}]),header:x([{"v3-event-collapse__header--esport":s}])},p=we(S,r?P(Object.values(r))||[]:[],"id"),k=b()?"esport__competitions__container--mobile":"esport__competitions__container";return r&&p?n.jsx("div",{className:k,children:p.map((m,_)=>n.jsx(G,{condition:Object.keys(r).length>1,wrapper:y=>{const O=_===0||m.competition&&Object.values(m.competition).some(j=>{var A;return(A=j.game)==null?void 0:A[(u==null?void 0:u.id)||""]});return n.jsx(M,{title:m.name,defaultActive:O,size:b()?"default":"middle",icon:n.jsx(Y,{name:m.alias,lib:"sports",size:w._24}),headerClassName:i.header,wrapperClassName:i.wrapper,children:y},m.id)},children:n.jsx(Be,{sport:m,withPadding:Object.keys(r).length>1})},m.id))}):n.jsx(G,{condition:d&&g==="live",wrapper:m=>n.jsx("div",{className:k,children:n.jsx(M,{title:n.jsx(q.Input,{active:!0,style:{width:70,maxWidth:70,height:14,borderRadius:4}}),defaultActive:!0,size:b()?"default":"middle",icon:n.jsx(q.Avatar,{active:!0,style:{width:w._24,height:w._24}}),headerClassName:i.header,wrapperClassName:i.wrapper,children:n.jsx("div",{style:{padding:b()?$e:We,backgroundColor:b()?"var(--v3-black-6)":"var(--v3-black-2)"},children:m})})}),children:n.jsx(te,{withTitle:!0,withFlag:!d&&g==="live"})})});export{bt as C,Fe as g};
