var b=Object.defineProperty,x=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var E=(o,s,t)=>s in o?b(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t,J=(o,s)=>{for(var t in s||(s={}))F.call(s,t)&&E(o,t,s[t]);if(y)for(var t of y(s))O.call(s,t)&&E(o,t,s[t]);return o},k=(o,s)=>x(o,D(s));import{g as _}from"./get-domain.8143fbe7.js";import{j as A}from"./index.9a33d21b.js";import{useState as H,useMemo as P,useEffect as U,useCallback as W}from"react";import{d as p,B as d,s as $}from"./backend-status-codes.4c1943df.js";import{aq as q}from"./index.2e7649fa.js";import{j as v}from"./index.3dc509b3.js";import{B as z}from"./index.7d5f88f7.js";import{u as M}from"./useOpenLoginPopup.9bf6877c.js";import{h as G,i as K}from"./casino-data.e9191b01.js";import{c as Q,f as V,d as X}from"./casino-data.957df014.js";import{g as Y}from"./user-data.358c1cdc.js";import{u as Z}from"./useTranslation.70287e96.js";import{u as R}from"./useDispatch.151d3a82.js";import{u as c}from"./index.17630e7e.js";const oo=["Canceled","Finished"],ho=o=>!o||!oo.includes(o),Bo=o=>o?`https://spider.${_()}/${o}`:"",Co=({fullwidth:o,tournament:{IsParticipated:s,JoinDate:t,Id:e,RegistrationStartDate:f,RegistrationEndDate:l},joinText:T})=>{const{t:g}=Z(),u=R(),a=c(Q),I=c(V),i=c(X),[L,m]=H(!1),r=c(Y),h=M(),{autoJoin:B}=i&&(a==null?void 0:a[i].find(n=>n.Id===e))||{},w=P(()=>{const n=p();return p.utc(f).isBefore(n)&&p.utc(n).isBefore(l)},[f,l]),C=()=>{m(!0),v(e,n=>{n.result.ErrorId===d.casino.switchToFTNWallet||n.result.ErrorId===d.casino.currencyNotSupported?$(g(q[d.casino.switchToFTNWallet])):u(K(e)),m(!1)},()=>m(!1))};U(()=>{!s&&r&&B&&C()},[r,s,B]);const N=W(n=>{if(n.stopPropagation(),i&&!r){u(G({data:a[i].map(j=>k(J({},j),{autoJoin:String(j.Id)===String(e)})),productTypeId:i})),h();return}C()},[r,u,a,e,h]),S=r&&(!!(t||s||!w)||I.includes(e));return A.jsx(z,{fullwidth:o,type:"primary",size:"large",loading:L,onClick:N,disabled:S,children:r&&S?g("casino.joined"):T})};export{Co as C,ho as a,Bo as g};
