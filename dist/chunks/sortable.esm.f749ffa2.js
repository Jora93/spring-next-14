var zn=Object.defineProperty,Pn=Object.defineProperties;var Bn=Object.getOwnPropertyDescriptors;var Qe=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;var gt=Math.pow,Yt=(e,t,n)=>t in e?zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))jt.call(t,n)&&Yt(e,n,t[n]);if(Qe)for(var n of Qe(t))Wt.call(t,n)&&Yt(e,n,t[n]);return e},A=(e,t)=>Pn(e,Bn(t));var vt=(e,t)=>{var n={};for(var r in e)jt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qe)for(var r of Qe(e))t.indexOf(r)<0&&Wt.call(e,r)&&(n[r]=e[r]);return n};var Ut=(e,t,n)=>new Promise((r,o)=>{var i=l=>{try{a(n.next(l))}catch(c){o(c)}},s=l=>{try{a(n.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(e,t)).next())});import Y,{useLayoutEffect as kn,useEffect as O,useRef as M,useMemo as T,useCallback as $,useState as q,createContext as je,memo as Fn,useReducer as $n,useContext as we}from"react";import{unstable_batchedUpdates as Ze,createPortal as Xn}from"react-dom";function Yn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(()=>r=>{t.forEach(o=>o(r))},t)}const lt=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Ee(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Rt(e){return"nodeType"in e}function j(e){var t,n;return e?Ee(e)?e:Rt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Et(e){const{Document:t}=j(e);return e instanceof t}function We(e){return Ee(e)?!1:e instanceof j(e).HTMLElement}function rn(e){return e instanceof j(e).SVGElement}function Ie(e){return e?Ee(e)?e.document:Rt(e)?Et(e)?e:We(e)||rn(e)?e.ownerDocument:document:document:document}const oe=lt?kn:O;function It(e){const t=M(e);return oe(()=>{t.current=e}),$(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function jn(){const e=M(null),t=$((r,o)=>{e.current=setInterval(r,o)},[]),n=$(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Xe(e,t){t===void 0&&(t=[e]);const n=M(e);return oe(()=>{n.current!==e&&(n.current=e)},t),n}function Ue(e,t){const n=M();return T(()=>{const r=e(n.current);return n.current=r,r},[...t])}function rt(e){const t=It(e),n=M(null),r=$(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function mt(e){const t=M();return O(()=>{t.current=e},[e]),t.current}let pt={};function He(e,t){return T(()=>{if(t)return t;const n=pt[e]==null?0:pt[e]+1;return pt[e]=n,e+"-"+n},[e,t])}function on(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[l,c]of a){const u=i[l];u!=null&&(i[l]=u+e*c)}return i},g({},t))}}const Re=on(1),ot=on(-1);function Wn(e){return"clientX"in e&&"clientY"in e}function At(e){if(!e)return!1;const{KeyboardEvent:t}=j(e.target);return t&&e instanceof t}function Un(e){if(!e)return!1;const{TouchEvent:t}=j(e.target);return t&&e instanceof t}function xt(e){if(Un(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Wn(e)?{x:e.clientX,y:e.clientY}:null}const it=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[it.Translate.toString(e),it.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Ht="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Hn(e){return e.matches(Ht)?e:e.querySelector(Ht)}const Kn={display:"none"};function Vn(e){let{id:t,value:n}=e;return Y.createElement("div",{id:t,style:Kn},n)}function qn(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Y.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Gn(){const[e,t]=q("");return{announce:$(r=>{r!=null&&t(r)},[]),announcement:e}}const sn=je(null);function Jn(e){const t=we(sn);O(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function _n(){const[e]=q(()=>new Set),t=$(r=>(e.add(r),()=>e.delete(r)),[e]);return[$(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const Qn={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Zn={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function er(e){let{announcements:t=Zn,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Qn}=e;const{announce:i,announcement:s}=Gn(),a=He("DndLiveRegion"),[l,c]=q(!1);if(O(()=>{c(!0)},[]),Jn(T(()=>({onDragStart(d){let{active:v}=d;i(t.onDragStart({active:v}))},onDragMove(d){let{active:v,over:f}=d;t.onDragMove&&i(t.onDragMove({active:v,over:f}))},onDragOver(d){let{active:v,over:f}=d;i(t.onDragOver({active:v,over:f}))},onDragEnd(d){let{active:v,over:f}=d;i(t.onDragEnd({active:v,over:f}))},onDragCancel(d){let{active:v,over:f}=d;i(t.onDragCancel({active:v,over:f}))}}),[i,t])),!l)return null;const u=Y.createElement(Y.Fragment,null,Y.createElement(Vn,{id:r,value:o.draggable}),Y.createElement(qn,{id:a,announcement:s}));return n?Xn(u,n):u}var z;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(z||(z={}));function st(){}function Ro(e,t){return T(()=>({sensor:e,options:t!=null?t:{}}),[e,t])}function Eo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(()=>[...t].filter(r=>r!=null),[...t])}const Z=Object.freeze({x:0,y:0});function tr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function rr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function or(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Kt(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Io=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Kt(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=tr(Kt(l),o);i.push({id:a,data:{droppableContainer:s,value:c}})}}return i.sort(nr)};function ir(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const l=t.width*t.height,c=e.width*e.height,u=s*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const sr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const l=ir(a,t);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(rr)};function ar(e,t,n){return A(g({},e),{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}function an(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Z}function lr(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>A(g({},s),{top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),g({},n))}}const cr=lr(1);function ur(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function dr(e,t,n){const r=ur(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,l=e.left-s-(1-o)*parseFloat(n),c=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const fr={ignoreTransform:!1};function Ae(e,t){t===void 0&&(t=fr);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:u}=j(e).getComputedStyle(e);c&&(n=dr(n,c,u))}const{top:r,left:o,width:i,height:s,bottom:a,right:l}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:l}}function Vt(e){return Ae(e,{ignoreTransform:!0})}function hr(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function gr(e,t){return t===void 0&&(t=j(e).getComputedStyle(e)),t.position==="fixed"}function vr(e,t){t===void 0&&(t=j(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function Tt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Et(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!We(o)||rn(o)||n.includes(o))return n;const i=j(e).getComputedStyle(o);return o!==e&&vr(o,i)&&n.push(o),gr(o,i)?n:r(o.parentNode)}return e?r(e):n}function ln(e){const[t]=Tt(e,1);return t!=null?t:null}function bt(e){return!lt||!e?null:Ee(e)?e:Rt(e)?Et(e)||e===Ie(e).scrollingElement?window:We(e)?e:null:null}function cn(e){return Ee(e)?e.scrollX:e.scrollLeft}function un(e){return Ee(e)?e.scrollY:e.scrollTop}function Dt(e){return{x:cn(e),y:un(e)}}var B;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(B||(B={}));function dn(e){return!lt||!e?!1:e===document.scrollingElement}function fn(e){const t={x:0,y:0},n=dn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const pr={x:.2,y:.2};function br(e,t,n,r,o){let{top:i,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=pr);const{isTop:c,isBottom:u,isLeft:d,isRight:v}=fn(e),f={x:0,y:0},I={x:0,y:0},h={height:t.height*o.y,width:t.width*o.x};return!c&&i<=t.top+h.height?(f.y=B.Backward,I.y=r*Math.abs((t.top+h.height-i)/h.height)):!u&&l>=t.bottom-h.height&&(f.y=B.Forward,I.y=r*Math.abs((t.bottom-h.height-l)/h.height)),!v&&a>=t.right-h.width?(f.x=B.Forward,I.x=r*Math.abs((t.right-h.width-a)/h.width)):!d&&s<=t.left+h.width&&(f.x=B.Backward,I.x=r*Math.abs((t.left+h.width-s)/h.width)),{direction:f,speed:I}}function wr(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function hn(e){return e.reduce((t,n)=>Re(t,Dt(n)),Z)}function yr(e){return e.reduce((t,n)=>t+cn(n),0)}function mr(e){return e.reduce((t,n)=>t+un(n),0)}function xr(e,t){if(t===void 0&&(t=Ae),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);ln(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Dr=[["x",["left","right"],yr],["y",["top","bottom"],mr]];class Ot{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Tt(n),o=hn(r);this.rect=g({},t),this.width=t.width,this.height=t.height;for(const[i,s,a]of Dr)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=o[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ke{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Sr(e){const{EventTarget:t}=j(e);return e instanceof t?e:Ie(e)}function wt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(gt(n,2)+gt(r,2))>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var J;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(J||(J={}));function qt(e){e.preventDefault()}function Cr(e){e.stopPropagation()}var D;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(D||(D={}));const gn={start:[D.Space,D.Enter],cancel:[D.Esc],end:[D.Space,D.Enter,D.Tab]},Rr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case D.Right:return A(g({},n),{x:n.x+25});case D.Left:return A(g({},n),{x:n.x-25});case D.Down:return A(g({},n),{y:n.y+25});case D.Up:return A(g({},n),{y:n.y-25})}};class vn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ke(Ie(n)),this.windowListeners=new ke(j(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(J.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&xr(r),n(Z)}handleKeyDown(t){if(At(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=gn,coordinateGetter:s=Rr,scrollBehavior:a="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Z;this.referenceCoordinates||(this.referenceCoordinates=u);const d=s(t,{active:n,context:r.current,currentCoordinates:u});if(d){const v=ot(d,u),f={x:0,y:0},{scrollableAncestors:I}=r.current;for(const h of I){const p=t.code,{isTop:y,isRight:x,isLeft:b,isBottom:S,maxScroll:C,minScroll:R}=fn(h),m=wr(h),w={x:Math.min(p===D.Right?m.right-m.width/2:m.right,Math.max(p===D.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(p===D.Down?m.bottom-m.height/2:m.bottom,Math.max(p===D.Down?m.top:m.top+m.height/2,d.y))},L=p===D.Right&&!x||p===D.Left&&!b,P=p===D.Down&&!S||p===D.Up&&!y;if(L&&w.x!==d.x){const N=h.scrollLeft+v.x,_=p===D.Right&&N<=C.x||p===D.Left&&N>=R.x;if(_&&!v.y){h.scrollTo({left:N,behavior:a});return}_?f.x=h.scrollLeft-N:f.x=p===D.Right?h.scrollLeft-C.x:h.scrollLeft-R.x,f.x&&h.scrollBy({left:-f.x,behavior:a});break}else if(P&&w.y!==d.y){const N=h.scrollTop+v.y,_=p===D.Down&&N<=C.y||p===D.Up&&N>=R.y;if(_&&!v.x){h.scrollTo({top:N,behavior:a});return}_?f.y=h.scrollTop-N:f.y=p===D.Down?h.scrollTop-C.y:h.scrollTop-R.y,f.y&&h.scrollBy({top:-f.y,behavior:a});break}}this.handleMove(t,Re(ot(d,this.referenceCoordinates),f))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}vn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=gn,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Gt(e){return!!(e&&"distance"in e)}function Jt(e){return!!(e&&"delay"in e)}class Mt{constructor(t,n,r){var o;r===void 0&&(r=Sr(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=Ie(s),this.documentListeners=new ke(this.document),this.listeners=new ke(r),this.windowListeners=new ke(j(s)),this.initialCoordinates=(o=xt(i))!=null?o:Z,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.DragStart,qt),this.windowListeners.add(J.VisibilityChange,this.handleCancel),this.windowListeners.add(J.ContextMenu,qt),this.documentListeners.add(J.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Jt(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Gt(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(J.Click,Cr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(J.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const l=(n=xt(t))!=null?n:Z,c=ot(o,l);if(!r&&a){if(Gt(a)){if(a.tolerance!=null&&wt(c,a.tolerance))return this.handleCancel();if(wt(c,a.distance))return this.handleStart()}if(Jt(a)&&wt(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===D.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Er={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class pn extends Mt{constructor(t){const{event:n}=t,r=Ie(n.target);super(t,Er,r)}}pn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Ir={move:{name:"mousemove"},end:{name:"mouseup"}};var St;(function(e){e[e.RightClick=2]="RightClick"})(St||(St={}));class Ar extends Mt{constructor(t){super(t,Ir,Ie(t.event.target))}}Ar.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===St.RightClick?!1:(r==null||r({event:n}),!0)}}];const yt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Tr extends Mt{constructor(t){super(t,yt)}static setup(){return window.addEventListener(yt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(yt.move.name,t)};function t(){}}}Tr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Fe;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Fe||(Fe={}));var at;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(at||(at={}));function Or(e){let{acceleration:t,activator:n=Fe.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=at.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:v}=e;const f=Nr({delta:d,disabled:!i}),[I,h]=jn(),p=M({x:0,y:0}),y=M({x:0,y:0}),x=T(()=>{switch(n){case Fe.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Fe.DraggableRect:return o}},[n,o,l]),b=M(null),S=$(()=>{const R=b.current;if(!R)return;const m=p.current.x*y.current.x,w=p.current.y*y.current.y;R.scrollBy(m,w)},[]),C=T(()=>a===at.TreeOrder?[...c].reverse():c,[a,c]);O(()=>{if(!i||!c.length||!x){h();return}for(const R of C){if((r==null?void 0:r(R))===!1)continue;const m=c.indexOf(R),w=u[m];if(!w)continue;const{direction:L,speed:P}=br(R,w,x,t,v);for(const N of["x","y"])f[N][L[N]]||(P[N]=0,L[N]=0);if(P.x>0||P.y>0){h(),b.current=R,I(S,s),p.current=P,y.current=L;return}}p.current={x:0,y:0},y.current={x:0,y:0},h()},[t,S,r,h,i,s,JSON.stringify(x),JSON.stringify(f),I,c,C,u,JSON.stringify(v)])}const Mr={x:{[B.Backward]:!1,[B.Forward]:!1},y:{[B.Backward]:!1,[B.Forward]:!1}};function Nr(e){let{delta:t,disabled:n}=e;const r=mt(t);return Ue(o=>{if(n||!r||!o)return Mr;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[B.Backward]:o.x[B.Backward]||i.x===-1,[B.Forward]:o.x[B.Forward]||i.x===1},y:{[B.Backward]:o.y[B.Backward]||i.y===-1,[B.Forward]:o.y[B.Forward]||i.y===1}}},[n,t,r])}function Lr(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Ue(o=>{var i;return t==null?null:(i=r!=null?r:o)!=null?i:null},[r,t])}function zr(e,t){return T(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Ye;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ye||(Ye={}));var Ct;(function(e){e.Optimized="optimized"})(Ct||(Ct={}));const _t=new Map;function Pr(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=q(null),{frequency:a,measure:l,strategy:c}=o,u=M(e),d=p(),v=Xe(d),f=$(function(y){y===void 0&&(y=[]),!v.current&&s(x=>x===null?y:x.concat(y.filter(b=>!x.includes(b))))},[v]),I=M(null),h=Ue(y=>{if(d&&!n)return _t;if(!y||y===_t||u.current!==e||i!=null){const x=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){x.set(b.id,b.rect.current);continue}const S=b.node.current,C=S?new Ot(l(S),S):null;b.rect.current=C,C&&x.set(b.id,C)}return x}return y},[e,i,n,d,l]);return O(()=>{u.current=e},[e]),O(()=>{d||f()},[n,d]),O(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),O(()=>{d||typeof a!="number"||I.current!==null||(I.current=setTimeout(()=>{f(),I.current=null},a))},[a,d,f,...r]),{droppableRects:h,measureDroppableContainers:f,measuringScheduled:i!=null};function p(){switch(c){case Ye.Always:return!1;case Ye.BeforeDragging:return n;default:return!n}}}function bn(e,t){return Ue(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Br(e,t){return bn(e,t)}function kr(e){let{callback:t,disabled:n}=e;const r=It(t),o=T(()=>{if(n||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return O(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ct(e){let{callback:t,disabled:n}=e;const r=It(t),o=T(()=>{if(n||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return O(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Fr(e){return new Ot(Ae(e),e)}function Qt(e,t,n){t===void 0&&(t=Fr);const[r,o]=q(null);function i(){o(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l!=null?l:n)!=null?c:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const s=kr({callback(l){if(e)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),a=ct({callback:i});return oe(()=>{i(),e?(a==null||a.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[e]),r}function $r(e){const t=bn(e);return an(e,t)}const Zt=[];function Xr(e){const t=M(e),n=Ue(r=>e?r&&r!==Zt&&e&&t.current&&e.parentNode===t.current.parentNode?r:Tt(e):Zt,[e]);return O(()=>{t.current=e},[e]),n}function Yr(e){const[t,n]=q(null),r=M(e),o=$(i=>{const s=bt(i.target);s&&n(a=>a?(a.set(s,Dt(s)),new Map(a)):null)},[]);return O(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(l=>{const c=bt(l);return c?(c.addEventListener("scroll",o,{passive:!0}),[c,Dt(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(l=>{const c=bt(l);c==null||c.removeEventListener("scroll",o)})}},[o,e]),T(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Re(i,s),Z):hn(e):Z,[e,t])}function en(e,t){t===void 0&&(t=[]);const n=M(null);return O(()=>{n.current=null},t),O(()=>{const r=e!==Z;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ot(e,n.current):Z}function jr(e){O(()=>{if(!lt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Wr(e,t){return T(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function wn(e){return T(()=>e?hr(e):null,[e])}const tn=[];function Ur(e,t){t===void 0&&(t=Ae);const[n]=e,r=wn(n?j(n):null),[o,i]=q(tn);function s(){i(()=>e.length?e.map(l=>dn(l)?r:new Ot(t(l),l)):tn)}const a=ct({callback:s});return oe(()=>{a==null||a.disconnect(),s(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),o}function Hr(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return We(t)?t:e}function Kr(e){let{measure:t}=e;const[n,r]=q(null),o=$(c=>{for(const{target:u}of c)if(We(u)){r(d=>{const v=t(u);return d?A(g({},d),{width:v.width,height:v.height}):v});break}},[t]),i=ct({callback:o}),s=$(c=>{const u=Hr(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?t(u):null)},[t,i]),[a,l]=rt(s);return T(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const Vr=[{sensor:pn,options:{}},{sensor:vn,options:{}}],qr={current:{}},nt={draggable:{measure:Vt},droppable:{measure:Vt,strategy:Ye.WhileDragging,frequency:Ct.Optimized},dragOverlay:{measure:Ae}};class $e extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Gr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $e,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:st},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nt,measureDroppableContainers:st,windowRect:null,measuringScheduled:!1},Jr={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:st,draggableNodes:new Map,over:null,measureDroppableContainers:st},ut=je(Jr),yn=je(Gr);function _r(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $e}}}function Qr(e,t){switch(t.type){case z.DragStart:return A(g({},e),{draggable:A(g({},e.draggable),{initialCoordinates:t.initialCoordinates,active:t.active})});case z.DragMove:return e.draggable.active==null?e:A(g({},e),{draggable:A(g({},e.draggable),{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})});case z.DragEnd:case z.DragCancel:return A(g({},e),{draggable:A(g({},e.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case z.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new $e(e.droppable.containers);return o.set(r,n),A(g({},e),{droppable:A(g({},e.droppable),{containers:o})})}case z.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new $e(e.droppable.containers);return s.set(n,A(g({},i),{disabled:o})),A(g({},e),{droppable:A(g({},e.droppable),{containers:s})})}case z.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new $e(e.droppable.containers);return i.delete(n),A(g({},e),{droppable:A(g({},e.droppable),{containers:i})})}default:return e}}function Zr(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=we(ut),i=mt(r),s=mt(n==null?void 0:n.id);return O(()=>{if(!t&&!r&&i&&s!=null){if(!At(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=Hn(u);if(d){d.focus();break}}})}},[r,t,o,s,i]),null}function eo(e,t){let o=t,{transform:n}=o,r=vt(o,["transform"]);return e!=null&&e.length?e.reduce((i,s)=>s(g({transform:i},r)),n):n}function to(e){return T(()=>({draggable:g(g({},nt.draggable),e==null?void 0:e.draggable),droppable:g(g({},nt.droppable),e==null?void 0:e.droppable),dragOverlay:g(g({},nt.dragOverlay),e==null?void 0:e.dragOverlay)}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function no(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=M(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;oe(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const u=n(c),d=an(u,r);if(s||(d.x=0),a||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const v=ln(c);v&&v.scrollBy({top:d.y,left:d.x})}},[t,s,a,r,n])}const mn=je(A(g({},Z),{scaleX:1,scaleY:1}));var pe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(pe||(pe={}));const Ao=Fn(function(t){var n,r,o,i;let Xt=t,{id:s,accessibility:a,autoScroll:l=!0,children:c,sensors:u=Vr,collisionDetection:d=sr,measuring:v,modifiers:f}=Xt,I=vt(Xt,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const h=$n(Qr,void 0,_r),[p,y]=h,[x,b]=_n(),[S,C]=q(pe.Uninitialized),R=S===pe.Initialized,{draggable:{active:m,nodes:w,translate:L},droppable:{containers:P}}=p,N=m!=null?w.get(m):null,_=M({initial:null,translated:null}),Q=T(()=>{var F;return m!=null?{id:m,data:(F=N==null?void 0:N.data)!=null?F:qr,rect:_}:null},[m,N]),ee=M(null),[Te,Ke]=q(null),[W,Ve]=q(null),ie=Xe(I,Object.values(I)),Oe=He("DndDescribedBy",s),qe=T(()=>P.getEnabled(),[P]),X=to(v),{droppableRects:se,measureDroppableContainers:be,measuringScheduled:Me}=Pr(qe,{dragging:R,dependencies:[L.x,L.y],config:X.droppable}),U=Lr(w,m),Ge=T(()=>W?xt(W):null,[W]),ue=Ln(),ae=Br(U,X.draggable.measure);no({activeNode:m!=null?w.get(m):null,config:ue.layoutShiftCompensation,initialRect:ae,measure:X.draggable.measure});const E=Qt(U,X.draggable.measure,ae),Ne=Qt(U?U.parentElement:null),te=M({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ye=P.getNodeFor((n=te.current.over)==null?void 0:n.id),le=Kr({measure:X.dragOverlay.measure}),me=(r=le.nodeRef.current)!=null?r:U,xe=R?(o=le.rect)!=null?o:E:null,Nt=!!(le.nodeRef.current&&le.rect),Lt=$r(Nt?null:E),dt=wn(me?j(me):null),de=Xr(R?ye!=null?ye:U:null),Je=Ur(de),_e=eo(f,{transform:{x:L.x-Lt.x,y:L.y-Lt.y,scaleX:1,scaleY:1},activatorEvent:W,active:Q,activeNodeRect:E,containerNodeRect:Ne,draggingNodeRect:xe,over:te.current.over,overlayNodeRect:le.rect,scrollableAncestors:de,scrollableAncestorRects:Je,windowRect:dt}),zt=Ge?Re(Ge,L):null,Pt=Yr(de),En=en(Pt),In=en(Pt,[E]),De=Re(_e,En),Se=xe?cr(xe,_e):null,Le=Q&&Se?d({active:Q,collisionRect:Se,droppableRects:se,droppableContainers:qe,pointerCoordinates:zt}):null,Bt=or(Le,"id"),[fe,kt]=q(null),An=Nt?_e:Re(_e,In),Tn=ar(An,(i=fe==null?void 0:fe.rect)!=null?i:null,E),ft=M(null),Ft=$((F,H)=>{let{sensor:K,options:he}=H;if(ee.current==null)return;const G=w.get(ee.current);if(!G)return;const V=F.nativeEvent,ne=new K({active:ee.current,activeNode:G,event:V,options:he,context:te,onAbort(k){if(!w.get(k))return;const{onDragAbort:re}=ie.current,ce={id:k};re==null||re(ce),x({type:"onDragAbort",event:ce})},onPending(k,ge,re,ce){if(!w.get(k))return;const{onDragPending:Pe}=ie.current,ve={id:k,constraint:ge,initialCoordinates:re,offset:ce};Pe==null||Pe(ve),x({type:"onDragPending",event:ve})},onStart(k){const ge=ee.current;if(ge==null)return;const re=w.get(ge);if(!re)return;const{onDragStart:ce}=ie.current,ze={activatorEvent:V,active:{id:ge,data:re.data,rect:_}};Ze(()=>{ce==null||ce(ze),C(pe.Initializing),y({type:z.DragStart,initialCoordinates:k,active:ge}),x({type:"onDragStart",event:ze}),Ke(ft.current),Ve(V)})},onMove(k){y({type:z.DragMove,coordinates:k})},onEnd:Ce(z.DragEnd),onCancel:Ce(z.DragCancel)});ft.current=ne;function Ce(k){return function(){return Ut(this,null,function*(){const{active:re,collisions:ce,over:ze,scrollAdjustedTranslate:Pe}=te.current;let ve=null;if(re&&Pe){const{cancelDrop:Be}=ie.current;ve={activatorEvent:V,active:re,collisions:ce,delta:Pe,over:ze},k===z.DragEnd&&typeof Be=="function"&&(yield Promise.resolve(Be(ve)))&&(k=z.DragCancel)}ee.current=null,Ze(()=>{y({type:k}),C(pe.Uninitialized),kt(null),Ke(null),Ve(null),ft.current=null;const Be=k===z.DragEnd?"onDragEnd":"onDragCancel";if(ve){const ht=ie.current[Be];ht==null||ht(ve),x({type:Be,event:ve})}})})}}},[w]),On=$((F,H)=>(K,he)=>{const G=K.nativeEvent,V=w.get(he);if(ee.current!==null||!V||G.dndKit||G.defaultPrevented)return;const ne={active:V};F(K,H.options,ne)===!0&&(G.dndKit={capturedBy:H.sensor},ee.current=he,Ft(K,H))},[w,Ft]),$t=zr(u,On);jr(u),oe(()=>{E&&S===pe.Initializing&&C(pe.Initialized)},[E,S]),O(()=>{const{onDragMove:F}=ie.current,{active:H,activatorEvent:K,collisions:he,over:G}=te.current;if(!H||!K)return;const V={active:H,activatorEvent:K,collisions:he,delta:{x:De.x,y:De.y},over:G};Ze(()=>{F==null||F(V),x({type:"onDragMove",event:V})})},[De.x,De.y]),O(()=>{const{active:F,activatorEvent:H,collisions:K,droppableContainers:he,scrollAdjustedTranslate:G}=te.current;if(!F||ee.current==null||!H||!G)return;const{onDragOver:V}=ie.current,ne=he.get(Bt),Ce=ne&&ne.rect.current?{id:ne.id,rect:ne.rect.current,data:ne.data,disabled:ne.disabled}:null,k={active:F,activatorEvent:H,collisions:K,delta:{x:G.x,y:G.y},over:Ce};Ze(()=>{kt(Ce),V==null||V(k),x({type:"onDragOver",event:k})})},[Bt]),oe(()=>{te.current={activatorEvent:W,active:Q,activeNode:U,collisionRect:Se,collisions:Le,droppableRects:se,draggableNodes:w,draggingNode:me,draggingNodeRect:xe,droppableContainers:P,over:fe,scrollableAncestors:de,scrollAdjustedTranslate:De},_.current={initial:xe,translated:Se}},[Q,U,Le,Se,w,me,xe,se,P,fe,de,De]),Or(A(g({},ue),{delta:L,draggingRect:Se,pointerCoordinates:zt,scrollableAncestors:de,scrollableAncestorRects:Je}));const Mn=T(()=>({active:Q,activeNode:U,activeNodeRect:E,activatorEvent:W,collisions:Le,containerNodeRect:Ne,dragOverlay:le,draggableNodes:w,droppableContainers:P,droppableRects:se,over:fe,measureDroppableContainers:be,scrollableAncestors:de,scrollableAncestorRects:Je,measuringConfiguration:X,measuringScheduled:Me,windowRect:dt}),[Q,U,E,W,Le,Ne,le,w,P,se,fe,be,de,Je,X,Me,dt]),Nn=T(()=>({activatorEvent:W,activators:$t,active:Q,activeNodeRect:E,ariaDescribedById:{draggable:Oe},dispatch:y,draggableNodes:w,over:fe,measureDroppableContainers:be}),[W,$t,Q,E,y,Oe,w,fe,be]);return Y.createElement(sn.Provider,{value:b},Y.createElement(ut.Provider,{value:Nn},Y.createElement(yn.Provider,{value:Mn},Y.createElement(mn.Provider,{value:Tn},c)),Y.createElement(Zr,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Y.createElement(er,A(g({},a),{hiddenTextDescribedById:Oe})));function Ln(){const F=(Te==null?void 0:Te.autoScrollEnabled)===!1,H=typeof l=="object"?l.enabled===!1:l===!1,K=R&&!F&&!H;return typeof l=="object"?A(g({},l),{enabled:K}):{enabled:K}}}),ro=je(null),nn="button",oo="Draggable";function io(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=He(oo),{activators:s,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:v}=we(ut),{role:f=nn,roleDescription:I="draggable",tabIndex:h=0}=o!=null?o:{},p=(l==null?void 0:l.id)===t,y=we(p?mn:ro),[x,b]=rt(),[S,C]=rt(),R=Wr(s,t),m=Xe(n);oe(()=>(d.set(t,{id:t,key:i,node:x,activatorNode:S,data:m}),()=>{const L=d.get(t);L&&L.key===i&&d.delete(t)}),[d,t]);const w=T(()=>({role:f,tabIndex:h,"aria-disabled":r,"aria-pressed":p&&f===nn?!0:void 0,"aria-roledescription":I,"aria-describedby":u.draggable}),[r,f,h,p,I,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:w,isDragging:p,listeners:r?void 0:R,node:x,over:v,setNodeRef:b,setActivatorNodeRef:C,transform:y}}function so(){return we(yn)}const ao="Droppable",lo={timeout:25};function co(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=He(ao),{active:s,dispatch:a,over:l,measureDroppableContainers:c}=we(ut),u=M({disabled:n}),d=M(!1),v=M(null),f=M(null),{disabled:I,updateMeasurementsFor:h,timeout:p}=g(g({},lo),o),y=Xe(h!=null?h:r),x=$(()=>{if(!d.current){d.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),f.current=null},p)},[p]),b=ct({callback:x,disabled:I||!s}),S=$((w,L)=>{b&&(L&&(b.unobserve(L),d.current=!1),w&&b.observe(w))},[b]),[C,R]=rt(S),m=Xe(t);return O(()=>{!b||!C.current||(b.disconnect(),d.current=!1,b.observe(C.current))},[C,b]),O(()=>(a({type:z.RegisterDroppable,element:{id:r,key:i,disabled:n,node:C,rect:v,data:m}}),()=>a({type:z.UnregisterDroppable,key:i,id:r})),[r]),O(()=>{n!==u.current.disabled&&(a({type:z.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,a]),{active:s,rect:v,isOver:(l==null?void 0:l.id)===r,node:C,over:l,setNodeRef:R}}function xn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function uo(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function et(e){return e!==null&&e>=0}function fo(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ho(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Dn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=xn(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},tt={scaleX:1,scaleY:1},To=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const c=i[s];return c?g({x:0,y:n<s?c.top+c.height-(a.top+a.height):c.top-a.top},tt):null}const l=go(i,o,n);return o>n&&o<=s?g({x:0,y:-a.height-l},tt):o<n&&o>=s?g({x:0,y:a.height+l},tt):g({x:0,y:0},tt)};function go(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Sn="Sortable",Cn=Y.createContext({activeIndex:-1,containerId:Sn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Dn,disabled:{draggable:!1,droppable:!1}});function Oo(e){let{children:t,id:n,items:r,strategy:o=Dn,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=so(),d=He(Sn,n),v=a.rect!==null,f=T(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),I=s!=null,h=s?f.indexOf(s.id):-1,p=c?f.indexOf(c.id):-1,y=M(f),x=!fo(f,y.current),b=p!==-1&&h===-1||x,S=ho(i);oe(()=>{x&&I&&u(f)},[x,f,I,u]),O(()=>{y.current=f},[f]);const C=T(()=>({activeIndex:h,containerId:d,disabled:S,disableTransforms:b,items:f,overIndex:p,useDragOverlay:v,sortedRects:uo(f,l),strategy:o}),[h,d,S.draggable,S.droppable,b,f,p,l,v,o]);return Y.createElement(Cn.Provider,{value:C},t)}const vo=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return xn(n,r,o).indexOf(t)},po=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===l},bo={duration:200,easing:"ease"},Rn="transform",wo=it.Transition.toString({property:Rn,duration:0,easing:"linear"}),yo={roleDescription:"sortable"};function mo(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=q(null),a=M(n);return oe(()=>{if(!t&&n!==a.current&&r.current){const l=o.current;if(l){const c=Ae(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&s(u)}}n!==a.current&&(a.current=n)},[t,n,r,o]),O(()=>{i&&s(null)},[i]),i}function Mo(e){let{animateLayoutChanges:t=po,attributes:n,disabled:r,data:o,getNewIndex:i=vo,id:s,strategy:a,resizeObserverConfig:l,transition:c=bo}=e;const{items:u,containerId:d,activeIndex:v,disabled:f,disableTransforms:I,sortedRects:h,overIndex:p,useDragOverlay:y,strategy:x}=we(Cn),b=xo(r,f),S=u.indexOf(s),C=T(()=>g({sortable:{containerId:d,index:S,items:u}},o),[d,o,S,u]),R=T(()=>u.slice(u.indexOf(s)),[u,s]),{rect:m,node:w,isOver:L,setNodeRef:P}=co({id:s,data:C,disabled:b.droppable,resizeObserverConfig:g({updateMeasurementsFor:R},l)}),{active:N,activatorEvent:_,activeNodeRect:Q,attributes:ee,setNodeRef:Te,listeners:Ke,isDragging:W,over:Ve,setActivatorNodeRef:ie,transform:Oe}=io({id:s,data:C,attributes:g(g({},yo),n),disabled:b.draggable}),qe=Yn(P,Te),X=!!N,se=X&&!I&&et(v)&&et(p),be=!y&&W,Me=be&&se?Oe:null,U=a!=null?a:x,Ge=se?Me!=null?Me:U({rects:h,activeNodeRect:Q,activeIndex:v,overIndex:p,index:S}):null,ue=et(v)&&et(p)?i({id:s,items:u,activeIndex:v,overIndex:p}):S,ae=N==null?void 0:N.id,E=M({activeId:ae,items:u,newIndex:ue,containerId:d}),Ne=u!==E.current.items,te=t({active:N,containerId:d,isDragging:W,isSorting:X,id:s,index:S,items:u,newIndex:E.current.newIndex,previousItems:E.current.items,previousContainerId:E.current.containerId,transition:c,wasDragging:E.current.activeId!=null}),ye=mo({disabled:!te,index:S,node:w,rect:m});return O(()=>{X&&E.current.newIndex!==ue&&(E.current.newIndex=ue),d!==E.current.containerId&&(E.current.containerId=d),u!==E.current.items&&(E.current.items=u)},[X,ue,d,u]),O(()=>{if(ae===E.current.activeId)return;if(ae&&!E.current.activeId){E.current.activeId=ae;return}const me=setTimeout(()=>{E.current.activeId=ae},50);return()=>clearTimeout(me)},[ae]),{active:N,activeIndex:v,attributes:ee,data:C,rect:m,index:S,newIndex:ue,items:u,isOver:L,isSorting:X,isDragging:W,listeners:Ke,node:w,overIndex:p,over:Ve,setNodeRef:qe,setActivatorNodeRef:ie,setDroppableNodeRef:P,setDraggableNodeRef:Te,transform:ye!=null?ye:Ge,transition:le()};function le(){if(ye||Ne&&E.current.newIndex===S)return wo;if(!(be&&!At(_)||!c)&&(X||te))return it.Transition.toString(A(g({},c),{property:Rn}))}}function xo(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}D.Down,D.Right,D.Up,D.Left;export{it as C,Ao as D,Ar as M,Oo as S,Tr as T,Ro as a,Eo as b,xn as c,Io as d,Dn as r,Mo as u,To as v};
