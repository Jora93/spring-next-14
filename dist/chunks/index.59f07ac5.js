var at=Object.defineProperty,nt=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var lt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable;var C=(e,s,r)=>s in e?at(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,R=(e,s)=>{for(var r in s||(s={}))lt.call(s,r)&&C(e,r,s[r]);if(P)for(var r of P(s))ct.call(s,r)&&C(e,r,s[r]);return e},V=(e,s)=>nt(e,ut(s));import{_ as w}from"./i18next.083d61f0.js";import{j as b,S as dt}from"./index.9a33d21b.js";import{createContext as mt,useContext as ft,useState as i,useRef as F,useCallback as M,useEffect as m,useLayoutEffect as pt}from"react";import{d as h,s as _t}from"./backend-status-codes.4c1943df.js";import{D as bt}from"./swarm-command-names.afa48e3f.js";import{l as A}from"./lazy.73833dcd.js";import{R as yt}from"./index.2e7649fa.js";import{b as O}from"./account-settings.fd25e903.js";import{u as gt,G as Bt}from"./useProceedRebetEditBet.457aa878.js";import{L as xt}from"./index.b40f854c.js";import{V as Dt}from"./index.6cdb25e4.js";import{u as Et}from"./useMounted.6d9c5610.js";import{u as Tt}from"./useFetchAccountParams.6304e015.js";import{ar as It}from"./index.9e499441.js";import{g as Rt,a as ht}from"./user-data.358c1cdc.js";import{u as Ht}from"./useTranslation.70287e96.js";import{u as y}from"./index.17630e7e.js";import{g as Lt}from"./odds.3bca0cb7.js";const G=mt({reloadHistory:()=>{}}),vt=e=>b.jsx(G.Provider,{value:e.value,children:e.children}),Yt=()=>ft(G),{BetHistoryMobile:St}=A(()=>w(()=>import("./index.cb08dfc1.js"),["chunks/index.cb08dfc1.js","chunks/i18next.083d61f0.js","chunks/index.9a33d21b.js","chunks/lazy.73833dcd.js"])),{BetHistoryDesktop:jt}=A(()=>w(()=>import("./index.5e9f93fa.js"),["chunks/index.5e9f93fa.js","chunks/i18next.083d61f0.js","chunks/backend-status-codes.4c1943df.js","chunks/index.9a33d21b.js","chunks/index.3b8e1d1d.js","chunks/index.7d5f88f7.js","chunks/index.fbd937ed.js","chunks/create-test-id.17a0abc8.js","chunks/toConsumableArray.635ccf3f.js","chunks/placements.2094afc0.js","chunks/index.27fc0452.js","chunks/index.549a573d.js","chunks/Skeleton.a5b55c7c.js","chunks/KeyCode.6413d982.js","chunks/Overflow.554112a5.js","chunks/index.9011aacc.js","chunks/col.94909042.js","chunks/CheckOutlined.2d4387be.js","chunks/SearchOutlined.0011f146.js","chunks/statusUtils.ab0a6b68.js","chunks/casino.a461d655.js","chunks/app-data.3313f084.js","chunks/create-fake-array.68114bc4.js","chunks/index.17630e7e.js","chunks/useTranslation.70287e96.js","chunks/context.f61a2be2.js","chunks/index.5fc60538.js","chunks/index.9fa2e41e.js","chunks/usePredefinedStakes.892527de.js","chunks/index.2e7649fa.js","chunks/swarm-command-names.afa48e3f.js","chunks/odds.3bca0cb7.js","chunks/socket.c1bf8301.js","chunks/batch.dcd71b53.js","chunks/user-data.358c1cdc.js","chunks/index.9e499441.js","chunks/useDispatch.151d3a82.js","chunks/index.b34290f2.js","chunks/index.1514cd2f.js","chunks/index.08cf9b6f.js","chunks/index.5f1e48b3.js","chunks/payment.5d90c3dc.js","chunks/account-settings.fd25e903.js","chunks/index.6af7a08e.js","chunks/index.56325e35.js","chunks/index.184af16c.js","chunks/usePopupScrollDisable.d1a6ece6.js","chunks/useSearchParams.353231ec.js","chunks/v4.751847df.js","chunks/index.ceba7035.js","chunks/styled-components.browser.esm.04179a03.js","chunks/useBetlsipNotEmptyPopup.e8996772.js","chunks/rtl.d50a3051.js","chunks/index.9eebc582.js","chunks/dropdown.29a72cea.js","chunks/EllipsisOutlined.53bf0b36.js","chunks/getScrollBarSize.0c62defe.js","chunks/debounce.f2544b77.js","chunks/index.aa1549be.js","chunks/index.c5ad8069.js","chunks/main.f5ab03e3.js","chunks/index.9537878a.js","chunks/data-fields.c78d776a.js","chunks/route-manipulation.7a3d02e7.js","chunks/not-real-sports.64fc4139.js","chunks/get-data-level.0ccc74a6.js","chunks/index.b40f854c.js","chunks/sport-data.58080bc0.js","chunks/new-sportsbook.1752e123.js","chunks/get-match-scores.69e0fa86.js","chunks/index.f431b96f.js","chunks/lazy.73833dcd.js","chunks/index.ad2ad9d4.js","chunks/index.1dfc2dcd.js","chunks/index.6cdb25e4.js","chunks/useProceedRebetEditBet.457aa878.js","chunks/quickBetActions.2e30a183.js","chunks/spec-elems.a06c4bcb.js","chunks/useMounted.6d9c5610.js","chunks/useFetchAccountParams.6304e015.js","chunks/useQuery.5322b9d6.js","chunks/QueryClientProvider.e298e67a.js","chunks/index.f4c7d5fb.js"])),kt=({isSportsbook:e})=>{var k;const{t:s}=Ht(),r=y(Rt),N=y(ht),{accountParams:l}=Tt(),[f,g]=i([]),[U,p]=i(!0),[a,B]=i(null),[x,z]=i(!1),[n,$]=i({from_date:h().subtract(1,"months").startOf("day").unix(),to_date:h().unix()}),[H,q]=i(""),L=F(n),[D,v]=i(""),[E,J]=i(0),_=F(""),[u,K]=i({type:"all",result:Number(l==null?void 0:l.betsResultDefaultValue)===bt?"all":(k=l==null?void 0:l.betsResultDefaultValue)!=null?k:"all"}),[Q,S]=i(!1),[W,X]=i(!1),[Y,Z]=i(),[tt,et]=i(h()),st=y(Lt),T=y(It),{executeRebet:ot}=gt(f),{mounted:j}=Et(),rt=M((t,o)=>{o&&K(o),t&&(n.to_date!==t.to_date||n.from_date!==t.from_date)&&(v(""),$(t))},[n,u]),it=M(()=>{if(_.current&&!/^\d+$/.test(_.current)){_t(s("account.invalidBetIdFormat"));return}q(yt.rand())},[]);m(()=>{_.current=D},[D]),m(()=>{const t=[...f];if(T.forEach(o=>{const c=t.findIndex(d=>d.id===o.id);t[c]&&(t[c].cash_out=o.amount)}),g([...t]),T.find(o=>o.id===(a==null?void 0:a.id))){const o=t.find(c=>c.id===(a==null?void 0:a.id));B(R({},o))}},[T]),m(()=>{I()},[u]),m(()=>{L.current=n},[n]),m(()=>{r&&(p(!0),O(n,t=>{j.current&&(I((t==null?void 0:t.bets)||[]),p(!1))}))},[r]),m(()=>{if(H==="")return;let t;_.current?t={bet_id:Number(_.current)}:t=L.current,E&&(t=V(R({},t),{sport_ids:[E]})),p(!0),O(t,o=>{j.current&&(I((o==null?void 0:o.bets)||[]),p(!1))})},[H]),pt(()=>{x||B(null)},[x]);const I=(t=null)=>{const c=(t||f).map(d=>(d.show=(u.result==="all"||d.outcome===Number(u.result))&&(u.type==="all"||d.type===Number(u.type)),d));g(c)};return b.jsxs(vt,{value:{reloadHistory:it},children:[dt.GIFT_BET&&b.jsx(Bt,{currentTicket:a,betTickets:f,setBetTickets:g,visible:Q,setVisible:S}),b.jsx(Dt,{mobile:St,desktop:jt,innerProps:{user:N,betHistory:f,filters:u,params:n,setOptions:rt,isLoading:U,executeRebet:ot,currentTicket:a,setCurrentTicket:B,setCashoutModal:z,oddFormat:st,cashoutModal:x,setVisible:S,isDatePicker:W,setIsDatePicker:X,startDate:Y,setStartDate:Z,endDate:tt,setEndDate:et,betId:D,setBetId:v,isSportsbook:e,setIsLoading:p,setSelectedSport:J,selectedSport:E},fallback:b.jsx(xt,{})})]})},Zt=Object.freeze(Object.defineProperty({__proto__:null,BetHistoryLayout:kt},Symbol.toStringTag,{value:"Module"}));export{kt as B,Zt as i,Yt as u};
