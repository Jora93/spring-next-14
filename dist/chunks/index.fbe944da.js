(function(){"use strict";try{if(typeof document!="undefined"){var e=document.createElement("style");e.appendChild(document.createTextNode('.favoriteTeamCollapse{box-shadow:0 3px 6px -1px #62626214}.favoriteTeamCollapse .favoriteTeamCollapse--header{border-bottom:none}.favoriteTeamCollapse .eventCollapse__title{color:var(--v3-text-color);font-weight:400;font-size:14px;line-height:20px}.favoriteTeamCollapse .v3-event-collapse__header-active{background-color:var(--v3-black-0)}.favoriteTeamCollapse--mobile{background-color:var(--v3-black-6);margin-bottom:0}.favoriteTeamCollapse--mobile .v3-event-collapse__header{border-radius:6px;height:40px}.favoriteTeam{border-radius:0 0 6px 6px;background:var(--v3-black-4)}.favoriteTeam__main{display:flex;padding:8px;flex-direction:column;align-items:flex-start;align-self:stretch;border-radius:0 0 4px 4px;background:var(--v3-black-4)}.favoriteTeam__main__container{max-height:304px;overflow:auto;display:flex;padding:8px 0;flex-direction:column;align-items:flex-start;gap:2px;align-self:stretch;border-radius:6px 6px 0 0;background:var(--v3-black-0)}.favoriteTeam__main__container__wrapper{display:flex;padding:0 8px;flex-direction:column;align-items:flex-start;align-self:stretch;background:var(--v3-black-0)}.favoriteTeam__main__header{display:flex;padding:24px;justify-content:center;align-items:center;gap:10px;flex:1 0 0;align-self:stretch;border-radius:6px 6px 0 0;background:var(--v3-black-0)}.favoriteTeam__main__header .customSkeleton-content{display:flex;justify-content:center;align-items:center}.favoriteTeam__main__header__message{width:190px;color:var(--v3-text-color);text-align:center;font-size:12px;font-style:normal;font-weight:400;line-height:16px;letter-spacing:.06px}.favoriteTeam__main__button{display:flex;justify-content:center;align-items:center;padding:12px 10px;flex-direction:column;gap:10px;align-self:stretch;border-radius:0 0 6px 6px;border-top:1px solid var(--v3-black-6);background:var(--v3-black-0)}.favoriteTeam__main__button__inside.v3-btn{display:flex;align-items:center;justify-content:center;gap:6px;width:100%}.favoriteTeam__main__button__inside.v3-btn__name{color:var(--v3-text-color)!important;width:400px}.favoriteTeam__main__button__inside.v3-btn--mobile{width:100%;border:unset;background-color:var(--v3-black-4)!important}.favoriteTeam__main__button .customSkeleton-content{display:flex;justify-content:center;align-items:center}.favoriteTeam__message{font-weight:400;font-size:12px;line-height:16px;text-align:center;color:var(--v3-text-color);background-color:var(--v3-black-0);padding:24px 50px;cursor:default;border-radius:6px}.favoriteTeam__team-container{width:100%;height:40px;border-radius:4px;background-color:var(--v3-black-2);padding:0 8px;display:flex;position:relative;align-items:center;justify-content:space-between}.favoriteTeam__container{position:relative}.favoriteTeam__wrapper{display:flex;align-items:center;gap:8px;max-width:100%}.favoriteTeam__logo{min-width:24px;min-height:24px;display:flex;align-items:center}.favoriteTeam__team-logo{width:20px}.favoriteTeam__team-icon-name{width:20px;height:20px;border-radius:50%;display:flex;justify-content:center;align-items:center;background-color:var(--v3-black-6);font-weight:400;font-size:10px;line-height:14px}.favoriteTeam__team-name{font-weight:400;font-size:14px;line-height:20px;color:var(--v3-text-color);padding-left:4px}.ant-select-auto-complete{box-sizing:border-box;margin:0;padding:0;color:#000000d9;font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum"}.ant-select-auto-complete .ant-select-clear{right:13px}.search__team__container{display:flex;width:100%;padding:8px 12px;margin-bottom:8px;justify-content:space-between;align-items:center;align-self:stretch;border-radius:10px;border:1px solid var(--v3-black-6);background:var(--v3-black-2)}.search__team__container__main{display:flex;align-items:center;gap:8px}.search__team__container__main>div:first-child{width:24px;height:24px;display:flex}.search__team__container__main__icon{display:flex;width:24px;height:24px;padding:1px;justify-content:center;align-items:center;flex-shrink:0}.search__team__container__main__name{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:4px}.search__team__container__main__name__teamName{color:var(--v3-black-100);font-size:14px;font-style:normal;font-weight:500;line-height:20px;letter-spacing:.07px}.search__team__container__main__name__sportName{color:var(--v3-text-color-secondary);font-size:12px;font-style:normal;font-weight:400;line-height:16px;letter-spacing:.06px}.search__team__container__iconName{width:100%;height:20px;border-radius:50%;display:flex;justify-content:center;align-items:center;background-color:var(--v3-black-6);font-weight:400;font-size:10px;line-height:14px}.search__team__container__name{font-weight:400;font-size:14px;line-height:20px;color:var(--v3-text-color);padding-left:4px}.search__team__container__addButton{display:flex;width:24px;height:24px;justify-content:center;align-items:center}.search__team .teamLogoImage{width:100%}.search-team>div:first-child{border-radius:6px;background:var(--v3-black-4)}.search-team .v3-select-item.v3-select-item-option:last-child .search__team__container{margin-bottom:unset}.search-team .v3-select-item.v3-select-item-option{cursor:unset}.search-team__closeIcon{width:10px}.search-team .v3-select-selection-search{display:flex;align-items:center}.search-team .rc-virtual-list-holder{max-height:194px!important}.search-team .v3-select-selector{border:unset!important;border-radius:6px!important;height:48px!important;display:flex!important;align-items:center!important}.search-team__autocomplete{width:100%}.search-team__autocomplete .v3-select-selection-search-input{box-shadow:none!important;font-size:inherit!important}.search-team__autocomplete-active .v3-select-clear{opacity:1!important}.search-team__loader{width:100%;padding:12px 0;display:flex;align-items:center;justify-content:center}.search-team__spinner{position:unset}.search-team__empty{width:100%;display:flex;align-items:center;justify-content:center;padding:10px 8px;text-align:center;color:var(--v3-text-color)}.search-team__empty--spinner{padding:4px 0}.search-team__underText{color:var(--v3-text-color-secondary);font-size:12px;font-style:normal;font-weight:400;line-height:16px;letter-spacing:.06px;text-align:right;padding-top:6px}.search-team__teams{display:flex;margin-top:24px;width:100%;height:180px;flex-direction:column;align-items:flex-start;overflow:hidden auto}.search-team__teams--scroll{padding-right:10px}.search-team__teams:last-child{margin-bottom:unset}.search-team__teams .search__team__container:last-child{margin-bottom:unset}.search-team .v3-select-item.v3-select-item-option{padding:unset!important;background-color:transparent!important}.favoriteTeamPopup{display:flex;width:472px;height:590px;flex-direction:column;justify-content:space-between;align-items:center;flex-shrink:0}.favoriteTeamPopup__modal{overflow:hidden}.favoriteTeamPopup--mobile{width:unset;height:480px}.favoriteTeamPopup__header{display:flex;flex:1;flex-direction:column;justify-content:center;align-items:center;gap:12px;align-self:stretch}.favoriteTeamPopup__header__image{margin-top:36px;width:132px;height:132px;display:flex;justify-content:center;align-items:center}.favoriteTeamPopup__header__section{display:flex;flex:1;flex-direction:column;align-items:center;gap:24px;align-self:stretch}.favoriteTeamPopup__header__section__title{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;align-self:stretch}.favoriteTeamPopup__header__section__title--mobile{margin-top:36px}.favoriteTeamPopup__header__section__title__name{color:var(--v3-text-color);font-size:24px;font-style:normal;font-weight:600;line-height:28px;letter-spacing:.12px}.favoriteTeamPopup__header__section__title__name--mobile{font-size:20px}.favoriteTeamPopup__header__section__title__text{color:var(--v3-text-color-secondary);font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:.07px}.favoriteTeamPopup__header__section__searchBar{gap:6px;align-self:stretch;display:flex;flex:1;position:relative}.favoriteTeamPopup__header__section__searchBar .search-team{flex:1}.favoriteTeamPopup__header__section__searchBar__search{display:flex;flex:1;padding:14px 16px;justify-content:space-between;align-items:center;align-self:stretch}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var J=Object.defineProperty;var F=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var L=(s,a,t)=>a in s?J(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,k=(s,a)=>{for(var t in a||(a={}))Z.call(a,t)&&L(s,t,a[t]);if(F)for(var t of F(a))ee.call(a,t)&&L(s,t,a[t]);return s};var E=(s,a,t)=>new Promise((c,p)=>{var l=i=>{try{r(t.next(i))}catch(n){p(n)}},o=i=>{try{r(t.throw(i))}catch(n){p(n)}},r=i=>i.done?c(i.value):Promise.resolve(i.value).then(l,o);r((t=t.apply(s,a)).next())});import{_ as M}from"./i18next.083d61f0.js";import{u as $,m as B,j as e,i as d,S as D,a6 as ae}from"./index.9a33d21b.js";import*as N from"react";import{useState as b,useEffect as te,useRef as se,memo as oe}from"react";import{c as h}from"./index.fbd937ed.js";import{G as x,E as u}from"./app-data.3313f084.js";import{F as ie}from"./favorite-team.a5b4287b.js";import{m as G}from"./route-manipulation.7a3d02e7.js";import{E as re}from"./not-real-sports.64fc4139.js";import{EventCollapse as ne}from"./index.cb829a96.js";import{B as y,i as R,o as me}from"./index.7d5f88f7.js";import{k as U}from"./fav-data.eb686620.js";import{g as ce}from"./user-data.358c1cdc.js";import{F as le}from"./index.4f306345.js";import{u as I}from"./useTranslation.70287e96.js";import{u as C}from"./index.17630e7e.js";import{b9 as _e,t as pe,a3 as V}from"./index.2e7649fa.js";import{M as de}from"./index.56325e35.js";import{a5 as ue,Q as fe,R as he,M as ve,x as Te,w as xe}from"./backend-status-codes.4c1943df.js";import{a as O,O as ge}from"./index.549a573d.js";import{i as je}from"./rtl.d50a3051.js";import{f as Ne}from"./results.36de9cf4.js";import{T as be}from"./index.fcc8b535.js";import{L as Pe}from"./index.b40f854c.js";import{u as Se}from"./useDebounce.2f1da174.js";import{u as Ee}from"./index.3dc509b3.js";import{s as ye}from"./new-sportsbook.1752e123.js";import{u as Ce}from"./useDispatch.151d3a82.js";import{b as Oe,A as Ae}from"./index.c7348bcc.js";import{u as Ie}from"./useEventbus.6393d2bd.js";import{a as Fe}from"./index.1dfc2dcd.js";import{u as Le}from"./useOpenLoginPopup.9bf6877c.js";const ke=({openFavoriteTeamPopup:s,openLoginPopup:a})=>{const{t}=I(),c=C(U),p=C(ce),l=$(),o=B(),r=()=>{const i=`${G(o.pathname)}/${re.team}/${ie}`;l.push(i)};return e.jsx(ne,{title:t("sportsbook.myFavoriteTeam"),icon:e.jsx(x,{lib:"generic",name:"heart",theme:"colored",className:"text-color",size:d()?u._20:u._24}),defaultActive:!1,size:"middle",wrapperClassName:h(["favoriteTeamCollapse",{"favoriteTeamCollapse--mobile":d()}]),children:e.jsx("div",{className:"favoriteTeam",children:c.length?e.jsxs("div",{className:"favoriteTeam__main",children:[e.jsx("div",{className:"favoriteTeam__main__container",children:c.map(i=>e.jsx("div",{className:"favoriteTeam__main__container__wrapper",children:e.jsx(le,{teamId:i.teamId,teamName:i.teamName,sport:i.sport,withWidth:!0,activeStyles:{withoutBorder:!0}})},i.teamId))}),e.jsx("div",{className:"favoriteTeam__main__button",children:e.jsxs(y,{size:"large",onClick:r,className:h(["favoriteTeam__main__button__inside",{"favoriteTeam__main__button__inside--mobile":d()}]),children:[e.jsx(x,{lib:"generic",name:"rightarrow",theme:"default",size:u._20}),e.jsx("span",{className:"favoriteTeam__main__button__inside__name",children:t("sportsbook.goToMyTeams")})]})})]}):e.jsxs("div",{className:"favoriteTeam__main",children:[e.jsx("div",{className:"favoriteTeam__main__header",children:e.jsx("div",{className:"favoriteTeam__main__header__message",children:t("sportsbook.favoriteTeamMessageForAdd")})}),e.jsx("div",{className:"favoriteTeam__main__button",children:e.jsxs(y,{type:"secondary",size:"large",onClick:p?s:a,className:h(["favoriteTeam__main__button__inside",{"favoriteTeam__main__button__inside--mobile":d()}]),children:[e.jsx(x,{lib:"generic",name:"add",theme:"default",size:u._16}),t("sportsbook.addTeam")]})})]})})},"1-my-favorite-team")};var A=O.Option;function w(s){return s&&s.type&&(s.type.isSelectOption||s.type.isSelectOptGroup)}var Re=function(a,t){var c=a.prefixCls,p=a.className,l=a.children,o=a.dataSource,r=ue(l),i;if(r.length===1&&R(r[0])&&!w(r[0])){var n=fe(r,1);i=n[0]}var S=i?function(){return i}:void 0,j;return r.length&&w(r[0])?j=l:j=o?o.map(function(_){if(R(_))return _;switch(he(_)){case"string":return N.createElement(A,{key:_,value:_},_);case"object":{var v=_.value;return N.createElement(A,{key:v,value:v},_.text)}default:return}}):[],N.createElement(ve,null,function(_){var v=_.getPrefixCls,T=v("select",c);return N.createElement(O,Te({ref:t},me(a,["dataSource"]),{prefixCls:T,className:xe("".concat(T,"-auto-complete"),p),mode:O.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:S}),j)})},H=N.forwardRef(Re);H.Option=A;const we=H;const z=({teamId:s,teamName:a,sport:t,setSelectedTeams:c,selectedTeams:p})=>{const l=p.find(o=>o.teamId===s);return e.jsxs("div",{className:"search__team__container",onClick:o=>{o.stopPropagation()},children:[e.jsxs("div",{className:"search__team__container__main",children:[e.jsx("div",{children:e.jsx(be,{teamId:s,size:"sm",children:e.jsx("span",{className:"search__team__container__main__icon",children:a.substring(0,2).toUpperCase()})})}),e.jsxs("div",{className:"search__team__container__main__name",children:[e.jsx("div",{className:"search__team__container__main__name__teamName",children:a}),e.jsx("div",{className:"search__team__container__main__name__sportName",children:t.name})]})]}),e.jsx("div",{className:"search__team__container__addButton",children:e.jsx(x,{lib:"generic",name:l?"remove":"add",theme:"colored",className:"text-color",size:u._24,onClick:()=>{c(o=>{const r=o.find(n=>n.teamId===s),i=[...o];return r?i.filter(n=>n.teamId!==s):(i.push({teamId:s,teamName:a,sport:t}),i)})}})})]})};D.IS_RTL&&M(()=>Promise.resolve({}),["assets/rtl33.css"]);const ze={position:"absolute",top:0,bottom:0,[je?"left":"right"]:12},Me=[1,2],$e=3,Be={game:["team1_id","team2_id","team1_name","team2_name","show_type","#sport:id","#sport:name","#sport:alias"]},De=(s,a)=>({game:{"@limit":15,"@or":[{[`team${s}_name`]:{"@like":{eng:a}}}]}}),Ge=()=>{const[s,a]=b(!1),[t,c]=b(""),[p,l]=b([]),[o,r]=b([]),i=Ce(),n=C(U),S=B(),j=_e(n,o),{goBack:_}=Ee();te(()=>{n.length&&r(n)},[n]);const v=se(),{t:T}=I();Se(()=>E(void 0,null,function*(){if(t.length>2&&t!==""){const m=[],P=[];Me.forEach(g=>{const Q=new Promise(W=>{const q=De(g,t);Ne({what:Be,where:q},K=>{Object.values(K.data.game).filter(({show_type:f})=>f!=="OUTRIGHT").forEach(f=>{m.find(({teamId:X})=>X===f[`team${g}_id`])||m.push({sport:{name:f.sport.name,id:f.sport.id,alias:f.sport.alias},teamName:f[`team${g}_name`],teamId:f[`team${g}_id`]})}),W(!0)})});P.push(Q)}),yield Promise.allSettled(P),a(!1),l(m)}else l([]),a(!1)}),ae._800,[t]);const Y=()=>{i(pe({groupKey:"teams",entity:o})),V({key:"openFavoriteTeamPopup",payload:!1}),o.length||(_(G(S.pathname,!1)),i(ye(null)))};return e.jsxs("div",{ref:v,className:"search-team",children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx(we,{showSearch:!0,allowClear:!0,size:"large",placeholder:T("sportsbook.searchTeamName"),defaultActiveFirstOption:!1,className:h(["search-team__autocomplete",{"search-team__autocomplete-active":!!t}]),clearIcon:e.jsx(x,{lib:"generic",name:"close",theme:"default",size:u._10,color:"var(--v3-primary-color)",style:{marginTop:2}}),searchValue:t,open:t.length>2,getPopupContainer:()=>v.current,onSearch:m=>{c(m),s||a(!0)},notFoundContent:e.jsx("div",{className:"search-team__empty",children:s?e.jsx(Pe,{size:u._16,className:"search-team__empty--spinner"}):T("emptyMessages.noResultsTitle")}),children:p.map(({teamId:m,teamName:P,sport:g})=>e.jsx(ge,{value:m,children:e.jsx(z,{teamName:P,teamId:m,sport:g,setSelectedTeams:r,selectedTeams:o})},m))}),!t&&e.jsx(x,{style:ze,lib:"generic",name:"search",theme:"default",size:u._16,color:"var(--v3-primary-color)"})]}),e.jsx("div",{className:"search-team__underText",children:T("sportsbook.typeAtLeast3Characters")}),e.jsx("div",{className:h(["search-team__teams",{"search-team__teams--scroll":o.length>=$e}]),children:!!o.length&&o.map(m=>e.jsx(z,{teamName:m.teamName,teamId:m.teamId,sport:m.sport,setSelectedTeams:r,selectedTeams:o},m.teamId))}),e.jsx(y,{type:"primary",size:"large",style:{position:"absolute",bottom:0,height:44},onClick:Y,disabled:j,fullwidth:!0,children:T("sportsbook.saveChanges")})]})};const Ue=({visible:s})=>{const{t:a}=I();return e.jsx(de,{visible:s,onCancel:()=>{V({key:"openFavoriteTeamPopup",payload:!1})},className:"favoriteTeamPopup__modal",style:k({margin:12,overflow:"hidden",padding:0},d()?{padding:"8px",overflow:"auto"}:{}),children:e.jsx("div",{className:h(["favoriteTeamPopup",{"favoriteTeamPopup--mobile":d()}]),children:e.jsxs("div",{className:"favoriteTeamPopup__header",children:[!d()&&e.jsx("div",{className:"favoriteTeamPopup__header__image",children:e.jsx(x,{lib:"account",name:"addfavorite",theme:"colored",color:"var(--v3-black-45)",size:u._132})}),e.jsxs("div",{className:"favoriteTeamPopup__header__section",children:[e.jsxs("div",{className:h(["favoriteTeamPopup__header__section__title",{"favoriteTeamPopup__header__section__title--mobile":d()}]),children:[e.jsx("div",{className:h(["favoriteTeamPopup__header__section__title__name",{"favoriteTeamPopup__header__section__title__name--mobile":d()}]),children:a("sportsbook.findYourFavoriteTeams")}),e.jsx("div",{className:"favoriteTeamPopup__header__section__title__text",children:a("sportsbook.toAddTeamsSearchAndSelectThem")})]}),e.jsx("div",{className:"favoriteTeamPopup__header__section__searchBar",children:e.jsx(Ge,{})})]})]})})})},Ve=()=>{const[s,a]=b(!1),t=$(),c=Le();return Ie({openFavoriteTeamPopup:({payload:o})=>{a(r=>o!=null?o:!r)}}),{isOpenTeamFavoritePopup:s,openFavoriteTeamPopup:()=>{a(!0)},openLoginPopup:()=>{const o=new Oe,r=()=>E(void 0,null,function*(){return new Promise(i=>{t.push(Fe({accounts:void 0,login:void 0})),a(!0),i(!0)})});o.appendAction(Ae.OPEN_FAVORITE_TEAM_POPUP,r),c()}}};D.IS_RTL&&M(()=>Promise.resolve({}),["assets/rtl31.css"]);const He=oe(()=>{const{openLoginPopup:s,isOpenTeamFavoritePopup:a,openFavoriteTeamPopup:t}=Ve();return e.jsxs(e.Fragment,{children:[e.jsx(Ue,{visible:a}),e.jsx(ke,{openFavoriteTeamPopup:t,openLoginPopup:s})]})}),Sa=Object.freeze(Object.defineProperty({__proto__:null,FavoriteTeam:He},Symbol.toStringTag,{value:"Module"}));export{He as F,Ue as a,Sa as i,Ve as u};
