import{c as $,C as _}from"./index.2e7649fa.js";import{S as o,i as w}from"./index.9a33d21b.js";import{E as S}from"./not-real-sports.64fc4139.js";const A=e=>e.replace(/[-]/g," ").replace(/(^|\s)\S/g,n=>n.toUpperCase()).trim(),M=e=>e.trim().toLowerCase().replace(/\s/g,"-").replace(/#/g,""),m=(e,n="")=>{const t=e==null?void 0:e.slice(0,e.indexOf(n)),a=e==null?void 0:e.slice(e.indexOf(n)+1);return[t,a]},l=e=>{e=decodeURI(e);const n=e.indexOf("?");n>-1&&(e=e.slice(0,n));const t=e.indexOf(`/${o.SPORTSBOOK_MOUNT_PATH}/`);t>-1&&(e=e.slice(0,t));const a=e.indexOf(`/${o.CASINO_MOUNT_PATH}/`);return a>-1&&(e=e.slice(0,a)),e.replace(/\/$/,"")},p=(e,n)=>{if(e=decodeURI(e),e=e.replace(/([^:]\/)\/+/g,"$1"),!$.getState().userData.isLoggedIn||!o.SHOW_GAMBLING_AREAS||!o.GAMBLING_AREAS)return{hasRedirect:!1};if(o.SHOW_GAMBLING_AREAS&&o.GAMBLING_AREAS&&!o.MOCKED_DATA){const a=o.GAMBLING_AREAS,s=T();let r=null;return Object.keys(a).forEach(i=>{a[i].forEach(c=>{l(e)===l(c)&&(r=i)})}),s&&r&&r!==l(s)?(!n&&window.postMessage({action:"gambling_area_changed",destinationUrl:e},"*"),{hasRedirect:!0,destinationPageArea:r}):{hasRedirect:!1}}return{hasRedirect:!0}},E=(e,n=!1)=>{const t=/\/:.*/i;return`${e.replace(t,"").replace(/\/$/,"")}${n?`/${o.SPORTSBOOK_MOUNT_PATH}`:""}`};function P(e,n=!1,t=!1,a=!1){const s=t?a?"":o.CASINO_MOUNT_PATH:`${o.SPORTSBOOK_MOUNT_PATH}`,r=new RegExp(`/${s}(?![-a-zA-Z0-9]).*$`),i=e.match(r);if(i!=null&&i.length){const d=e.lastIndexOf(i.pop()),g=`${e.slice(0,d)}/${s}`.replace(/(\/)\/+/g,"$1");return n?[!1,g]:g}let c=`${e}/${s}`.replace(/(\/)\/+/g,"$1");return t&&(c=c.replace(/\/$/,"")),n?[!i,`${c}${t?window.location.search:""}`]:c}const u=e=>`${e.sport?`/${e.sport}`:""}${e.region?`/${e.region}`:""}${e.competition?`/${e.competition}`:""}${e.game?`/${e.game}`:""}`,U=e=>{const n=_.join("|"),t=new RegExp(`/${o.SPORTSBOOK_MOUNT_PATH}/(${n})`,"gi"),a=window.getPathname().search(t)>-1;let s;return a?(window.getPathname().includes(S.team)&&e.includes(":competition")&&w()&&(e=e.replace(":competition",":competition?")),s=`${P(window.getPathname())}/:category${e}`):s=`${P(window.getPathname())}${e}`,s},C=e=>{const n=new RegExp(`/${o.SPORTSBOOK_MOUNT_PATH}.*$`),t=e.match(n);if(t!=null&&t.length){const a=e.lastIndexOf(t.pop());return e.slice(a)}return e},x=e=>{const n=e.replace(/\?.*$/,"").replace(/\/$/,""),t=decodeURIComponent(window.location.href.replace(/\?.*$/,"").replace(/\/$/,"")),a=new RegExp(`/(${o.CASINO_MOUNT_PATH}|${o.SPORTSBOOK_MOUNT_PATH})(/.+|)`),[s]=n.split(a),[r]=t.split(a);return s!==(r||"")},G=e=>e.slice(window.origin.length),H=()=>{var t;const e=window.location.pathname.includes(`/${o.CASINO_MOUNT_PATH}/`),n={};if(e){const a=window.location.pathname.lastIndexOf(o.CASINO_MOUNT_PATH),s=a===-1?"":window.location.pathname.slice(a+((t=o.CASINO_MOUNT_PATH)==null?void 0:t.length)+1),[r,i,c,d]=s.split("/");if(d){const[f,g]=m(d,"-"),[O,h]=m(g,"-");n.gameId=f,n.gameExternalId=O,n.gameName=A(h)}c&&(n.providerName=A(c)),r&&(n.categoryId=r),i&&(n.gameCategoryId=i)}else{const a=new URLSearchParams(window.location.search);n.gameExternalId=(a.get("gameId")||"").toString()}return n},B=(e,n=!1,t=!1,a,s)=>{if(n){const r=`${window.location.origin}${a?`/${a}`:""}/${e}`,i=new URL(r);i.search="",p(r).hasRedirect||(s==="_blank"?window.open(i.toString(),s):window.location.href=i.toString())}t&&(p(e).hasRedirect||(s==="_blank"?window.open(e,s):window.location.href=e))},T=()=>{let e=null;if(o.SHOW_GAMBLING_AREAS&&o.GAMBLING_AREAS&&!o.MOCKED_DATA){const n=o.GAMBLING_AREAS;Object.keys(n).forEach(t=>{n[t].forEach(a=>{l(window.location.href)===l(a)&&(e=t)})})}return e};export{x as a,B as b,U as c,H as d,T as e,M as f,E as g,P as m,G as p,C as r,u as s};
