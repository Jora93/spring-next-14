import*as f from"react";import et,{useState as ie,useMemo as Ee,useCallback as we}from"react";import{w as se,y as tt,a8 as rt}from"./backend-status-codes.4c1943df.js";import{a as Ne}from"./index.9011aacc.js";import{b as nt}from"./placements.2094afc0.js";import{unstable_batchedUpdates as at}from"react-dom";function g(){return g=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},g.apply(this,arguments)}function it(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Oe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,n)}return t}function I(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Oe(Object(t),!0).forEach(function(n){it(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function st(e){if(Array.isArray(e))return e}function ot(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],s=!0,i=!1,u,c;try{for(t=t.call(e);!(s=(u=t.next()).done)&&(n.push(u.value),!(r&&n.length===r));s=!0);}catch(d){i=!0,c=d}finally{try{!s&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function Ce(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ft(e,r){if(e){if(typeof e=="string")return Ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,r)}}function lt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(e,r){return st(e)||ot(e,r)||ft(e,r)||lt()}function ut(e,r){if(e==null)return{};var t={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(r.indexOf(s)>=0)&&(t[s]=e[s]);return t}function z(e,r){if(e==null)return{};var t=ut(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var ct=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],N=void 0;function dt(e,r){var t=e.prefixCls,n=e.invalidate,s=e.item,i=e.renderItem,u=e.responsive,c=e.responsiveDisabled,d=e.registerSize,E=e.itemKey,w=e.className,B=e.style,Y=e.children,q=e.display,v=e.order,W=e.component,M=W===void 0?"div":W,P=z(e,ct),y=u&&!q;function K(b){d(E,b)}f.useEffect(function(){return function(){K(null)}},[]);var J=i&&s!==N?i(s,{index:v}):Y,O;n||(O={opacity:y?0:1,height:y?0:N,overflowY:y?"hidden":N,order:u?v:N,pointerEvents:y?"none":N,position:y?"absolute":N});var T={};y&&(T["aria-hidden"]=!0);var R=f.createElement(M,g({className:se(!n&&t,w),style:I(I({},O),B)},T,P,{ref:r}),J);return u&&(R=f.createElement(Ne,{onResize:function(Q){var $=Q.offsetWidth;K($)},disabled:c},R)),R}var D=f.forwardRef(dt);D.displayName="Item";function vt(e){if(typeof MessageChannel=="undefined")tt(e);else{var r=new MessageChannel;r.port1.onmessage=function(){return e()},r.port2.postMessage(void 0)}}function mt(){var e=f.useRef(null),r=function(n){e.current||(e.current=[],vt(function(){at(function(){e.current.forEach(function(s){s()}),e.current=null})})),e.current.push(n)};return r}function A(e,r){var t=f.useState(r),n=h(t,2),s=n[0],i=n[1],u=rt(function(c){e(function(){i(c)})});return[s,u]}var H=et.createContext(null),yt=["component"],pt=["className"],ht=["className"],gt=function(r,t){var n=f.useContext(H);if(!n){var s=r.component,i=s===void 0?"div":s,u=z(r,yt);return f.createElement(i,g({},u,{ref:t}))}var c=n.className,d=z(n,pt),E=r.className,w=z(r,ht);return f.createElement(H.Provider,{value:null},f.createElement(D,g({ref:t,className:se(c,E)},d,w)))},Ie=f.forwardRef(gt);Ie.displayName="RawItem";var bt=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Pe="responsive",xe="invalidate";function Rt(e){return"+ ".concat(e.length," ...")}function St(e,r){var t=e.prefixCls,n=t===void 0?"rc-overflow":t,s=e.data,i=s===void 0?[]:s,u=e.renderItem,c=e.renderRawItem,d=e.itemKey,E=e.itemWidth,w=E===void 0?10:E,B=e.ssr,Y=e.style,q=e.className,v=e.maxCount,W=e.renderRest,M=e.renderRawRest,P=e.suffix,y=e.component,K=y===void 0?"div":y,J=e.itemComponent,O=e.onVisibleChange,T=z(e,bt),R=B==="full",b=mt(),Q=A(b,null),$=h(Q,2),k=$[0],je=$[1],S=k||0,Ae=A(b,new Map),oe=h(Ae,2),fe=oe[0],ze=oe[1],De=A(b,0),le=h(De,2),We=le[0],Me=le[1],Ke=A(b,0),ue=h(Ke,2),U=ue[0],Te=ue[1],$e=A(b,0),ce=h($e,2),V=ce[0],ke=ce[1],Ue=ie(null),de=h(Ue,2),Z=de[0],ve=de[1],Ve=ie(null),me=h(Ve,2),F=me[0],Fe=me[1],C=f.useMemo(function(){return F===null&&R?Number.MAX_SAFE_INTEGER:F||0},[F,k]),Le=ie(!1),ye=h(Le,2),Ge=ye[0],He=ye[1],ee="".concat(n,"-item"),pe=Math.max(We,U),te=v===Pe,p=i.length&&te,he=v===xe,Xe=p||typeof v=="number"&&i.length>v,_=Ee(function(){var a=i;return p?k===null&&R?a=i:a=i.slice(0,Math.min(i.length,S/w)):typeof v=="number"&&(a=i.slice(0,v)),a},[i,w,k,v,p]),re=Ee(function(){return p?i.slice(C+1):i.slice(_.length)},[i,_,p,C]),L=we(function(a,o){var l;return typeof d=="function"?d(a):(l=d&&(a==null?void 0:a[d]))!==null&&l!==void 0?l:o},[d]),Be=we(u||function(a){return a},[u]);function G(a,o,l){F===a&&(o===void 0||o===Z)||(Fe(a),l||(He(a<i.length-1),O==null||O(a)),o!==void 0&&ve(o))}function Ye(a,o){je(o.clientWidth)}function ge(a,o){ze(function(l){var m=new Map(l);return o===null?m.delete(a):m.set(a,o),m})}function qe(a,o){Te(o),Me(U)}function Je(a,o){ke(o)}function ne(a){return fe.get(L(_[a],a))}nt(function(){if(S&&typeof pe=="number"&&_){var a=V,o=_.length,l=o-1;if(!o){G(0,null);return}for(var m=0;m<o;m+=1){var j=ne(m);if(R&&(j=j||0),j===void 0){G(m-1,void 0,!0);break}if(a+=j,l===0&&a<=S||m===l-1&&a+ne(l)<=S){G(l,null);break}else if(a+pe>S){G(m-1,a-j-V+U);break}}P&&ne(0)+V>S&&ve(null)}},[S,fe,U,V,L,_]);var be=Ge&&!!re.length,Re={};Z!==null&&p&&(Re={position:"absolute",left:Z,top:0});var x={prefixCls:ee,responsive:p,component:J,invalidate:he},Qe=c?function(a,o){var l=L(a,o);return f.createElement(H.Provider,{key:l,value:I(I({},x),{},{order:o,item:a,itemKey:l,registerSize:ge,display:o<=C})},c(a,o))}:function(a,o){var l=L(a,o);return f.createElement(D,g({},x,{order:o,key:l,item:a,renderItem:Be,itemKey:l,registerSize:ge,display:o<=C}))},Se={order:be?C:Number.MAX_SAFE_INTEGER,className:"".concat(ee,"-rest"),registerSize:qe,display:be},ae=W||Rt,Ze=M?f.createElement(H.Provider,{value:I(I({},x),Se)},M(re)):f.createElement(D,g({},x,Se),typeof ae=="function"?ae(re):ae),_e=f.createElement(K,g({className:se(!he&&n,q),style:Y,ref:r},T),_.map(Qe),Xe?Ze:null,P&&f.createElement(D,g({},x,{responsive:te,responsiveDisabled:!p,order:C,className:"".concat(ee,"-suffix"),registerSize:Je,display:!0,style:Re}),P));return te?f.createElement(Ne,{onResize:Ye,disabled:!p},_e):_e}var X=f.forwardRef(St);X.displayName="Overflow";X.Item=Ie;X.RESPONSIVE=Pe;X.INVALIDATE=xe;export{X as F};
