var X=Object.defineProperty;var G=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var L=(s,e,i)=>e in s?X(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,j=(s,e)=>{for(var i in e||(e={}))J.call(e,i)&&L(s,i,e[i]);if(G)for(var i of G(e))Z.call(e,i)&&L(s,i,e[i]);return s};import{j as a,S as c,i as g,u as ee,e as se,C as F}from"./index.053dea56.js";import{createContext as U,useContext as k,useState as ie,useMemo as O,useEffect as re}from"react";import{c as x}from"./index.fbd937ed.js";import{i as oe}from"./rtl.f8a1526a.js";import{c as ae}from"./create-fake-array.68114bc4.js";import{u as $}from"./useQuery.758207e2.js";import{m as te,G as M,E as ne}from"./app-data.da3833f4.js";import{C as m,a as I}from"./custom-categories.e4debdf9.js";import{d as le,c as me}from"./socket.c077606d.js";import{a as ce,b as de,m as V}from"./route-manipulation.fb85cda5.js";import{g as pe,F as _e}from"./index.2b3f024a.js";import{b4 as ue,f as Ce}from"./backend-status-codes.80bfe624.js";import{t as fe,bK as N,i as ge}from"./index.c0392060.js";import{_ as ve}from"./i18next.083d61f0.js";import{h as he,i as Pe}from"./new-casino.c4c686c0.js";import{u as h}from"./index.ffa75b49.js";import{u as R}from"./useDispatch.cd750ed9.js";import{a as Se}from"./index.058a83a7.js";import{l as ye}from"./casino.9f590000.js";import{C as Ne}from"./new-casino.e5c4000d.js";import{u as Ee}from"./useSbRouteMatch.6006fa30.js";import{l as B}from"./fav-data.1c5898b7.js";import{b as Oe,c as xe,d as Ae}from"./new-casino.57a07aad.js";import{u as Ie}from"./useTranslation.70287e96.js";import"react-dom";import"./QueryClientProvider.04e144dd.js";import"./create-test-id.17a0abc8.js";import"./swarm-command-names.230156ba.js";import"./not-real-sports.64fc4139.js";import"./lazy.73833dcd.js";import"./CasinoGamesConfigsContext.e82deb44.js";import"./index.e56a0208.js";import"./style.32a730b7.js";import"./styled-components.browser.esm.22f548e7.js";import"./index.ff41ed79.js";import"./index.68ae7eeb.js";import"./index.2ff73181.js";import"./useOpenLoginPopup.d27706ba.js";import"./index.fcbc691d.js";import"./useSearchParams.0c3b0efc.js";import"./user-data.f480309c.js";import"./index.c41901f2.js";import"./index.092cd2c1.js";import"./toConsumableArray.19249869.js";import"./placements.f27399b1.js";import"./index.9a56940c.js";import"./usePredefinedStakes.58f7290f.js";import"./odds.334494eb.js";import"./batch.dcd71b53.js";import"./index.59a19261.js";import"./index.9f857438.js";import"./maps.0cbca0c2.js";import"./casino-data.6512dc9e.js";import"./casino-data.d1fb1a26.js";import"./useDebounce.2f1da174.js";import"./index.1967089f.js";import"./context.f61a2be2.js";const Re=({games:s})=>a.jsx("div",{className:x(["providerGamesImages",{"providerGamesImages--rtl":c.IS_RTL}]),children:s.map(e=>a.jsx("img",{width:"123px",height:"87px",className:"favoritesCasinoGames__game__imgWrapper__img",alt:e.name,src:c.CASINO_HIGH_QUALITY_PICTURES&&e.icon_3?e.icon_3:g()&&e.icon_1?e.icon_1:e.icon_2,loading:"lazy"},e.extearnal_game_id))}),Te=4,De=({provider:s})=>{var l,P;const e=h(te),i=ee(),n=R(),{data:o}=$({queryKey:[le.PersonalizedCasinoProviders,s.name],queryFn:()=>pe({is_mobile:Number(g()),provider:s.name,limit:Te,_fake_category:m.all.id}),retry:!1}),u=()=>{const p=`${c.PAGE_URLS.casino}/${c.CASINO_MOUNT_PATH}/${m.all.id}?provider=${s.name}`;g()&&n(ue(!1)),ce(p)?de(p,!1,!0):(i.push({pathname:`${V(i.location.pathname,!1,!0)}/${m.all.id}`,search:i.location.search}),n(he([s])))};return a.jsxs("div",{className:"favoritesCasinoProviders__provider",onClick:u,children:[a.jsxs("div",{className:"favoritesCasinoProviders__provider__icons",children:[a.jsx(M,{useWrapper:!0,lib:"providers",name:`${(l=s.icon_name)!=null?l:s.name}${e?"dark":""}`,emHeight:"auto",className:"providersDesktop__icons--all",theme:"colored",alt:a.jsx("div",{className:"providersAltText",children:s.title})}),a.jsx(M,{lib:"generic",name:"favorite",theme:"default",size:ne._15,className:"providersDesktop__icons__favoriteIcon providersDesktop__icons__favoriteIcon__active",onClick:p=>{p.stopPropagation(),n(fe({groupKey:"providers",entity:s.name}))}})]}),a.jsx("span",{className:"favoritesCasinoProviders__provider__text",children:s.title}),(P=o==null?void 0:o.data)!=null&&P.games?a.jsx(Re,{games:o.data.games}):null]})},be={isFirstCasinoElement:!1,categoryIds:"",providerIds:"",bindWithCategories:!1,providersSliderMode:!1,providersLayout:0,providersLogosType:"0"},Ge=U({configs:be}),Le=()=>k(Ge),je={searchValue:"",setSearchValue:()=>{}},Fe=U(je),Me=()=>k(Fe),E=s=>s.toLowerCase().replace(/ /g,""),Ue=(s=!1)=>{const{searchValue:e}=Me(),{configs:{providerIds:i,categoryIds:n,bindWithCategories:o}}=Le(),u=h(Oe),l=h(xe),P=h(Ae),p=h(B),K=R(),q=se(),[_,H]=ie(m.all.id),f=Ee(`${V(q.pathname,!1,!0)}/:category?`),y=O(()=>ye()?l:u,[u,l]),T=!o||P&&!!y,W=T&&_&&!I.includes(_),w=!o&&(n!==void 0||i!==void 0),D=c.MOCKED_DATA||T||W||w,{data:S,isLoading:z}=$({queryKey:[me.CasinoProviders,_,s],queryFn:()=>Q(),retry:!1,enabled:D}),Q=()=>new Promise(r=>{var t;if(c.MOCKED_DATA)ve(()=>import("./providers-mock.a419c456.js"),[]).then(d=>{r(d.CASINO_PROVIDERS_MOCK)});else{if(o&&!P&&r([]),o&&_&&!I.includes(_)||!o&&(n!==void 0||i!==void 0)){const d=(y==null?void 0:y.filter(v=>!Number.isNaN(Number(v))))||[],C=o?_===m.all.id?d.length?d.join(","):m.all.id:_||m.all.id:n||m.all.id,b=document.documentElement.lang,Y=j({partner_id:c.PARTNER_ID,country:c.CURRENT_COUNTRY_CODE,is_mobile:Number(g()),only_providers:1,lang:((t=window.currentLanguageObject)==null?void 0:t.casinoLangPrefix)||F[b]||F[b.slice(0,2)]||c.LANGUAGE_PREFIX},C!=="all"&&{categories:C});Se.get(`${c.CASINO_URL}/${Ne.GET_OPTIONS}`,{params:Y}).then(v=>{K(Pe(!0)),v.status===Ce&&v.data&&v.data.status==="ok"&&r(v.data.providers),r([])}).catch(()=>{r([])});return}r([])}});re(()=>{var r,t;s||(r=f==null?void 0:f.params)!=null&&r.category&&H((t=f==null?void 0:f.params)==null?void 0:t.category.split("?")[0])},[f]);const A=O(()=>{let r=m.all.id;if(c.MOCKED_DATA||(o?r=_||m.all.id:n?r=(n==null?void 0:n.split(",")[0])||m.all.id:r=m.all.id),r){if(I.includes(r))return[N.all];if(S){let t;return i&&S?t=S.filter(d=>i==null?void 0:i.split(",").includes(d.name)):t=S,[N.all,...t]}else return[]}else return[]},[S,_]);return{filteredProviders:O(()=>{let r=A.filter(({name:t,title:d})=>E(`${t}`).includes(E(e))||E(d).includes(E(e)));if(!c.MOCKED_DATA&&(p!=null&&p.length)){const t=r.find(C=>C.name===N.all.name),d=r.filter(C=>C.name!==N.all.name).sort(C=>p.includes(C.name)?-1:1);r=t?[t,...d]:d}return r},[A,e,p]),isProvidersLoading:!D||z,providers:A}},ke=3,Hs=({showTitle:s})=>{const{providers:e}=Ue(!0),i=h(B),n=R(),{t:o}=Ie(),u=O(()=>e.filter(l=>i==null?void 0:i.includes(l.name)),[e,i]);return a.jsxs("div",{className:"x-casinoGamesByCategories",children:[a.jsxs("div",{className:x(["x-casinoGamesByCategories__categoryName",{"x-casinoGamesByCategories__categoryName--small":g()}]),children:[s&&o("pages.myProviders"),a.jsxs("div",{className:x(["x-casinoGamesByCategories__categoryName__clearAll",{"x-casinoGamesByCategories__categoryName__clearAll--mobile":g()}]),onClick:()=>{n(ge("providers"))},style:oe?{marginRight:"auto"}:{marginLeft:"auto"},children:[o("casino.clearAll")," (",u.length,")"]})]}),a.jsx("div",{className:x(["x-casinoGamesByCategories__providers favoritesCasinoProviders",{"x-casinoGamesByCategories__providers--mobile":g()}]),children:u.length?u.map(l=>a.jsx(De,{provider:l},l.name)):ae(ke).map(l=>a.jsx(_e,{},l))})]})};export{Hs as FavoriteProviders};
