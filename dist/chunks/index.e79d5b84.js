(function(){"use strict";try{if(typeof document!="undefined"){var t=document.createElement("style");t.appendChild(document.createTextNode(".X_market-button{border:1px solid var(--v3-black-15);width:100%;background-color:var(--v3-black-0);border-radius:6px;padding:10px 8px;cursor:pointer;white-space:nowrap}.X_market-button__small{font-size:12px;line-height:16px;padding:7px 8px}.X_market-button__large{padding:12px 8px;line-height:18px}.X_market-button--empty{cursor:default!important;padding:11px 12px}.X_market-button--empty:hover{border:1px solid var(--v3-black-15)!important}.X_market-button:hover{border:1px solid var(--v3-primary-6)}.X_market-button__indicator{position:relative;display:flex;font-size:14px;line-height:20px;font-weight:600}.X_market-button__indicator__block-icon{color:var(--v3-black-45)}.X_market-button__indicator__arrows{position:absolute;left:50%;top:100%;transform:translate(-50%)}.X_market-button-mobile{font-size:12px;padding:10px 8px}.X_market-button-mobile:hover{border:1px solid var(--v3-black-15)}.X_market-button-selected{border:1px solid var(--v3-primary-6);background-color:var(--v3-primary-6);color:var(--v3-color-on-primary)}.X_market-button-selected .boostedOdd-listView__calculation{color:var(--v3-color-on-primary)!important}.X_market-button-selected:hover{border:1px solid var(--v3-primary-6);box-shadow:0 2px 4px -1px #525bff14}.X_market-button-blocked{cursor:default}.X_market-button-blocked:hover{border:1px solid var(--v3-black-15)}.boostedOdd-listView{flex-wrap:nowrap}.boostedOdd-listView--header{font-size:14px;line-height:20px;letter-spacing:.07px;flex-wrap:nowrap}.boostedOdd-listView__calculation{font-size:12px;line-height:16px;letter-spacing:.06px}.boostedOdd-listView__icon{position:absolute!important;bottom:22px;right:1px}")),document.head.appendChild(t)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();
var Y=Object.defineProperty;var X=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var G=(n,a,m)=>a in n?Y(n,a,{enumerable:!0,configurable:!0,writable:!0,value:m}):n[a]=m,Q=(n,a)=>{for(var m in a||(a={}))J.call(a,m)&&G(n,m,a[m]);if(X)for(var m of X(a))Z.call(a,m)&&G(n,m,a[m]);return n};import{_ as ee}from"./i18next.083d61f0.js";import{j as i,S as _,i as S}from"./index.9a33d21b.js";import{useId as te,useMemo as v,memo as ie,useCallback as oe}from"react";import{c as R}from"./index.fbd937ed.js";import{ab as ae,a3 as se,n as re,ag as ne}from"./index.2e7649fa.js";import{s as me}from"./array-sort-by.690dd174.js";import{l as F,h as ce,G as q,E as D,c as de}from"./app-data.3313f084.js";import{S as $,c as z,f as le,h as pe}from"./Events.public.32d28a8c.js";import{c as _e}from"./create-fake-array.68114bc4.js";import{h as H}from"./handleRedirectToSportsBook.1fa97cf0.js";import{h as ue}from"./hide-private-competitions.bb3e889f.js";import{E as he}from"./EmptyOdd.1f8b4e8f.js";import"./backend-status-codes.4c1943df.js";import{C as ge}from"./col.94909042.js";import{P as fe}from"./index.27fc0452.js";import{a as be,c as A}from"./usePredefinedStakes.892527de.js";import{c as Ee}from"./calculate-boosted-odds.8854e450.js";import{u as Ie,a as Se,g as ke,E as U,C as xe,O as je}from"./useOddChange.efac89df.js";import{s as Ne}from"./send-add-to-betslip-post-message.2d04fc77.js";import{u as Oe}from"./useEventbus.6393d2bd.js";import{d as Be,f as ve,a as ye,h as Pe,V as Te}from"./index.9e499441.js";import{g as Ce}from"./sport-data.58080bc0.js";import{u as we}from"./useDispatch.151d3a82.js";import{u as d}from"./index.17630e7e.js";import{g as Re}from"./odds.3bca0cb7.js";import{U as Le}from"./index.cd749fad.js";import{G as W}from"./index.d4b2e2e7.js";import{M as $e}from"./index.856ed0f4.js";import{u as Ae,g as De,b as Ve}from"./Skeleton.da8e5d7a.js";import{g as Me}from"./spec-elems.a06c4bcb.js";import{g as Xe}from"./user-data.358c1cdc.js";import"react-dom";import"./swarm-command-names.afa48e3f.js";import"./create-test-id.17a0abc8.js";import"../widgets/Wrapper.js";import"./QueryClientProvider.e298e67a.js";import"./weekday.4f991ab7.js";import"./global-variables.eb46f49b.js";import"./context.f61a2be2.js";import"./lazy.73833dcd.js";import"./get-data-level.0ccc74a6.js";import"./index.f4c7d5fb.js";import"./index.7a2bd44d.js";import"./style.b04602fb.js";import"./styled-components.browser.esm.04179a03.js";import"./index.7d5f88f7.js";import"./useTranslation.70287e96.js";import"./useBoostedOdds.fba5ecbe.js";import"./index.9fa2e41e.js";import"./useMounted.6d9c5610.js";import"./route-manipulation.7a3d02e7.js";import"./not-real-sports.64fc4139.js";import"./private-competitions.91107fbb.js";import"./toConsumableArray.635ccf3f.js";import"./placements.2094afc0.js";import"./socket.c1bf8301.js";import"./batch.dcd71b53.js";import"./index.9eebc582.js";import"./index.5f1e48b3.js";import"./useOpenLoginPopup.9bf6877c.js";import"./custom-categories.700b2888.js";import"./index.1dfc2dcd.js";import"./useSearchParams.353231ec.js";import"./useDoBet.55e9cf8f.js";import"./editBetActions.4f0fb51e.js";import"./edit-bet.f841d32c.js";import"./getAdvancedMultipleGeneralField.2fa28824.js";import"./counterOffer.74a34af9.js";import"./rtl.d50a3051.js";import"./game-current-state.dbd76719.js";import"./sport-list.d0c83c34.js";import"./live-games-helper.ab98b608.js";import"./index.9c369ab9.js";import"./useSportsbookConfigs.7961e643.js";import"./generic.cf030613.js";const Ge=({columnCount:n,selectedEventIds:a,handleSelectBet:m,teamName:g,isMobile:k,evt:e,gameId:u,isBlocked:h,size:t,marketId:f})=>{var V;const s=te(),p=we(),l=d(Be),L=d(ve),b=d(Ce),x=d(Re),y=d(F),P=d(ce),j=d(ye),T=d(Pe),E=be(e==null?void 0:e.price)||(e==null?void 0:e.price),N=!!u&&!!(b!=null&&b.includes(u)),{oddChangeHandler:I,popover:r,hidePopover:C}=Ie(()=>{},m,a),o=a.includes((V=e.id)==null?void 0:V.toString())||!!(r!=null&&r.id&&`${r==null?void 0:r.id}`==`${e.id}`)||s===L,{buttonRef:c,getButtonPosition:O}=Se(),w=v(()=>ke(E,e==null?void 0:e.price),[e==null?void 0:e.price,E]),K=B=>{if(B.stopPropagation(),!h){let M;if(y&&u&&f&&(M=()=>Ne({eventId:Number(e.id),gameId:u,marketId:f})),j&&l&&p(ae(s)),j&&!T&&P){se({key:U.Validate,payload:s});return}I(String(e.id),e.price,!1,!1,M)}};return Oe({[U.Verified]:({payload:B})=>{B===s&&I(String(e.id),e.price)}},[I]),i.jsx(fe,{content:i.jsx(xe,Q({},r||{})),placement:O(),trigger:"click",visible:!!(r!=null&&r.id&&`${r==null?void 0:r.id}`==`${e.id}`),onVisibleChange:B=>!B&&C(),overlayClassName:R(["quick-bet-confirmation-popover",{"quick-bet-confirmation-popover-right":k&&O()==="topRight","quick-bet-confirmation-popover-hide":r==null?void 0:r.validateRecaptcha}]),destroyTooltipOnHide:!0,children:i.jsx(ge,{span:n,ref:c,children:i.jsx("div",{className:R([`X_market-button__${t||"default"} X_market-button`,{"X_market-button-selected":o,"X_market-button-mobile":k,"X_market-button-blocked":!!h}]),onClick:K,children:i.jsxs("div",{style:{display:"flex",justifyContent:g?"space-between":"center",alignItems:"center"},children:[!!g&&i.jsx("span",{style:{width:"auto",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:g}),i.jsxs("div",{className:"X_market-button__indicator",children:[_.IS_BOOSTED_ODDS_ENABLED&&N?i.jsxs("div",{className:"boostedOdd boostedOdd-listView",children:[i.jsx(q,{lib:"generic",name:"boostedOdds",theme:"colored",size:D._14,className:"boostedOdd-listView__icon"}),i.jsxs("span",{className:"boostedOdd--header boostedOdd-listView--header",children:[A(e.price,x),i.jsx("span",{className:"boostedOdd__calculation boostedOdd-listView__calculation",children:A(Ee(e.price),x)})]})]}):!!h&&i.jsx(q,{lib:"generic",name:"lock",theme:"default",className:"X_market-button__indicator__block-icon",size:D._12}),!h&&!(_.IS_BOOSTED_ODDS_ENABLED&&N)&&A(e.price,x),i.jsx("div",{className:"X_market-button__indicator__arrows",children:!!E&&i.jsx(je,{indicatorValue:w,isEvent:!0},w)})]})]})})},e.id)})};_.DIRECTION==="rtl"&&ee(()=>Promise.resolve({}),["assets/rtl23.css"]);const li=ie(({game:n})=>{var y,P,j,T,E,N,I,r,C;const a=Ae(),m=d(Me),g=d(Xe),k=d(De)[(a==null?void 0:a.moduleId)||""],e=(y=d(Ve)[(a==null?void 0:a.moduleId)||""])==null?void 0:y[k],u=d(Te),h=d(F),t=v(()=>g?n:ue(n,n.competitionId),[n,g]),f=v(()=>u.map(o=>{var c;return(c=o.eventId)==null?void 0:c.toString()}),[u]),s=v(()=>{if(!e)return null;const o=Object.values(t.market||{});return $[e.alias]&&o.some(({type:c})=>c===$[e.alias])?o.filter(({type:c})=>c===$[e.alias])[0]:o[0]},[t.market,e]),p=v(()=>s?me(Object.values(s.event||{})):null,[s]),l=t.type===1,L=oe(o=>{var c,O;if(s)if(!m&&!_.IS_BETSLIP_FLOATING_ENABLED&&!h&&H(l?"live":"prematch",t.region_alias,t.competitionId,t.id,e==null?void 0:e.alias),f.includes((c=o.id)==null?void 0:c.toString()))ne(o.id);else{const w={sport_id:e==null?void 0:e.id,sport_index:(e==null?void 0:e.alias)||"",sport_alias:(e==null?void 0:e.alias)||"",sport_name:(e==null?void 0:e.name)||"",competition_name:t.competitionName,current_game_state:t.info.current_game_state,current_game_time:t.info.current_game_time,isLive:l,region_name:t.region_alias,game_start_date:t.start_ts,express_id:s.express_id,market_name:s.name,marketType:s.type,market:s,gameId:t.id,eventId:o.id,event_name:o.name,coeficient:o.price,eventBase:o.base,team1:t.team1_name,team2:t.team2_name,isSuspended:!1,game_name:(O=t.team2_name)!=null&&O.length?`${t.team1_name}-${t.team2_name}`:t.team1_name,game_state:t.info.current_game_state,type:t.type,game_info:t.info};re(w)}},[t,s,e,l,f,h]),b=l&&((P=t.info)==null?void 0:P.score1)!=="-"&&((j=t.info)==null?void 0:j.score2)!=="-",x=((s==null?void 0:s.col_count)||1)-((p==null?void 0:p.length)||1);return i.jsx(Le,{url:`${l?(T=_.PAGE_URLS.live)==null?void 0:T.split(window.location.origin)[1]:(E=_.PAGE_URLS.prematch)==null?void 0:E.split(window.location.origin)[1]}/${`${_.SPORTSBOOK_MOUNT_PATH}/`}${e==null?void 0:e.alias}/${t.region_alias}/${t.competitionId}/${t.id}`.replace(/([^:]\/)\/+/g,"$1"),children:i.jsxs("div",{className:R(["events-game",{"events-game-mobile":S()}]),onClick:o=>{o.stopPropagation(),H(l?"live":"prematch",t.region_alias,t.competitionId,t.id,e==null?void 0:e.alias)},children:[S()&&i.jsx("div",{className:"events-game__match-info",children:i.jsx("div",{className:"events-game__match-info--text",children:t.competitionName})}),i.jsxs("div",{className:"events-game__header",children:[S()?i.jsxs("div",{className:"events-game__header--menu",children:[i.jsx(W,{isLive:l,game:t,currentSport:e==null?void 0:e.alias,dir:"row",reverse:!l}),b&&i.jsxs("div",{className:"events-game__header--menu--button",children:[((N=t.info)==null?void 0:N.score1)||0,":",((I=t.info)==null?void 0:I.score2)||0]})]}):i.jsx("div",{className:"events-game__header--league",children:t.competitionName}),i.jsxs("div",{className:"events-game__header--menu",children:[!S()&&i.jsxs(i.Fragment,{children:[i.jsx(W,{isLive:l,game:t,currentSport:e==null?void 0:e.alias,dir:"row",reverse:k!==z.LIVE&&(a==null?void 0:a.type)!==z.LIVE}),b&&i.jsxs("div",{className:"events-game__header--menu--button",children:[((r=t.info)==null?void 0:r.score1)||0," : ",((C=t.info)==null?void 0:C.score2)||0]})]}),_.STATISTICS_SWITCHER&&t.is_stat_available&&i.jsx("div",{className:"events-game__header--menu--matchStatistic--button",children:i.jsx($e,{matchId:t.id,showStatisticInPopover:t.type!==1,size:D._16,iconContainerSize:de.SMALL})}),!!t.markets_count&&i.jsxs("div",{className:"events-game__header--menu--button",children:["+",t.markets_count]})]})]}),i.jsxs("div",{className:"events-game__markets",children:[p==null?void 0:p.map((o,c)=>i.jsx(Ge,{isMobile:S(),columnCount:le({eventsLength:p.length,index:c}),teamName:pe({eventsLength:p.length,index:c,event:{name:o.name,type:o.type,type_1:o.type_1,team1_name:t.team1_name,team2_name:t.team2_name}}),evt:o,handleSelectBet:()=>L(o),selectedEventIds:f,gameId:t.id,isBlocked:!!t.is_blocked,marketId:s==null?void 0:s.id},o.id)),_e(x).map(o=>i.jsx(he,{className:R(["X_market-button","X_market-button--empty",{"X_market-button-mobile":S()}])},o))]})]})})});export{li as Game};
