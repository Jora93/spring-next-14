import*as s from"react";import{T as ee}from"./placements.2094afc0.js";import{w as x,K as te,J as ne,X as re,Y as V}from"./backend-status-codes.4c1943df.js";import{K as L}from"./KeyCode.6413d982.js";function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(r){O(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ie(e){if(Array.isArray(e))return e}function ae(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],a=!0,o=!1,u,v;try{for(t=t.call(e);!(a=(u=t.next()).done)&&(r.push(u.value),!(n&&r.length===n));a=!0);}catch(p){o=!0,v=p}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw v}}return r}}function I(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function oe(e,n){if(e){if(typeof e=="string")return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,n)}}function le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(e,n){return ie(e)||ae(e,n)||oe(e,n)||le()}function fe(e,n){if(e==null)return{};var t={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(t[a]=e[a]);return t}function ue(e,n){if(e==null)return{};var t=fe(e,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var y={adjustX:1,adjustY:1},b=[0,0],ce={topLeft:{points:["bl","tl"],overflow:y,offset:[0,-4],targetOffset:b},topCenter:{points:["bc","tc"],overflow:y,offset:[0,-4],targetOffset:b},topRight:{points:["br","tr"],overflow:y,offset:[0,-4],targetOffset:b},bottomLeft:{points:["tl","bl"],overflow:y,offset:[0,4],targetOffset:b},bottomCenter:{points:["tc","bc"],overflow:y,offset:[0,4],targetOffset:b},bottomRight:{points:["tr","br"],overflow:y,offset:[0,4],targetOffset:b}},ve=L.ESC,de=L.TAB;function pe(e){var n=e.visible,t=e.setTriggerVisible,r=e.triggerRef,a=e.menuRef,o=e.onVisibleChange,u=s.useRef(!1),v=function(){if(n&&r.current){var c,f,m,h;(c=r.current)===null||c===void 0||(f=c.triggerRef)===null||f===void 0||(m=f.current)===null||m===void 0||(h=m.focus)===null||h===void 0||h.call(m),t(!1),typeof o=="function"&&o(!1)}},p=function(c){var f;switch(c.keyCode){case ve:v();break;case de:!u.current&&(!((f=a.current)===null||f===void 0)&&f.focus)?(c.preventDefault(),a.current.focus(),u.current=!0):v();break}};s.useEffect(function(){return n?(window.addEventListener("keydown",p),function(){window.removeEventListener("keydown",p),u.current=!1}):function(){return null}},[n])}var me=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function ge(e,n){var t=e.arrow,r=t===void 0?!1:t,a=e.prefixCls,o=a===void 0?"rc-dropdown":a,u=e.transitionName,v=e.animation,p=e.align,w=e.placement,c=w===void 0?"bottomLeft":w,f=e.placements,m=f===void 0?ce:f,h=e.getPopupContainer,W=e.showAction,K=e.hideAction,z=e.overlayClassName,B=e.overlayStyle,F=e.visible,S=e.trigger,R=S===void 0?["hover"]:S,H=ue(e,me),X=s.useState(),T=se(X,2),Y=T[0],C=T[1],E="visible"in e?F:Y,P=s.useRef(null);s.useImperativeHandle(n,function(){return P.current});var M=s.useRef(null),J="".concat(o,"-menu");pe({visible:E,setTriggerVisible:C,triggerRef:P,menuRef:M,onVisibleChange:e.onVisibleChange});var N=function(){var i=e.overlay,l;return typeof i=="function"?l=i():l=i,l},U=function(i){var l=e.onOverlayClick,g=N().props;C(!1),l&&l(i),g.onClick&&g.onClick(i)},q=function(i){var l=e.onVisibleChange;C(i),typeof l=="function"&&l(i)},k=function(){var i,l=N(),g=te(M,l.ref),j=(i={prefixCls:J},O(i,"data-dropdown-inject",!0),O(i,"onClick",U),O(i,"ref",ne(l)?g:void 0),i);return typeof l.type=="string"&&(delete j.prefixCls,delete j["data-dropdown-inject"]),s.createElement(s.Fragment,null,r&&s.createElement("div",{className:"".concat(o,"-arrow")}),s.cloneElement(l,j))},G=function(){var i=e.overlay;return typeof i=="function"?k:k()},Q=function(){var i=e.minOverlayWidthMatchTrigger,l=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?i:!l},Z=function(){var i=e.openClassName;return i!==void 0?i:"".concat(o,"-open")},$=function(){var i=e.children,l=i.props?i.props:{},g=x(l.className,Z());return E&&i?s.cloneElement(i,{className:g}):i},A=K;return!A&&R.indexOf("contextMenu")!==-1&&(A=["click"]),s.createElement(ee,D(D({builtinPlacements:m},H),{},{prefixCls:o,ref:P,popupClassName:x(z,O({},"".concat(o,"-show-arrow"),r)),popupStyle:B,action:R,showAction:W,hideAction:A||[],popupPlacement:c,popupAlign:p,popupTransitionName:u,popupAnimation:v,popupVisible:E,stretch:Q()?"minWidth":"",popup:G(),onPopupVisibleChange:q,getPopupContainer:h}),$())}const Pe=s.forwardRef(ge);var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const be=ye;var he=function(n,t){return s.createElement(re,V(V({},n),{},{ref:t,icon:be}))},Oe=s.forwardRef(he);const Ae=Oe;export{Pe as D,Ae as E};
