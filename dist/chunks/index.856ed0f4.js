(function(){"use strict";try{if(typeof document!="undefined"){var t=document.createElement("style");t.appendChild(document.createTextNode('.match-stat-col{padding:0 4px;font-weight:400;font-size:12px!important;line-height:16px!important;letter-spacing:.1px!important;word-wrap:no-wrap;color:var(--v3-text-color-secondary);display:flex;align-items:center}.match-stat-col-sm{min-width:104px;max-width:104px}.match-stat-col-lg{min-width:260px;max-width:260px}.match-stat-cube{min-width:48px;padding:0 1px;position:relative;display:flex;align-items:center;justify-content:center}.match-stat-cube-winner{color:var(--v3-text-color)}.match-stat-spacer{padding-left:14px}.match-stat-result{width:calc(100% - 2px);height:36px;position:absolute;top:0;left:0;transform:translateY(-50%);display:flex;align-items:center;justify-content:center;overflow:hidden;transition:.1s .05s linear;cursor:pointer}.match-stat-result__effect{width:100%;height:100%;position:absolute;top:calc(100% - 2px);transition:.15s linear;z-index:-1}.match-stat-result:hover{color:var(--v3-black-0)}.match-stat-result:hover .match-stat-result__effect{top:0}.match-stat-result__effect-lose{background-color:#ff6262}.match-stat-result__effect-draw{background-color:#fed359}.match-stat-result__effect-win{background-color:#31cdc7}.match-stat-result-bordered{cursor:default;border-left:1px solid var(--v3-black-6)}.match-stat-result-bordered:hover{color:var(--v3-text-color-secondary)}.match-stat-result-bordered:hover .match-stat-result-bordered__effect{top:calc(100% - 2px)}.match-stat-result-full-width{width:100%}.match-stat-result-extra{width:72px;height:73px;transform:translateY(-18px);background-color:var(--v3-black-2)}.match-stat-wrapper{width:100%;height:100%;border-radius:4px;position:relative;overflow:hidden}.match-stat-wrapper__tab-row{width:100%;padding:8px;border-bottom:1px solid var(--v3-black-6);display:flex;align-items:center}.match-stat-wrapper__tab-row .match-stat-team-tab{padding-left:32px}.match-stat-wrapper__tab-row__header-text{font-weight:600}.match-stat-wrapper__tab-row__title{width:100%;display:flex;align-items:center}.match-stat-wrapper__tab-row__title__icon{width:20px;height:20px;min-width:20px;display:flex;align-items:center;justify-content:center;margin-right:8px}.match-stat-wrapper__tab-row__title__icon__text{width:100%;height:20px;border-radius:50%;display:flex;justify-content:center;align-items:center;background-color:var(--v3-black-6);font-weight:400;font-size:10px;line-height:14px}.match-stat-wrapper__tab-row__title__icon .teamLogoImage{width:100%}.match-stat-wrapper__tab-row__title__icon .customSkeleton{width:100%;height:100%}.match-stat-wrapper__tab-row__title__icon .customSkeleton-avatar{width:100%!important;height:100%!important;line-height:20px!important}.match-stat-wrapper__tab-row__title__text{color:var(--v3-text-color-secondary);font-weight:400;font-size:12px;line-height:16px;letter-spacing:.1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.match-stat-wrapper__tab-row__skeleton-lg{width:64px!important;height:16px!important}.match-stat-wrapper__tab-row__skeleton-sm{width:24px!important;min-width:24px!important;height:16px!important}.match-stat-wrapper__tab-row__skeleton-circle{width:20px!important;min-width:20px!important;height:20px!important;border-radius:50%!important}.match-stat-wrapper__tab-result{background-color:var(--v3-black-2)}.match-stat-wrapper:after{content:"";width:100%;height:4px;background-color:var(--v3-black-2);position:absolute;bottom:0}.match-statistic{color:var(--v3-black-45)}.match-statistic:hover{color:var(--v3-primary-5)}.match-statistic-mobile:hover{color:var(--v3-black-45)}.match-statistic-popover{padding:6px 0}.match-statistic-popover .v3-popover-arrow{display:none}.match-statistic-popover .v3-popover-inner-content{width:640px;height:394px;padding:0}.statisticsBanner__mobile .match-statistic-mobile{color:var(--v3-color-on-primary);font-size:16px!important}')),document.head.appendChild(t)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
var O=(a,s,c)=>new Promise((e,n)=>{var i=r=>{try{o(c.next(r))}catch(m){n(m)}},_=r=>{try{o(c.throw(r))}catch(m){n(m)}},o=r=>r.done?e(r.value):Promise.resolve(r.value).then(i,_);o((c=c.apply(a,s)).next())});import{_ as G}from"./i18next.083d61f0.js";import{d as U,ac as V}from"./backend-status-codes.4c1943df.js";import{P as X}from"./index.27fc0452.js";import{S as j,j as t,i as f}from"./index.9a33d21b.js";import{memo as Y,useState as R,useEffect as E,useCallback as q,useMemo as z,Suspense as W}from"react";import{c as J}from"./index.fbd937ed.js";import{l as K}from"./lazy.73833dcd.js";import{d as Q,S as v,H as Z,O as y}from"./usePredefinedStakes.892527de.js";import{E as H}from"./index.9c369ab9.js";import{S as l,G as tt}from"./app-data.3313f084.js";import{u as at}from"./useMounted.6d9c5610.js";import{c as d}from"./create-fake-array.68114bc4.js";var w=(a=>(a.lose="lose",a.draw="draw",a.win="win",a))(w||{});const P=5,st=394,ct=8,S=(a,s)=>a===s.id,L=(a,s)=>a<s?w.lose:a>s?w.win:w.draw,F=(a,s)=>{if(a.length<P)for(let c=0;c<P-a.length;c++)s.push({id:c,score:"-",status:w.draw})},$=(a,s)=>{const c=s.map(({Id:e,HomeTeam:n,HomeScore:i,AwayScore:_})=>{const o=S(a,n[0]),r=o?i:_,m=o?_:i;return{id:e,score:`${r}:${m}`,status:L(r,m)}});return F(s,c),c},B=(a,s)=>{const c=s.map(({Id:e,HomeTeam:n,AwayTeam:i,HomeScore:_,AwayScore:o})=>{const r=S(a,n[0]),m=r?_:o,h=r?o:_;return{id:e,score:`${_}:${o}`,status:L(m,h),teams:`${n[0].name} - ${i[0].name}`}});return F(s,c),c},I=(a,s)=>s.find(({EntityId:c})=>c===a),M=a=>a?U(a).format(Q({date:j.DT.longDate})):"-",N=(a,s,c)=>{if(!s.length)return"-";let e=0,n=0,i=0;s.forEach(({HomeTeam:o,HomeScore:r,AwayScore:m})=>{const h=S(a,o[0]),p=h?r:m,x=h?m:r,u=()=>{p>x&&n++,p===x&&i++};c==="all"&&(e++,u()),c==="h"&&h&&(e++,u()),c==="a"&&!h&&(e++,u())});const _=Math.round((n*1+i*Z)*y/e*v)/v;return`${isNaN(_)?0:_}%`},b=(a,s)=>{if(!s.length)return"-";const c=s.reduce((e,{HomeTeam:n,HomeScore:i,AwayScore:_})=>{const o=S(a,n[0]);return e+=o?i:_,e},0);return`${Math.round(c/s.length*v)/v}`},T=a=>{if(!a.length)return"-";const s=a.reduce((c,{HomeScore:e,AwayScore:n})=>(c+=e+n,c),0);return`${Math.round(s/a.length*v)/v}`},kt=a=>`https://statistics.bcapps.org/images/c/s/0/${a}.png`,Ct=a=>O(void 0,null,function*(){return yield(yield fetch(`https://krosstats.betconstruct.com/api/${j.STATISTICS_LANG_PREFIX}/900/93f428d0-6591-48da-859d-b6c326db2448/Match/GetFullMatchInfo?matchId=${a}`)).json()}),Ot=({HomeTeamId:a,AwayTeamId:s,CurrentMatch:c,H2HMatches:e,H2HleagueTable:n,UpcomingMatchesEnt1:i,UpcomingMatchesEnt2:_,PlayedMatchesEnt1:o,PlayedMatchesEnt2:r})=>{var k,C;const m={},h=I(a,n),p=I(s,n),x={id:a,name:c.HomeTeamName},u={id:s,name:c.AwayTeamName};return m.competition={id:c.CompetitionId,name:c.CompetitionName},m.h2h=[{team:x,matches:$(a,e),all:N(a,e,"all"),h:N(a,e,"h"),a:N(a,e,"a"),it:b(a,e),gt:T(e)},{team:u,matches:$(s,e),all:N(s,e,"all"),h:N(s,e,"h"),a:N(s,e,"a"),it:b(s,e)}],m.leagueResults=[{team:x,pos:`${(h==null?void 0:h.PositionTotal)||"-"}`,pld:`${(h==null?void 0:h.PlayedTotal)||"-"}`,pts:`${(h==null?void 0:h.PointsTotal)||"-"}`,nextMatch:M((k=i[0])==null?void 0:k.Date)},{team:u,pos:`${(p==null?void 0:p.PositionTotal)||"-"}`,pld:`${(p==null?void 0:p.PlayedTotal)||"-"}`,pts:`${(p==null?void 0:p.PointsTotal)||"-"}`,nextMatch:M((C=_[0])==null?void 0:C.Date)}],m.lastGames=[{team:x,matches:B(a,o),it:b(a,o),gt:T(o)},{team:u,matches:B(s,r),it:b(s,r),gt:T(r)}],m},et=a=>{var i;const s=document.querySelector(`[data-popover-trigger="${a}"]`),c=(i=s==null?void 0:s.getBoundingClientRect())==null?void 0:i.top,e=j.IS_RTL?"Right":"Left";return(c-st-ct<0?"bottom":"top")+e},rt=()=>t.jsxs("div",{className:"match-stat-wrapper__tab-row",children:[t.jsx("div",{className:"match-stat-col match-stat-col-sm",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg match-stat-spacer",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg match-stat-spacer",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})})]}),g=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"match-stat-wrapper__tab-row__title__icon",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-circle"})}),t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})]}),ot=3,D=5,lt=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"match-stat-wrapper__tab-row",children:[t.jsx("div",{className:"match-stat-col match-stat-col-sm match-stat-team-tab",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg"}),t.jsx("div",{className:"match-stat-col match-stat-col-lg",children:d(D).map(a=>t.jsx("div",{className:"match-stat-cube",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})},a))})]}),d(2).map(a=>t.jsxs("div",{className:"match-stat-wrapper__tab-row match-stat-wrapper__tab-result",children:[t.jsx("div",{className:"match-stat-col match-stat-col-sm",children:t.jsx(g,{})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg",children:d(D).map(s=>t.jsx("div",{className:"match-stat-cube",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})},s))}),t.jsxs("div",{className:"match-stat-col match-stat-col-lg",children:[d(ot).map(s=>t.jsx("div",{className:"match-stat-cube",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})},s)),t.jsx("div",{className:"match-stat-cube",children:t.jsx("div",{className:"match-stat-result match-stat-result-bordered",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})})}),a===0&&t.jsx("div",{className:"match-stat-cube",children:t.jsx("div",{className:"match-stat-result match-stat-result-bordered match-stat-result-extra",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})})})]})]},a))]}),nt=5,it=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"match-stat-wrapper__tab-row",children:[t.jsx("div",{className:"match-stat-col match-stat-col-sm",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg match-stat-spacer",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg",children:d(2).map(a=>t.jsx("div",{className:"match-stat-cube",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})},a))})]}),d(2).map(a=>t.jsxs("div",{className:"match-stat-wrapper__tab-row match-stat-wrapper__tab-result",children:[t.jsx("div",{className:"match-stat-col match-stat-col-sm",children:t.jsx(g,{})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg",children:d(nt).map(s=>t.jsx("div",{className:"match-stat-cube",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})},s))}),t.jsx("div",{className:"match-stat-col match-stat-col-lg",children:d(2).map(s=>t.jsx("div",{className:"match-stat-cube",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})},s))})]},a))]}),A=3,mt=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"match-stat-wrapper__tab-row",children:t.jsx("div",{className:"match-stat-col",children:t.jsx(g,{})})}),t.jsxs("div",{className:"match-stat-wrapper__tab-row",children:[t.jsx("div",{className:"match-stat-col match-stat-col-sm match-stat-team-tab",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg",children:d(A).map(a=>t.jsx("div",{className:"match-stat-cube",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})},a))}),t.jsx("div",{className:"match-stat-col match-stat-col-lg match-stat-spacer",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})})]}),d(2).map(a=>t.jsxs("div",{className:"match-stat-wrapper__tab-row match-stat-wrapper__tab-result",children:[t.jsx("div",{className:"match-stat-col match-stat-col-sm",children:t.jsx(g,{})}),t.jsx("div",{className:"match-stat-col match-stat-col-lg",children:d(A).map(s=>t.jsx("div",{className:"match-stat-cube",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-sm"})},s))}),t.jsx("div",{className:"match-stat-col match-stat-col-lg match-stat-spacer",children:t.jsx(l.Button,{active:!0,className:"match-stat-wrapper__tab-row__skeleton-lg"})})]},a))]});j.IS_RTL&&G(()=>Promise.resolve({}),["assets/rtl17.css"]);const ht=()=>t.jsxs(t.Fragment,{children:[t.jsx(rt,{}),t.jsx(lt,{}),t.jsx(mt,{}),t.jsx(it,{})]});const{MatchStatisticPopover:_t}=K(()=>G(()=>import("./index.861b9d3f.js"),["chunks/index.861b9d3f.js","chunks/i18next.083d61f0.js","chunks/index.9a33d21b.js","chunks/app-data.3313f084.js","chunks/index.fbd937ed.js","chunks/backend-status-codes.4c1943df.js","chunks/create-test-id.17a0abc8.js","chunks/create-fake-array.68114bc4.js","chunks/index.17630e7e.js","chunks/useTranslation.70287e96.js","chunks/context.f61a2be2.js","chunks/new-sportsbook.6886dfa1.js","chunks/index.fcc8b535.js","chunks/useMounted.6d9c5610.js","chunks/new-sportsbook.1752e123.js","chunks/index.2e7649fa.js","chunks/swarm-command-names.afa48e3f.js","chunks/useDispatch.151d3a82.js","chunks/index.27fc0452.js","chunks/toConsumableArray.635ccf3f.js","chunks/placements.2094afc0.js","chunks/index.7d5f88f7.js","chunks/lazy.73833dcd.js","chunks/usePredefinedStakes.892527de.js","chunks/odds.3bca0cb7.js","chunks/socket.c1bf8301.js","chunks/batch.dcd71b53.js","chunks/user-data.358c1cdc.js","chunks/index.9e499441.js","chunks/index.9c369ab9.js","chunks/styled-components.browser.esm.04179a03.js"])),Rt=Y(({matchId:a,showStatisticInPopover:s=!0,size:c,iconContainerSize:e,className:n=""})=>{const[i]=R(`popover-trigger-${Math.floor(Math.random()*V)}`),[_,o]=R(null),{mounted:r}=at();E(()=>{if(s&&!f()&&r.current){const p=()=>{o(et(i))};return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}}},[r.current]),E(()=>()=>{o(null)},[]);const m=q(p=>{p.stopPropagation(),window.open(`${j.STATISTICS_URL}/#/${j.STATISTICS_LANG_PREFIX}/external/page/redirect/${a}`)},[]),h=z(()=>t.jsx(H,{className:n,iconContainerSize:e,icon:t.jsx(tt,{lib:"generic",name:"statistics",theme:"default",className:J(["match-statistic",{"match-statistic-mobile":f()}]),onClick:m,size:c,"data-popover-trigger":i})}),[]);return!s||f()||!_?h:t.jsx(X,{destroyTooltipOnHide:!0,trigger:"hover",overlayClassName:"match-statistic-popover",placement:_,content:t.jsx(W,{fallback:t.jsx(ht,{}),children:t.jsx(_t,{matchId:a})}),children:h})});export{w as E,Rt as M,Ct as a,ht as b,Ot as f,kt as g};
