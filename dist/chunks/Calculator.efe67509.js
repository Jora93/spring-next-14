(function(){"use strict";try{if(typeof document!="undefined"){var t=document.createElement("style");t.appendChild(document.createTextNode(".systemCalculator{padding:24px;height:calc(100% - 48px);display:flex;flex-direction:column;overflow:auto}.systemCalculator__button{flex:1;align-items:flex-end;display:flex}.systemCalculator__button button{border-radius:6px}.systemCalculator__stakeContainer{display:flex;justify-content:space-between;gap:8px;margin-bottom:16px}.systemCalculator__stakeContainer>div{flex:1}.systemCalculator__stakeContainer .x-select{margin:0}.systemCalculator__combinationsInput input{height:40px!important;border-radius:6px}.systemCalculator__events{max-height:265px;min-height:120px;overflow:auto;display:flex;padding:16px 16px 0;flex-direction:column;align-items:flex-start;align-self:stretch;border-radius:10px;border:2px solid var(--v3-primary-4);background:var(--v3-black-0)}.systemCalculator__events::-webkit-scrollbar-track-piece{margin:5px 0}.systemCalculator__events--inputContainer{display:flex;align-items:center;gap:8px}.systemCalculator__events__item{width:100%;display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.systemCalculator__events__item--mobile .systemCalculator__events__item__icon--container{gap:24px}.systemCalculator__events__item__index{color:var(--v3-text-color);font-weight:600;min-width:27px}.systemCalculator__events__item__input{display:flex;width:117px;margin-bottom:0!important;align-items:center;gap:8px;border-radius:6px;background:var(--v3-black-4)}.systemCalculator__events__item__input input{border:none;background:var(--v3-black-4)!important;color:var(--v3-primary-6)!important;border-radius:6px;height:36px}.systemCalculator__events__item__icon{height:32px;width:32px;padding:4px;justify-content:center;align-items:center;border-radius:8px;background:var(--v3-black-6);cursor:pointer}.systemCalculator__events__item__icon:hover{color:var(--v3-primary-5)}.systemCalculator__events__item__icon--container{display:flex;gap:32px}.systemCalculator__events__item__icon--active{color:var(--v3-primary-6)}.systemCalculator__results{color:var(--v3-text-color);margin-top:24px}.systemCalculator__results__item{display:flex;padding:8px 12px;height:40px;line-height:20px;justify-content:space-between;align-items:center;align-self:stretch;border-radius:6px;border:1px solid var(--v3-black-6);background:var(--v3-black-2)}.systemCalculator__results__item:not(:last-child){margin-bottom:8px}.systemCalculator__results__item__winning{color:var(--v3-primary-color)}.systemCalculator__results__item__value{font-weight:600}.systemCalculator__combinationsDropdown .rc-virtual-list-scrollbar-thumb{background:var(--v3-black-15)!important}.systemCalculator__combinationsDropdown .v3-select-selector{width:146px;height:40px!important;padding:0 12px!important;border-radius:6px!important}.systemCalculator__combinationsDropdown .v3-select-selector .v3-select-selection-item{line-height:38px!important}.systemCalculator__combinationsDropdown .v3-select-dropdown{padding:8px}.systemCalculator__combinationsDropdown .v3-select-dropdown .v3-select-item{line-height:30px;min-height:40px}.systemCalculator__modal{overflow:hidden}.systemCalculator__modal .modal__close-icon{cursor:pointer;margin:0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
var G=Object.defineProperty,X=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var $=(s,a,n)=>a in s?G(s,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[a]=n,A=(s,a)=>{for(var n in a||(a={}))J.call(a,n)&&$(s,n,a[n]);if(B)for(var n of B(a))K.call(a,n)&&$(s,n,a[n]);return s},O=(s,a)=>X(s,H(a));import{j as t,i as U,S as P,v as q}from"./index.053dea56.js";import{useState as _,useEffect as T,useMemo as R}from"react";import{p as L,o as j,B as C}from"./usePredefinedStakes.58f7290f.js";import{c as Q}from"./create-fake-array.68114bc4.js";import{aW as Z,aF as z,a7 as Y}from"./index.c0392060.js";import{G as k,v as tt}from"./app-data.da3833f4.js";import{I as W}from"./index.84d856cd.js";import{u as D}from"./useTranslation.70287e96.js";import{a as st}from"./index.ee65228f.js";import{B as et}from"./index.9a56940c.js";import{S as at,O as nt}from"./index.536e01bf.js";import{u as it}from"./index.ffa75b49.js";var N=(s=>(s.WIN="win",s.LOSE="lose",s.DRAW="draw",s))(N||{});const lt=({bet:s,handleChanges:a})=>{const{t:n}=D(),[y,g]=_(),[u,m]=_(s.status),S=j?C+2:C,r=i=>{g(i),a(O(A({},s),{price:i}))},d=i=>{m(i),a(O(A({},s),{status:i}))};return T(()=>{m(s.status)},[s.status]),t.jsxs("div",{"data-testid":"calculator-events_options",className:`systemCalculator__events__item systemCalculator__events__item--${U()?"mobile":"desktop"}`,children:[t.jsxs("div",{className:"systemCalculator__events--inputContainer",children:[t.jsx("span",{className:"systemCalculator__events__item__index",children:s.index}),t.jsx(W,{"data-testid":"calculator-input",className:"systemCalculator__events__item__input",value:y||"",placeholder:n("account.odd"),onChange:i=>{if(i.target.value.length<=S){const E=Z(L(i.target.value,j)||"");r(`${E||""}`)}}})]}),t.jsxs("div",{className:"systemCalculator__events__item__icon--container",children:[t.jsx("div",{className:`systemCalculator__events__item__icon ${u==="win"?"systemCalculator__events__item__icon--active":""}`,onClick:()=>{d("win")},"data-testid":"icon-win",children:t.jsx(k,{lib:"account",size:24,name:"checkCircle",theme:"default"})}),t.jsx("div",{className:`systemCalculator__events__item__icon ${u==="lose"?"systemCalculator__events__item__icon--active":""}`,onClick:()=>{d("lose")},"data-testid":"icon-lose",children:t.jsx(k,{lib:"account",size:24,name:"closeCircle",theme:"default"})}),t.jsx("div",{className:`systemCalculator__events__item__icon ${u==="draw"?"systemCalculator__events__item__icon--active":""}`,onClick:()=>{d("draw")},"data-testid":"icon-draw",children:t.jsx(k,{lib:"account",size:24,name:"refreshCircle",theme:"default"})})]})]})},ot=16,I=2,f=3,ct=(()=>{const s=[];for(let a=3;a<=ot;a++)for(let n=2;n<=a;n++)n!==a&&s.push(`${n}/${a}`);return s})(),yt=()=>{const[s,a]=_(`${I}/${f}`),[n,y]=_(f),[g,u]=_(I),[m,S]=_(0),[r,d]=_([]),{t:i}=D(),E=it(tt),M=j?C+2:C,h=R(()=>{const e=(l,p)=>{let o=[],c,v,x;for(c=p,v=r.length;c<v;c++)x=l.slice(0),x.push(r[c]),x.length<g?o=o.concat(e(x,c+1)):o.push(x);return o};return e([],0)},[g,r,n]),b=z(q(+m,h.length),P.PRICE_SEPARATOR,void 0,E),V=R(()=>{if(+b==0)return 0;let e=0;h.forEach(p=>{let o=1;p.forEach(c=>{let v=c.price||0;c.status===N.DRAW&&(v=1),c.status===N.WIN&&(o*=+v),c.status===N.LOSE&&(o*=0)}),e+=o});const l=+m/h.length;return e=e*l,e.toFixed(2)},[h,m,r,b]);T(()=>{u(+s.split("/")[0])},[s]);const w=e=>{d(Q(e).map(l=>({price:1,name:`bet-${l+1}`,status:N.WIN,index:l+1})))};T(()=>{w(n)},[n,s]);const F=e=>{const l=r.findIndex(o=>o.name===e.name),p=JSON.parse(JSON.stringify(r));p[l]=e,d(p)};return t.jsxs("div",{className:"systemCalculator",children:[t.jsxs("div",{className:"systemCalculator__stakeContainer",children:[t.jsx(at,{"data-testid":"calculator-combinations",className:"systemCalculator__combinationsDropdown",size:"small",value:s,onSelect:e=>{a(e),y(+e.split("/")[1])},getPopupContainer:e=>e.parentElement||document.body,children:ct.map(e=>t.jsx(nt,{"data-testid":"calculator-combinations_option",value:e,selected:!0,children:e},e))}),t.jsx(W,{"data-testid":"calculator-combinations-input",className:"systemCalculator__combinationsInput",value:m||"",placeholder:i("account.totalStake"),onChange:e=>{if(e.target.value.length<=M){const l=Y(L(e.target.value,j)||"");S(l||0)}},maxLength:j?C+2:C})]}),t.jsx("div",{className:"systemCalculator__events",children:r.map(e=>t.jsx(lt,{bet:e,handleChanges:F},e.name))}),t.jsxs("div",{className:"systemCalculator__results",children:[t.jsxs("div",{className:"systemCalculator__results__item",children:[t.jsx("span",{children:i("betslip.combinations")}),t.jsx("span",{"data-testid":"combinations-value",className:"systemCalculator__results__item__value",children:h.length})]}),t.jsxs("div",{className:"systemCalculator__results__item",children:[t.jsx("span",{children:i("betslip.stakePerCombination")}),t.jsx("span",{"data-testid":"stake-per-combination-value",className:"systemCalculator__results__item__value",children:b})]}),t.jsxs("div",{className:"systemCalculator__results__item",children:[t.jsx("span",{children:i("betslip.winnings")}),t.jsx("span",{"data-testid":"winnings-value",className:"systemCalculator__results__item__winning systemCalculator__results__item__value",children:z(V,P.PRICE_SEPARATOR,void 0,E)})]})]}),t.jsx(st,{className:"systemCalculator__button",children:t.jsx(et,{"data-testid":"system-calculator-reset",type:"primary",size:"large",htmlType:"submit",onClick:()=>{y(f),u(I),a(`${I}/${f}`),S(0),w(f)},children:i("account.reset")})})]})};export{yt as C};
