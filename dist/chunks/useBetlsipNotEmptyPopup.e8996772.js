var K=Object.defineProperty;var w=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var _=(n,t,e)=>t in n?K(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,j=(n,t)=>{for(var e in t||(t={}))F.call(t,e)&&_(n,e,t[e]);if(w)for(var e of w(t))G.call(t,e)&&_(n,e,t[e]);return n};import{j as f,i as R,u as Z}from"./index.9a33d21b.js";import v,{useRef as N,useLayoutEffect as q,useState as B,useEffect as z}from"react";import V,{unstable_batchedUpdates as W}from"react-dom";import{i as X}from"./rtl.d50a3051.js";import{M as O,Z as Y}from"./app-data.3313f084.js";import{M as J,a as Q}from"./index.56325e35.js";import{B as M}from"./index.7d5f88f7.js";import{u as ee}from"./useTranslation.70287e96.js";var ne=function(t){var e=t.initValue,o=t.useHookBody,r=t.applyStateChange,l=N(e);if(typeof o!="function")throw new Error("function expected as hook body parameter. got "+typeof o);var i=o();return q(function(){l.current!==i&&(l.current=i,r(i))},[r,i]),null},T,P=V;T=P.createRoot,P.hydrateRoot;var C=function(t){console&&console.warn&&console.warn(t)},k=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,te=function(t){return W(t)},oe=function(t){if(k.document&&k.document.createElement){var e=k.document.createElement("div"),o=T(e);o.render(v.createElement(t,{automaticContainerInternalUseOnly:!0}))}else C("Can not mount SingletonHooksContainer on server side. Did you manage to run useEffect on server? Please mount SingletonHooksContainer into your components tree manually.")};function x(){return x=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},x.apply(this,arguments)}var re=1,S=!1,U=!1,h=[],m=[],y=function(){m.forEach(function(t){return t()})},ae=function(t){var e=t.automaticContainerInternalUseOnly,o=B([]),r=o[0],l=o[1],i=N();return i.current=r,!e&&S===!1&&(U=!0),z(function(){var s=!0;function a(){if(s){if(m[0]!==a){!e&&S===!0&&C("SingletonHooksContainer is mounted after some singleton hook has been used.Your SingletonHooksContainer will not be used in favor of internal one."),l(function(c){return[]});return}l([].concat(h))}}return m.push(a),y(),function(){s=!1,i.current.length>0&&C("SingletonHooksContainer is unmounted, but it has active singleton hooks. They will be reevaluated once SingletonHooksContainer is mounted again"),m.splice(m.indexOf(a),1),y()}},[e]),v.createElement(v.Fragment,null,r.map(function(s){var a=s.hook,c=s.key;return v.createElement(ne,x({},a,{key:c}))}))},ie=function(t){var e=re++;return h.push({hook:t,key:e}),m.length===0&&U===!1&&(S=!0,oe(ae)),y(),function(){h.splice(h.findIndex(function(o){return o.key===e}),1),y()}},se=function(t,e,o){o===void 0&&(o={});var r=!1,l=void 0,i=!1,s=void 0,a=[],c=o,E=c.unmountIfNoConsumers,D=E===void 0?!1:E,L=function(p){s=p,te(function(){return a.forEach(function(d){return d(p)})})},$=function(){return i||(s=typeof t=="function"?t():t,i=!0),s};return function(){var g=B($),p=g[0],d=g[1];return z(function(){return r||(r=!0,l=ie({initValue:t,useHookBody:e,applyStateChange:L})),a.push(d),s!==p&&d(s),function(){a.splice(a.indexOf(d),1),a.length===0&&D&&(l(),r=!1)}},[]),p}};const H=[];let u=H,I=n=>{var t;console.error(`you must usePopup before setting its state ${(t=n[0].id)!=null?t:""}`)},A=n=>{console.error(`you must usePopup before setting its state ${n}`)};const b=n=>{if(!u.length)return;const t=u==null?void 0:u.findIndex(o=>(o==null?void 0:o.id)===n),e=[...u];e.splice(t,1),I(e)};se(H,()=>{const[n,t]=B(H);return I=e=>{u=e,t(e)},A=e=>{var a;const o=n!=null&&n.length?(n==null?void 0:n.length)+1:1,r=(a=e.closable)!=null?a:!0,l=f.jsxs(J,{maxWidth:R()?"350px":"420px",title:e.title,visible:!0,closable:r,maskClosable:r,centered:!0,wrapperPadding:R()?O.MOBILE_12:O.DESKTOP_24,onCancel:()=>{b(o)},zIndex:Y,image:e.icon?j({},e.icon):{lib:"generic",name:"attentionGeneric",theme:"colored"},children:[f.jsx("div",{className:"modalText",children:f.jsx("span",{children:e.text})}),f.jsxs(Q,{children:[!!e.cancelBtn&&f.jsx(M,{type:"cancel",size:"large",onClick:()=>{var c;(c=e.cancelBtn)!=null&&c.onClick&&e.cancelBtn.onClick(),b(o)},children:e.cancelBtn.text}),f.jsx(M,{style:{[`margin${X?"Right":"Left"}`]:"8px"},type:"primary",size:"large",onClick:()=>{e.successBtn.onClick(),b(o)},children:e.successBtn.text})]})]},o),i={id:o,modal:l},s=n!=null&&n.length?[...n,i]:[i];I(s)},u=n,n});const le=n=>A(n),ye=()=>{const{t:n}=ee(),t=Z();return{showPopup:o=>{le({title:n("account.betslipIsNotEmpty"),text:n("account.eventsInBetSlip"),successBtn:{text:n("account.replace"),onClick:o},cancelBtn:{text:n("account.cancel"),onClick:()=>{const r=new URLSearchParams(window.location.search);r.has("booking_id")&&(r.delete("booking_id"),t.replace({search:r.toString()}))}},closable:!1})}}};export{le as m,ye as u};
