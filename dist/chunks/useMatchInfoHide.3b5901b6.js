var z=Object.defineProperty,C=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var X=(e,a,r)=>a in e?z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,y=(e,a)=>{for(var r in a||(a={}))K.call(a,r)&&X(e,r,a[r]);if(x)for(var r of x(a))Q.call(a,r)&&X(e,r,a[r]);return e},b=(e,a)=>C(e,F(a));import Y,{useState as Z,useRef as A,useEffect as U}from"react";import{a5 as f,S as ee}from"./index.9a33d21b.js";import{P as te}from"./private-competitions.91107fbb.js";import{a as j}from"./live-games-helper.ab98b608.js";import{a as ne}from"./usePredefinedStakes.892527de.js";import{u as ae}from"./useSbRouteMatch.ecfb9430.js";import{H as re,z as oe,W as I,X as H,L as G}from"./game-data.f991b97b.js";import{g as ie}from"./user-data.358c1cdc.js";import{u as ue}from"./useTranslation.70287e96.js";import{u as ce}from"./useDispatch.151d3a82.js";import{u as R}from"./index.17630e7e.js";function v(){return v=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u])}return e},v.apply(this,arguments)}function se(e,a){e.prototype=Object.create(a.prototype),e.prototype.constructor=e,e.__proto__=a}var fe={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},L={xy:[0,0],swiping:!1,eventData:void 0,start:void 0},le="Left",ve="Right",de="Up",he="Down",me="touchstart",pe="touchmove",Se="touchend",J="mousemove",B="mouseup";function ge(e,a,r,u){return e>a?r>0?le:ve:u>0?de:he}function V(e,a){if(a===0)return e;var r=Math.PI/180*a,u=e[0]*Math.cos(r)+e[1]*Math.sin(r),c=e[1]*Math.cos(r)-e[0]*Math.sin(r);return[u,c]}function Te(e,a){var r=function(t){t.touches&&t.touches.length>1||e(function(o,i){i.trackMouse&&(document.addEventListener(J,u),document.addEventListener(B,T));var n=t.touches?t.touches[0]:t,s=n.clientX,m=n.clientY,p=V([s,m],i.rotationAngle);return v({},o,L,{eventData:{initial:[].concat(p),first:!0},xy:p,start:t.timeStamp||0})})},u=function(t){e(function(o,i){if(!o.xy[0]||!o.xy[1]||t.touches&&t.touches.length>1)return o;var n=t.touches?t.touches[0]:t,s=n.clientX,m=n.clientY,p=V([s,m],i.rotationAngle),D=p[0],E=p[1],_=o.xy[0]-D,k=o.xy[1]-E,M=Math.abs(_),w=Math.abs(k),$=(t.timeStamp||0)-o.start,q=Math.sqrt(M*M+w*w)/($||1);if(M<i.delta&&w<i.delta&&!o.swiping)return o;var N=ge(M,w,_,k),O=v({},o.eventData,{event:t,absX:M,absY:w,deltaX:_,deltaY:k,velocity:q,dir:N});i.onSwiping&&i.onSwiping(O);var P=!1;return(i.onSwiping||i.onSwiped||i["onSwiped"+N])&&(P=!0),P&&i.preventDefaultTouchmoveEvent&&i.trackTouch&&t.cancelable&&t.preventDefault(),v({},o,{eventData:v({},O,{first:!1}),swiping:!0})})},c=function(t){e(function(o,i){var n;return o.swiping&&(n=v({},o.eventData,{event:t}),i.onSwiped&&i.onSwiped(n),i["onSwiped"+n.dir]&&i["onSwiped"+n.dir](n)),v({},o,L,{eventData:n})})},S=function(){document.removeEventListener(J,u),document.removeEventListener(B,T)},T=function(t){S(),c(t)},h=function(t){if(t&&t.addEventListener){var o=[[me,r],[pe,u],[Se,c]];return o.forEach(function(i){var n=i[0],s=i[1];return t.addEventListener(n,s)}),function(){return o.forEach(function(i){var n=i[0],s=i[1];return t.removeEventListener(n,s)})}}},g=function(t){t!==null&&e(function(o,i){if(o.el===t)return o;var n={};return o.el&&o.el!==t&&o.cleanUpTouch&&(o.cleanUpTouch(),n.cleanUpTouch=null),i.trackTouch&&t&&(n.cleanUpTouch=h(t)),v({},o,{el:t},n)})},d={ref:g};return a.trackMouse&&(d.onMouseDown=r),[d,h]}function _e(e,a,r){var u={};return!a.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),u.cleanUpTouch=null):a.trackTouch&&!e.cleanUpTouch&&e.el&&(u.cleanUpTouch=r(e.el)),v({},e,u)}var W=function(e){se(a,e);function a(u){var c;return c=e.call(this,u)||this,c._set=function(S){c.transientState=S(c.transientState,c.props)},c.transientState=v({},L,{type:"class"}),c}var r=a.prototype;return r.render=function(){var c=this.props,S=c.className,T=c.style,h=c.nodeName,g=h===void 0?"div":h,d=c.innerRef,l=c.children,t=c.trackMouse,o=Te(this._set,{trackMouse:t}),i=o[0],n=o[1];this.transientState=_e(this.transientState,this.props,n);var s=d?function(m){return d(m),i.ref(m)}:i.ref;return Y.createElement(g,v({},i,{className:S,style:T,ref:s}),l)},a}(Y.PureComponent);W.propTypes={onSwiped:f.func,onSwiping:f.func,onSwipedUp:f.func,onSwipedRight:f.func,onSwipedDown:f.func,onSwipedLeft:f.func,delta:f.number,preventDefaultTouchmoveEvent:f.bool,nodeName:f.string,trackMouse:f.bool,trackTouch:f.bool,innerRef:f.func,rotationAngle:f.number};W.defaultProps=fe;const Oe=({game:e})=>{const{t:a}=ue(),{params:r}=ae(),u=ce(),c=R(ie),S=ne(r.game),[T,h]=Z(),g=R(re),d=A(g),l=R(oe),t=A(l),o=()=>{d.current.disable&&(u(H({disable:!1,previous:0})),j(d.current.previous),u(G(d.current.previous)))};return U(()=>{d.current=g},[g]),U(()=>{t.current=l},[l]),U(()=>{if(!r.game||S===r.game||!Object.keys(e||{}).length||c){h(e),u(I(!1)),o();return}const i=te[ee.JURISDICTION];if(i&&i.includes(Number(r.competition))){const n=JSON.parse(JSON.stringify(e));n&&(n.text_info=a("sportsbook.signInStatistics"),e!=null&&e.stats&&Object.keys(e.stats).forEach(s=>{var m,p,D,E,_;n.stats[s]={team1_value:"-",team2_value:"-",add_info:null,attack:b(y({},((m=n.stats[s])==null?void 0:m.attack)||{}),{team1_value:"-",team2_value:"-"}),dangerous_attack:b(y({},((p=n.stats[s])==null?void 0:p.dangerous_attack)||{}),{team1_value:"-",team2_value:"-"}),foul:b(y({},((D=n.stats[s])==null?void 0:D.foul)||{}),{team1_value:"-",team2_value:"-"}),aces:b(y({},((E=n.stats[s])==null?void 0:E.aces)||{}),{team1_value:"-",team2_value:"-"}),double_fault:b(y({},((_=n.stats[s])==null?void 0:_.double_fault)||{}),{team1_value:"-",team2_value:"-"})}}),n.info&&(n.info.pass_team="none",n.info.score1="-",n.info.score2="-",n.info.current_game_state=""),h(n),u(I(!0)),!d.current.disable&&u(H({disable:!0,previous:t.current})),j(0),u(G(0)))}else u(I(!1)),h(e),o()},[r,e,c]),T};export{W as S,Oe as u};
